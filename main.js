!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=2)}([function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=47)}([function(t,e,n){"use strict";var r=n(59);t.exports={version:r.version,audio:null,active_metadata:{},active_album:"",active_index:0,active_playlist:null,playback_speed:1,callbacks:{},songs:[],playlists:{},start_song:"",starting_playlist:"",starting_playlist_song:"",repeat:!1,repeat_song:!1,shuffle_list:{},shuffle_on:!1,default_album_art:"",default_playlist_art:"",debug:!1,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,soundcloud_client:"",soundcloud_use_art:!1,soundcloud_song_count:0,soundcloud_songs_ready:0,is_touch_moving:!1,buffered:0,bindings:{},continue_next:!0,delay:0,player_state:"stopped",web_audio_api_available:!1,context:null,source:null,analyser:null,visualizations:{available:[],active:[],backup:""},waveforms:{sample_rate:100,built:[]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=(o(n(5)),o(n(3)),o(n(2)),o(n(7)),o(n(9))),a=o(n(4)),s=o(n(16));function o(t){return t&&t.__esModule?t:{default:t}}var $=function(){function t(){r.default.audio=new Audio,r.default.audio.src="",r.default.audio.load()}function e(){r.default.audio=new Audio,r.default.audio.src=r.default.active_metadata.url,r.default.audio.load()}return{play:function(){s.default.stop(),s.default.run(),r.default.active_metadata.live&&e(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!r.default.paused&&e();var t=r.default.audio.play();void 0!==t&&t.then((function(t){})).catch((function(t){})),r.default.audio.play(),r.default.audio.playbackRate=r.default.playback_speed},pause:function(){s.default.stop(),r.default.audio.pause(),r.default.paused=!0,r.default.active_metadata.live&&t()},stop:function(){s.default.stop(),0!=r.default.audio.currentTime&&(r.default.audio.currentTime=0),r.default.audio.pause(),r.default.active_metadata.live&&t(),i.default.run("stop")},setVolume:function(t){r.default.audio.muted=0==t,r.default.volume=t,r.default.audio.volume=t/100},setSongLocation:function(t){r.default.active_metadata.live||(r.default.audio.currentTime=r.default.audio.duration*(t/100))},skipToLocation:function(t){r.default.audio.addEventListener("canplaythrough",(function(){r.default.audio.duration>=t&&t>0?r.default.audio.currentTime=t:a.default.writeMessage("Amplitude can't skip to a location greater than the duration of the audio or less than 0")}),{once:!0})},disconnectStream:t,reconnectStream:e,setPlaybackSpeed:function(t){r.default.playback_speed=t,r.default.audio.playbackRate=r.default.playback_speed}}}();e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=function(){function t(){for(var t=a.default.audio.paused?"paused":"playing",e=document.querySelectorAll(".amplitude-play-pause"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),o=e[n].getAttribute("data-amplitude-song-index");if(null==r&&null==o)switch(t){case"playing":i(e[n]);break;case"paused":s(e[n])}}}function e(){for(var t=a.default.audio.paused?"paused":"playing",e=document.querySelectorAll('.amplitude-play-pause[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)if(null==e[n].getAttribute("data-amplitude-song-index"))switch(t){case"playing":i(e[n]);break;case"paused":s(e[n])}}function n(){for(var t=a.default.audio.paused?"paused":"playing",e=document.querySelectorAll('.amplitude-play-pause[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)if(null==e[n].getAttribute("data-amplitude-playlist"))switch(t){case"playing":i(e[n]);break;case"paused":s(e[n])}}function r(){for(var t=a.default.audio.paused?"paused":"playing",e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-play-pause[data-amplitude-song-index="'+e+'"][data-amplitude-playlist="'+a.default.active_playlist+'"]'),r=0;r<n.length;r++)switch(t){case"playing":i(n[r]);break;case"paused":s(n[r])}}function i(t){t.classList.add("amplitude-playing"),t.classList.remove("amplitude-paused")}function s(t){t.classList.remove("amplitude-playing"),t.classList.add("amplitude-paused")}return{sync:function(){t(),e(),n(),r()},syncGlobal:t,syncPlaylist:e,syncSong:n,syncSongInPlaylist:r,syncToPause:function(){for(var t=document.querySelectorAll(".amplitude-play-pause"),e=0;e<t.length;e++)s(t[e])}}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(0)),i=_(n(1)),a=_(n(9)),s=_(n(5)),o=_(n(2)),$=_(n(14)),l=_(n(20)),u=_(n(15)),c=_(n(7)),d=_(n(49)),f=_(n(22));function _(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(t),f.default.destroyAudioBindings(),r.default.audio=new Audio(t.url),f.default.rebindAudio(),a.default.initialize(),r.default.audio.src=t.url,r.default.active_metadata=t,r.default.active_album=t.album,r.default.active_index=parseInt(e),_(i)}function e(t,e,i){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(e),f.default.destroyAudioBindings(),r.default.audio=new Audio,f.default.rebindAudio(),a.default.initialize(),r.default.audio.src=e.url,r.default.active_metadata=e,r.default.active_album=e.album,r.default.active_index=null,r.default.playlists[t].active_index=parseInt(i),_(s)}function n(t){i.default.stop(),o.default.syncToPause(),$.default.resetElements(),l.default.resetElements(),u.default.resetCurrentTimes(),s.default.newAlbum(t)&&a.default.run("album_change")}function _(t){c.default.displayMetaData(),d.default.setActive(t),u.default.resetDurationTimes(),a.default.run("song_change")}function p(t){r.default.active_playlist!=t&&(a.default.run("playlist_changed"),r.default.active_playlist=t,null!=t&&(r.default.playlists[t].active_index=0))}return{setNext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=null,s={},$=!1;r.default.repeat_song?r.default.shuffle_on?(n=r.default.shuffle_list[r.default.active_index].index,s=r.default.shuffle_list[n]):(n=r.default.active_index,s=r.default.songs[n]):r.default.shuffle_on?(parseInt(r.default.active_index)+1<r.default.shuffle_list.length?n=parseInt(r.default.active_index)+1:(n=0,$=!0),s=r.default.shuffle_list[n]):(parseInt(r.default.active_index)+1<r.default.songs.length?n=parseInt(r.default.active_index)+1:(n=0,$=!0),s=r.default.songs[n]),t(s,n),$&&!r.default.repeat||e&&!r.default.repeat&&$||i.default.play(),o.default.sync(),a.default.run("next"),r.default.repeat_song&&a.default.run("song_repeated")},setNextPlaylist:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null,$={},l=!1;r.default.repeat_song?r.default.playlists[t].shuffle?(s=r.default.playlists[t].active_index,$=r.default.playlists[t].shuffle_list[s]):(s=r.default.playlists[t].active_index,$=r.default.playlists[t].songs[s]):r.default.playlists[t].shuffle?(parseInt(r.default.playlists[t].active_index)+1<r.default.playlists[t].shuffle_list.length?s=r.default.playlists[t].active_index+1:(s=0,l=!0),$=r.default.playlists[t].shuffle_list[s]):(parseInt(r.default.playlists[t].active_index)+1<r.default.playlists[t].songs.length?s=parseInt(r.default.playlists[t].active_index)+1:(s=0,l=!0),$=r.default.playlists[t].songs[s]),p(t),e(t,$,s),l&&!r.default.repeat||n&&!r.default.repeat&&l||i.default.play(),o.default.sync(),a.default.run("next"),r.default.repeat_song&&a.default.run("song_repeated")},setPrevious:function(){var e=null,n={};r.default.repeat_song?r.default.shuffle_on?(e=r.default.active_index,n=r.default.shuffle_list[e]):(e=r.default.active_index,n=r.default.songs[e]):(e=parseInt(r.default.active_index)-1>=0?parseInt(r.default.active_index-1):parseInt(r.default.songs.length-1),n=r.default.shuffle_on?r.default.shuffle_list[e]:r.default.songs[e]),t(n,e),i.default.play(),o.default.sync(),a.default.run("prev"),r.default.repeat_song&&a.default.run("song_repeated")},setPreviousPlaylist:function(t){var n=null,s={};r.default.repeat_song?r.default.playlists[t].shuffle?(n=r.default.playlists[t].active_index,s=r.default.playlists[t].shuffle_list[n]):(n=r.default.playlists[t].active_index,s=r.default.playlists[t].songs[n]):(n=parseInt(r.default.playlists[t].active_index)-1>=0?parseInt(r.default.playlists[t].active_index-1):parseInt(r.default.playlists[t].songs.length-1),s=r.default.playlists[t].shuffle?r.default.playlists[t].shuffle_list[n]:r.default.playlists[t].songs[n]),p(t),e(t,s,n),i.default.play(),o.default.sync(),a.default.run("prev"),r.default.repeat_song&&a.default.run("song_repeated")},changeSong:t,changeSongPlaylist:e,setActivePlaylist:p}}();e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={writeMessage:function(t){a.default.debug&&console.log(t)}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={newSong:function(t,e){return a.default.active_playlist!=t||(null==a.default.active_playlist&&null==t?a.default.active_index!=e:a.default.active_playlist==t&&a.default.playlists[t].active_index!=e)},newAlbum:function(t){return a.default.active_album!=t},newPlaylist:function(t){return a.default.active_playlist!=t},isURL:function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},isInt:function(t){return!isNaN(t)&&parseInt(Number(t))==t&&!isNaN(parseInt(t,10))}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={resetConfig:function(){a.default.audio=new Audio,a.default.active_metadata={},a.default.active_album="",a.default.active_index=0,a.default.active_playlist=null,a.default.playback_speed=1,a.default.callbacks={},a.default.songs=[],a.default.playlists={},a.default.start_song="",a.default.starting_playlist="",a.default.starting_playlist_song="",a.default.repeat=!1,a.default.shuffle_list={},a.default.shuffle_on=!1,a.default.default_album_art="",a.default.default_playlist_art="",a.default.debug=!1,a.default.volume=.5,a.default.pre_mute_volume=.5,a.default.volume_increment=5,a.default.volume_decrement=5,a.default.soundcloud_client="",a.default.soundcloud_use_art=!1,a.default.soundcloud_song_count=0,a.default.soundcloud_songs_ready=0,a.default.continue_next=!0},setPlayerState:function(){a.default.audio.paused&&0==a.default.audio.currentTime&&(a.default.player_state="stopped"),a.default.audio.paused&&a.default.audio.currentTime>0&&(a.default.player_state="paused"),a.default.audio.paused||(a.default.player_state="playing")}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=function(){function t(){for(var t=["image_url"],e=document.querySelectorAll("[data-amplitude-playlist-info]"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist-info"),i=e[n].getAttribute("data-amplitude-playlist");null!=a.default.playlists[i][r]?t.indexOf(r)>=0?e[n].setAttribute("src",a.default.playlists[i][r]):e[n].innerHTML=a.default.playlists[i][r]:t.indexOf(r)>=0?""!=a.default.default_playlist_art?e[n].setAttribute("src",a.default.default_playlist_art):e[n].setAttribute("src",""):e[n].innerHTML=""}}return{displayMetaData:function(){for(var t=["cover_art_url","station_art_url","podcast_episode_cover_art_url"],e=document.querySelectorAll("[data-amplitude-song-info]"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-song-info"),i=e[n].getAttribute("data-amplitude-playlist"),s=e[n].getAttribute("data-amplitude-song-index");if(null==s&&(a.default.active_playlist==i||null==i&&null==s)){var o=null!=a.default.active_metadata[r]?a.default.active_metadata[r]:null;t.indexOf(r)>=0?(o=o||a.default.default_album_art,e[n].setAttribute("src",o)):(o=o||"",e[n].innerHTML=o)}}},setFirstSongInPlaylist:function(t,e){for(var n=["cover_art_url","station_art_url","podcast_episode_cover_art_url"],r=document.querySelectorAll('[data-amplitude-song-info][data-amplitude-playlist="'+e+'"]'),i=0;i<r.length;i++){var a=r[i].getAttribute("data-amplitude-song-info");r[i].getAttribute("data-amplitude-playlist")==e&&(null!=t[a]?n.indexOf(a)>=0?r[i].setAttribute("src",t[a]):r[i].innerHTML=t[a]:n.indexOf(a)>=0?""!=t.default_album_art?r[i].setAttribute("src",t.default_album_art):r[i].setAttribute("src",""):r[i].innerHTML="")}},syncMetaData:function(){for(var e=["cover_art_url","station_art_url","podcast_episode_cover_art_url"],n=document.querySelectorAll("[data-amplitude-song-info]"),r=0;r<n.length;r++){var i=n[r].getAttribute("data-amplitude-song-index"),s=n[r].getAttribute("data-amplitude-playlist");if(null!=i&&null==s){var o=n[r].getAttribute("data-amplitude-song-info"),$=null!=a.default.songs[i][o]?a.default.songs[i][o]:null;e.indexOf(o)>=0?($=$||a.default.default_album_art,n[r].setAttribute("src",$)):n[r].innerHTML=$}if(null!=i&&null!=s){var l=n[r].getAttribute("data-amplitude-song-info");null!=a.default.playlists[s].songs[i][l]&&(e.indexOf(l)>=0?n[r].setAttribute("src",a.default.playlists[s].songs[i][l]):n[r].innerHTML=a.default.playlists[s].songs[i][l])}}t()},displayPlaylistMetaData:t}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={syncRepeat:function(){for(var t=document.getElementsByClassName("amplitude-repeat"),e=0;e<t.length;e++)a.default.repeat?(t[e].classList.add("amplitude-repeat-on"),t[e].classList.remove("amplitude-repeat-off")):(t[e].classList.remove("amplitude-repeat-on"),t[e].classList.add("amplitude-repeat-off"))},syncRepeatPlaylist:function(t){for(var e=document.getElementsByClassName("amplitude-repeat"),n=0;n<e.length;n++)e[n].getAttribute("data-amplitude-playlist")==t&&(a.default.playlists[t].repeat?(e[n].classList.add("amplitude-repeat-on"),e[n].classList.remove("amplitude-repeat-off")):(e[n].classList.add("amplitude-repeat-off"),e[n].classList.remove("amplitude-repeat-on")))},syncRepeatSong:function(){for(var t=document.getElementsByClassName("amplitude-repeat-song"),e=0;e<t.length;e++)a.default.repeat_song?(t[e].classList.add("amplitude-repeat-song-on"),t[e].classList.remove("amplitude-repeat-song-off")):(t[e].classList.remove("amplitude-repeat-song-on"),t[e].classList.add("amplitude-repeat-song-off"))}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(t){if(r.default.callbacks[t]){var e=r.default.callbacks[t];i.default.writeMessage("Running Callback: "+t);try{e()}catch(t){if("CANCEL EVENT"==t.message)throw t;i.default.writeMessage("Callback error: "+t.message)}}}return{initialize:function(){r.default.audio.addEventListener("abort",(function(){t("abort")})),r.default.audio.addEventListener("error",(function(){t("error")})),r.default.audio.addEventListener("loadeddata",(function(){t("loadeddata")})),r.default.audio.addEventListener("loadedmetadata",(function(){t("loadedmetadata")})),r.default.audio.addEventListener("loadstart",(function(){t("loadstart")})),r.default.audio.addEventListener("pause",(function(){t("pause")})),r.default.audio.addEventListener("playing",(function(){t("playing")})),r.default.audio.addEventListener("play",(function(){t("play")})),r.default.audio.addEventListener("progress",(function(){t("progress")})),r.default.audio.addEventListener("ratechange",(function(){t("ratechange")})),r.default.audio.addEventListener("seeked",(function(){t("seeked")})),r.default.audio.addEventListener("seeking",(function(){t("seeking")})),r.default.audio.addEventListener("stalled",(function(){t("stalled")})),r.default.audio.addEventListener("suspend",(function(){t("suspend")})),r.default.audio.addEventListener("timeupdate",(function(){t("timeupdate")})),r.default.audio.addEventListener("volumechange",(function(){t("volumechange")})),r.default.audio.addEventListener("waiting",(function(){t("waiting")})),r.default.audio.addEventListener("canplay",(function(){t("canplay")})),r.default.audio.addEventListener("canplaythrough",(function(){t("canplaythrough")})),r.default.audio.addEventListener("durationchange",(function(){t("durationchange")})),r.default.audio.addEventListener("ended",(function(){t("ended")}))},run:t}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={setMuted:function(t){for(var e=document.getElementsByClassName("amplitude-mute"),n=0;n<e.length;n++)t?(e[n].classList.remove("amplitude-not-muted"),e[n].classList.add("amplitude-muted")):(e[n].classList.add("amplitude-not-muted"),e[n].classList.remove("amplitude-muted"))}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(){for(var t=document.getElementsByClassName("amplitude-volume-slider"),e=0;e<t.length;e++)t[e].value=100*a.default.audio.volume}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={setRepeat:function(t){a.default.repeat=t},setRepeatPlaylist:function(t,e){a.default.playlists[e].repeat=t},setRepeatSong:function(t){a.default.repeat_song=t}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=function(){function t(){for(var t=new Array(a.default.songs.length),e=0;e<a.default.songs.length;e++)t[e]=a.default.songs[e];for(var r=a.default.songs.length-1;r>0;r--)n(t,r,Math.floor(Math.random()*a.default.songs.length+1)-1);a.default.shuffle_list=t}function e(t){for(var e=new Array(a.default.playlists[t].songs.length),r=0;r<a.default.playlists[t].songs.length;r++)e[r]=a.default.playlists[t].songs[r];for(var i=a.default.playlists[t].songs.length-1;i>0;i--)n(e,i,Math.floor(Math.random()*a.default.playlists[t].songs.length+1)-1);a.default.playlists[t].shuffle_list=e}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}return{setShuffle:function(e){a.default.shuffle_on=e,e?t():a.default.shuffle_list=[]},toggleShuffle:function(){a.default.shuffle_on?(a.default.shuffle_on=!1,a.default.shuffle_list=[]):(a.default.shuffle_on=!0,t())},setShufflePlaylist:function(t,n){a.default.playlists[t].shuffle=n,a.default.playlists[t].shuffle?e(t):a.default.playlists[t].shuffle_list=[]},toggleShufflePlaylist:function(t){a.default.playlists[t].shuffle?(a.default.playlists[t].shuffle=!1,a.default.playlists[t].shuffle_list=[]):(a.default.playlists[t].shuffle=!0,e(t))},shuffleSongs:t,shufflePlaylistSongs:e}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=function(){function t(t){t=isNaN(t)?0:t;for(var e=document.querySelectorAll(".amplitude-song-slider"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].value=t)}}function e(t,e){t=isNaN(t)?0:t;for(var n=document.querySelectorAll('.amplitude-song-slider[data-amplitude-playlist="'+e+'"]'),r=0;r<n.length;r++){var i=n[r].getAttribute("data-amplitude-playlist"),a=n[r].getAttribute("data-amplitude-song-index");i==e&&null==a&&(n[r].value=t)}}function n(t,e){if(null==a.default.active_playlist){t=isNaN(t)?0:t;for(var n=document.querySelectorAll('.amplitude-song-slider[data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++){var i=n[r].getAttribute("data-amplitude-playlist"),s=n[r].getAttribute("data-amplitude-song-index");null==i&&s==e&&(n[r].value=t)}}}function r(t,e){t=isNaN(t)?0:t;for(var n=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,r=document.querySelectorAll('.amplitude-song-slider[data-amplitude-playlist="'+e+'"][data-amplitude-song-index="'+n+'"]'),i=0;i<r.length;i++)r[i].value=t}return{sync:function(i,a,s){t(i),e(i,a),n(i,s),r(i,a)},syncMain:t,syncPlaylist:e,syncSong:n,syncSongInPlaylist:r,resetElements:function(){for(var t=document.getElementsByClassName("amplitude-song-slider"),e=0;e<t.length;e++)t[e].value=0}}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(53)),i=d(n(50)),a=d(n(51)),s=d(n(52)),o=d(n(54)),$=d(n(55)),l=d(n(56)),u=d(n(57)),c=d(n(58));function d(t){return t&&t.__esModule?t:{default:t}}var f={resetCurrentTimes:function(){r.default.resetTimes(),i.default.resetTimes(),a.default.resetTimes(),s.default.resetTimes()},syncCurrentTimes:function(t){r.default.sync(t),i.default.sync(t.hours),a.default.sync(t.minutes),s.default.sync(t.seconds)},resetDurationTimes:function(){o.default.resetTimes(),$.default.resetTimes(),l.default.resetTimes(),u.default.resetTimes(),c.default.resetTimes()},syncDurationTimes:function(t,e){o.default.sync(t,e),c.default.sync(e),$.default.sync(e.hours),l.default.sync(e.minutes),u.default.sync(e.seconds)}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}i(n(4));var a=function(){function t(t){var e=r.default.visualization,n=null!=r.default.active_index?r.default.songs[r.default.active_index].visualization:r.default.playlists[r.default.active_playlist].songs[r.default.playlists[r.default.active_playlist].active_index].visualization;if(null!=n&&null!=r.default.visualizations.available[n])a(n,t);else if(null!=e&&null!=r.default.visualizations.available[e])a(e,t);else{var i=Object.keys(r.default.visualizations.available).length>0?Object.keys(r.default.visualizations.available)[0]:null;null!=i&&a(i,t)}}function e(t,e){if(e==r.default.active_playlist){var n=r.default.playlists[r.default.active_playlist].songs[r.default.playlists[r.default.active_playlist].active_index].visualization,i=r.default.playlists[r.default.active_playlist].visualization,s=r.default.visualization;if(null!=n&&null!=r.default.visualizations.available[n])a(n,t);else if(null!=i&&null!=r.default.visualizations.available[i])a(i,t);else if(null!=s&&null!=r.default.visualizations.available[s])a(s,t);else{var o=Object.keys(r.default.visualizations.available).length>0?Object.keys(r.default.visualizations.available)[0]:null;null!=o&&a(o,t)}}}function n(t,e){if(e==r.default.active_index){var n=r.default.songs[r.default.active_index].visualization,i=r.default.visualization;if(null!=n&&null!=r.default.visualizations.available[n])a(n,t);else if(null!=i&&null!=r.default.visualizations.available[i])a(i,t);else{var s=Object.keys(r.default.visualizations.available).length>0?Object.keys(r.default.visualizations.available)[0]:null;null!=s&&a(s,t)}}}function i(t,e,n){if(e==r.default.active_playlist&&r.default.playlists[e].active_index==n){var i=r.default.playlists[r.default.active_playlist].songs[r.default.playlists[r.default.active_playlist].active_index].visualization,s=r.default.playlists[r.default.active_playlist].visualization,o=r.default.visualization;if(null!=i&&null!=r.default.visualizations.available[i])a(i,t);else if(null!=s&&null!=r.default.visualizations.available[s])a(s,t);else if(null!=o&&null!=r.default.visualizations.available[o])a(o,t);else{var $=Object.keys(r.default.visualizations.available).length>0?Object.keys(r.default.visualizations.available)[0]:null;null!=$&&a($,t)}}}function a(t,e){var n=new r.default.visualizations.available[t].object;n.setPreferences(r.default.visualizations.available[t].preferences),n.startVisualization(e),r.default.visualizations.active.push(n)}function s(t,e){r.default.active_playlist==e&&(t.style.backgroundImage="url("+r.default.active_metadata.cover_art_url+")")}function o(t,e){r.default.active_index==e&&(t.style.backgroundImage="url("+r.default.active_metadata.cover_art_url+")")}function $(t,e,n){r.default.active_playlist==e&&r.default.playlists[active_playlist].active_index==n&&(t.style.backgroundImage="url("+r.default.active_metadata.cover_art_url+")")}return{run:function(){var a=document.querySelectorAll(".amplitude-visualization");if(r.default.web_audio_api_available){if(Object.keys(r.default.visualizations.available).length>0&&a.length>0)for(var l=0;l<a.length;l++){var u=a[l].getAttribute("data-amplitude-playlist"),c=a[l].getAttribute("data-amplitude-song-index");null==u&&null==c&&t(a[l]),null!=u&&null==c&&e(a[l],u),null==u&&null!=c&&n(a[l],c),null!=u&&null!=c&&i(a[l],u,c)}}else!function(){var t=document.querySelectorAll(".amplitude-visualization");if(t.length>0)for(var e=0;e<t.length;e++){var n=t[e].getAttribute("data-amplitude-playlist"),i=t[e].getAttribute("data-amplitude-song-index");null==n&&null==i&&(t[e].style.backgroundImage="url("+r.default.active_metadata.cover_art_url+")"),null!=n&&null==i&&s(t[e],n),null==n&&null!=i&&o(t[e],i),null!=n&&null!=i&&$(t[e],n,i)}}()},stop:function(){for(var t=0;t<r.default.visualizations.active.length;t++)r.default.visualizations.active[t].stopVisualization();r.default.visualizations.active=[]},register:function(t,e){var n=new t;r.default.visualizations.available[n.getID()]=new Array,r.default.visualizations.available[n.getID()].object=t,r.default.visualizations.available[n.getID()].preferences=e}}}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=a(n(21));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t={};function e(){SC.initialize({client_id:r.default.soundcloud_client}),function(){for(var t=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,e=0;e<r.default.songs.length;e++)r.default.songs[e].url.match(t)&&(r.default.soundcloud_song_count++,n(r.default.songs[e].url,e))}()}function n(e,n){SC.get("/resolve/?url="+e,(function(e){e.streamable?(r.default.songs[n].url=e.stream_url+"?client_id="+r.default.soundcloud_client,r.default.soundcloud_use_art&&(r.default.songs[n].cover_art_url=e.artwork_url),r.default.songs[n].soundcloud_data=e):AmplitudeHelpers.writeDebugMessage(r.default.songs[n].name+" by "+r.default.songs[n].artist+" is not streamable by the Soundcloud API"),r.default.soundcloud_songs_ready++,r.default.soundcloud_songs_ready==r.default.soundcloud_song_count&&i.default.setConfig(t)}))}return{loadSoundCloud:function(n){t=n;var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src="https://connect.soundcloud.com/sdk.js",i.onreadystatechange=e,i.onload=e,r.appendChild(i)},resolveIndividualStreamableURL:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];SC.get("/resolve/?url="+t,(function(t){t.streamable?null!=e?(r.default.playlists[e].songs[n].url=t.stream_url+"?client_id="+r.default.soundcloud_client,i&&(r.default.playlists[e].shuffle_list[n].url=t.stream_url+"?client_id="+r.default.soundcloud_client),r.default.soundcloud_use_art&&(r.default.playlists[e].songs[n].cover_art_url=t.artwork_url,i&&(r.default.playlists[e].shuffle_list[n].cover_art_url=t.artwork_url)),r.default.playlists[e].songs[n].soundcloud_data=t,i&&(r.default.playlists[e].shuffle_list[n].soundcloud_data=t)):(r.default.songs[n].url=t.stream_url+"?client_id="+r.default.soundcloud_client,i&&(r.default.shuffle_list[n].stream_url,r.default.soundcloud_client),r.default.soundcloud_use_art&&(r.default.songs[n].cover_art_url=t.artwork_url,i&&(r.default.shuffle_list[n].cover_art_url=t.artwork_url)),r.default.songs[n].soundcloud_data=t,i&&(r.default.shuffle_list[n].soundcloud_data=t)):null!=e?AmplitudeHelpers.writeDebugMessage(r.default.playlists[e].songs[n].name+" by "+r.default.playlists[e].songs[n].artist+" is not streamable by the Soundcloud API"):AmplitudeHelpers.writeDebugMessage(r.default.songs[n].name+" by "+r.default.songs[n].artist+" is not streamable by the Soundcloud API")}))},isSoundCloudURL:function(t){return t.match(/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/)}}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(){for(var t=document.getElementsByClassName("amplitude-playback-speed"),e=0;e<t.length;e++)switch(t[e].classList.remove("amplitude-playback-speed-10"),t[e].classList.remove("amplitude-playback-speed-15"),t[e].classList.remove("amplitude-playback-speed-20"),a.default.playback_speed){case 1:t[e].classList.add("amplitude-playback-speed-10");break;case 1.5:t[e].classList.add("amplitude-playback-speed-15");break;case 2:t[e].classList.add("amplitude-playback-speed-20")}}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={syncMain:function(){for(var t=document.getElementsByClassName("amplitude-shuffle"),e=0;e<t.length;e++)null==t[e].getAttribute("data-amplitude-playlist")&&(a.default.shuffle_on?(t[e].classList.add("amplitude-shuffle-on"),t[e].classList.remove("amplitude-shuffle-off")):(t[e].classList.add("amplitude-shuffle-off"),t[e].classList.remove("amplitude-shuffle-on")))},syncPlaylist:function(t){for(var e=document.querySelectorAll('.amplitude-shuffle[data-amplitude-playlist="'+t+'"]'),n=0;n<e.length;n++)a.default.playlists[t].shuffle?(e[n].classList.add("amplitude-shuffle-on"),e[n].classList.remove("amplitude-shuffle-off")):(e[n].classList.add("amplitude-shuffle-off"),e[n].classList.remove("amplitude-shuffle-on"))}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){if(!isNaN(t))for(var e=document.querySelectorAll(".amplitude-song-played-progress"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");if(null==r&&null==i){var a=e[n].max;e[n].value=t/100*a}}}(t),function(t){if(!isNaN(t))for(var e=document.querySelectorAll('.amplitude-song-played-progress[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)if(null==e[n].getAttribute("data-amplitude-song-index")){var r=e[n].max;e[n].value=t/100*r}}(t),function(t){if(null==a.default.active_playlist&&!isNaN(t))for(var e=document.querySelectorAll('.amplitude-song-played-progress[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)if(null==e[n].getAttribute("data-amplitude-playlist")){var r=e[n].max;e[n].value=t/100*r}}(t),function(t){if(!isNaN(t))for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-song-played-progress[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++){var i=n[r].getAttribute("data-amplitude-playlist"),s=n[r].getAttribute("data-amplitude-song-index");if(null!=i&&null!=s){var o=n[r].max;n[r].value=t/100*o}}}(t)},resetElements:function(){for(var t=document.getElementsByClassName("amplitude-song-played-progress"),e=0;e<t.length;e++)t[e].value=0}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=E(n(0)),a=E(n(1)),s=E(n(17)),o=E(n(6)),$=E(n(4)),l=E(n(5)),u=E(n(13)),c=E(n(22)),d=E(n(46)),f=E(n(16)),_=E(n(23)),p=E(n(3)),h=E(n(9)),y=E(n(48)),m=E(n(19)),g=E(n(10)),v=E(n(11)),b=E(n(15)),x=E(n(2)),w=E(n(7)),k=E(n(18)),A=E(n(8));function E(t){return t&&t.__esModule?t:{default:t}}var O=function(){function t(t){if(t.playlists&&n(t.playlists)>0&&y.default.initialize(t.playlists),0==i.default.songs.length&&!t.starting_playlist){var s=Object.keys(i.default.playlists)[0];p.default.changeSongPlaylist(s,i.default.playlists[s].songs[0],0)}null!=t.start_song&&t.starting_playlist?l.default.isInt(t.start_song)?p.default.changeSong(i.default.songs[t.start_song],t.start_song):$.default.writeMessage("You must enter an integer index for the start song."):i.default.songs.length>0&&p.default.changeSong(i.default.songs[0],0),i.default.songs.length>0&&null!=t.shuffle_on&&t.shuffle_on&&(i.default.shuffle_on=!0,u.default.shuffleSongs(),p.default.changeSong(i.default.shuffle_list[0],0)),i.default.continue_next=null==t.continue_next||t.continue_next,i.default.playback_speed=null!=t.playback_speed?t.playback_speed:1,a.default.setPlaybackSpeed(i.default.playback_speed),i.default.audio.preload=null!=t.preload?t.preload:"auto",i.default.callbacks=null!=t.callbacks?t.callbacks:{},i.default.bindings=null!=t.bindings?t.bindings:{},i.default.volume=null!=t.volume?t.volume:50,i.default.delay=null!=t.delay?t.delay:0,i.default.volume_increment=null!=t.volume_increment?t.volume_increment:5,i.default.volume_decrement=null!=t.volume_decrement?t.volume_decrement:5,a.default.setVolume(i.default.volume),e(t),m.default.syncMain(),g.default.setMuted(0==i.default.volume),v.default.sync(),k.default.sync(),b.default.resetCurrentTimes(),x.default.syncToPause(),w.default.syncMetaData(),A.default.syncRepeatSong(),null!=t.starting_playlist&&""!=t.starting_playlist&&(i.default.active_playlist=t.starting_playlist,null!=t.starting_playlist_song&&""!=t.starting_playlist_song?null!=r(t.playlists[t.starting_playlist].songs[parseInt(t.starting_playlist_song)])?p.default.changeSongPlaylist(i.default.active_playlist,t.playlists[t.starting_playlist].songs[parseInt(t.starting_playlist_song)],parseInt(t.starting_playlist_song)):(p.default.changeSongPlaylist(i.default.active_playlist,t.playlists[t.starting_playlist].songs[0],0),$.default.writeMessage("The index of "+t.starting_playlist_song+" does not exist in the playlist "+t.starting_playlist)):p.default.changeSong(i.default.active_playlist,t.playlists[t.starting_playlist].songs[0],0),x.default.sync()),h.default.run("initialized")}function e(t){null!=t.default_album_art?i.default.default_album_art=t.default_album_art:i.default.default_album_art="",null!=t.default_playlist_art?i.default.default_playlist_art=t.default_playlist_art:i.default.default_playlist_art=""}function n(t){var e=0,n=void 0;for(n in t)t.hasOwnProperty(n)&&e++;return $.default.writeMessage("You have "+e+" playlist(s) in your config"),e}return{initialize:function(r){var a=!1;if(o.default.resetConfig(),c.default.initialize(),h.default.initialize(),i.default.debug=null!=r.debug&&r.debug,e(r),function(t){return!(!t.songs||0==t.songs.length)||(!!(t.playlists&&n(t.playlists)>0)||($.default.writeMessage("Please provide a playlist or some songs for AmplitudeJS to run!"),!1))}(r)&&(a=!0),d.default.webAudioAPIAvailable()){if(d.default.determineUsingAnyFX()&&(d.default.configureWebAudioAPI(),document.documentElement.addEventListener("mousedown",(function(){"running"!==i.default.context.state&&i.default.context.resume()})),document.documentElement.addEventListener("keydown",(function(){"running"!==i.default.context.state&&i.default.context.resume()})),document.documentElement.addEventListener("keyup",(function(){"running"!==i.default.context.state&&i.default.context.resume()})),null!=r.waveforms&&null!=r.waveforms.sample_rate&&(i.default.waveforms.sample_rate=r.waveforms.sample_rate),_.default.init(),null!=r.visualizations&&r.visualizations.length>0))for(var l=0;l<r.visualizations.length;l++)f.default.register(r.visualizations[l].object,r.visualizations[l].params)}else $.default.writeMessage("The Web Audio API is not available on this platform. We are using your defined backups!");if(function(t){i.default.songs=t.songs?t.songs:[]}(r),function(){for(var t=0;t<i.default.songs.length;t++)null==i.default.songs[t].live&&(i.default.songs[t].live=!1)}(),function(){for(var t=0;t<i.default.songs.length;t++)i.default.songs[t].index=t}(),a){i.default.soundcloud_client=null!=r.soundcloud_client?r.soundcloud_client:"",i.default.soundcloud_use_art=null!=r.soundcloud_use_art?r.soundcloud_use_art:"";var u={};""!=i.default.soundcloud_client?(u=r,s.default.loadSoundCloud(u)):t(r)}$.default.writeMessage("Initialized With: "),$.default.writeMessage(i.default)},setConfig:t,rebindDisplay:function(){c.default.initialize(),w.default.displayMetaData()}}}();e.default=O,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=E(n(0)),i=E(n(27)),a=E(n(42)),s=E(n(26)),o=E(n(35)),$=E(n(31)),l=E(n(30)),u=E(n(32)),c=E(n(41)),d=E(n(28)),f=E(n(45)),_=E(n(43)),p=E(n(40)),h=E(n(44)),y=E(n(29)),m=E(n(34)),g=E(n(36)),v=E(n(37)),b=E(n(33)),x=E(n(38)),w=E(n(39)),k=E(n(23)),A=E(n(4));function E(t){return t&&t.__esModule?t:{default:t}}var O={initialize:function(){A.default.writeMessage("Beginning initialization of event handlers.."),document.addEventListener("touchmove",(function(){r.default.is_touch_moving=!0})),document.addEventListener("touchend",(function(){r.default.is_touch_moving&&(r.default.is_touch_moving=!1)})),r.default.audio.removeEventListener("timeupdate",a.default.handle),r.default.audio.addEventListener("timeupdate",a.default.handle),r.default.audio.removeEventListener("durationchange",a.default.handle),r.default.audio.addEventListener("durationchange",a.default.handle),document.removeEventListener("keydown",i.default.handle),document.addEventListener("keydown",i.default.handle),r.default.audio.removeEventListener("ended",s.default.handle),r.default.audio.addEventListener("ended",s.default.handle),r.default.audio.removeEventListener("progress",o.default.handle),r.default.audio.addEventListener("progress",o.default.handle),function(){for(var t=document.getElementsByClassName("amplitude-play"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",$.default.handle),t[e].addEventListener("touchend",$.default.handle)):(t[e].removeEventListener("click",$.default.handle),t[e].addEventListener("click",$.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-pause"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",l.default.handle),t[e].addEventListener("touchend",l.default.handle)):(t[e].removeEventListener("click",l.default.handle),t[e].addEventListener("click",l.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-play-pause"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",u.default.handle),t[e].addEventListener("touchend",u.default.handle)):(t[e].removeEventListener("click",u.default.handle),t[e].addEventListener("click",u.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-stop"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",c.default.handle),t[e].addEventListener("touchend",c.default.handle)):(t[e].removeEventListener("click",c.default.handle),t[e].addEventListener("click",c.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-mute"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?A.default.writeMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",d.default.handle),t[e].addEventListener("touchend",d.default.handle)):(t[e].removeEventListener("click",d.default.handle),t[e].addEventListener("click",d.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-volume-up"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?A.default.writeMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",f.default.handle),t[e].addEventListener("touchend",f.default.handle)):(t[e].removeEventListener("click",f.default.handle),t[e].addEventListener("click",f.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-volume-down"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?A.default.writeMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):(t[e].removeEventListener("touchend",_.default.handle),t[e].addEventListener("touchend",_.default.handle)):(t[e].removeEventListener("click",_.default.handle),t[e].addEventListener("click",_.default.handle))}(),function(){for(var t=window.navigator.userAgent.indexOf("MSIE "),e=document.getElementsByClassName("amplitude-song-slider"),n=0;n<e.length;n++)t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?(e[n].removeEventListener("change",p.default.handle),e[n].addEventListener("change",p.default.handle)):(e[n].removeEventListener("input",p.default.handle),e[n].addEventListener("input",p.default.handle))}(),function(){for(var t=window.navigator.userAgent.indexOf("MSIE "),e=document.getElementsByClassName("amplitude-volume-slider"),n=0;n<e.length;n++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?A.default.writeMessage("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?(e[n].removeEventListener("change",h.default.handle),e[n].addEventListener("change",h.default.handle)):(e[n].removeEventListener("input",h.default.handle),e[n].addEventListener("input",h.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-next"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",y.default.handle),t[e].addEventListener("touchend",y.default.handle)):(t[e].removeEventListener("click",y.default.handle),t[e].addEventListener("click",y.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-prev"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",m.default.handle),t[e].addEventListener("touchend",m.default.handle)):(t[e].removeEventListener("click",m.default.handle),t[e].addEventListener("click",m.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-shuffle"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-shuffle-on"),t[e].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",x.default.handle),t[e].addEventListener("touchend",x.default.handle)):(t[e].removeEventListener("click",x.default.handle),t[e].addEventListener("click",x.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-repeat"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-repeat-on"),t[e].classList.add("amplitude-repeat-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",g.default.handle),t[e].addEventListener("touchend",g.default.handle)):(t[e].removeEventListener("click",g.default.handle),t[e].addEventListener("click",g.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-repeat-song"),e=0;e<t.length;e++)t[e].classList.remove("amplitude-repeat-on"),t[e].classList.add("amplitude-repeat-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",v.default.handle),t[e].addEventListener("touchend",v.default.handle)):(t[e].removeEventListener("click",v.default.handle),t[e].addEventListener("click",v.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-playback-speed"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",b.default.handle),t[e].addEventListener("touchend",b.default.handle)):(t[e].removeEventListener("click",b.default.handle),t[e].addEventListener("click",b.default.handle))}(),function(){for(var t=document.getElementsByClassName("amplitude-skip-to"),e=0;e<t.length;e++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t[e].removeEventListener("touchend",w.default.handle),t[e].addEventListener("touchend",w.default.handle)):(t[e].removeEventListener("click",w.default.handle),t[e].addEventListener("click",w.default.handle))}(),k.default.determineIfUsingWaveforms()&&(r.default.audio.removeEventListener("canplaythrough",k.default.build),r.default.audio.addEventListener("canplaythrough",k.default.build))},destroyAudioBindings:function(){r.default.audio.removeEventListener("timeupdate",a.default.handle),r.default.audio.removeEventListener("durationchange",a.default.handle),r.default.audio.removeEventListener("ended",s.default.handle),r.default.audio.removeEventListener("progress",o.default.handle),k.default.determineIfUsingWaveforms()&&r.default.audio.removeEventListener("canplaythrough",k.default.build)},rebindAudio:function(){r.default.audio.addEventListener("durationchange",a.default.handle),r.default.audio.addEventListener("timeupdate",a.default.handle),r.default.audio.addEventListener("ended",s.default.handle),r.default.audio.addEventListener("progress",o.default.handle),k.default.determineIfUsingWaveforms()&&r.default.audio.addEventListener("canplaythrough",k.default.build)}};e.default=O,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=function(){var t="",e="",n="";function r(t){for(var e=document.querySelectorAll(".amplitude-wave-form"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),a=e[n].getAttribute("data-amplitude-song-index");null==r&&null==a&&i(e[n],t),null!=r&&null==a&&s(e[n],t,r),null==r&&null!=a&&o(e[n],t,a),null!=r&&null!=a&&$(e[n],t,r,a)}}function i(t,e){t.querySelector("svg g path").setAttribute("d",e)}function s(t,e,n){a.default.active_playlist==n&&t.querySelector("svg g path").setAttribute("d",e)}function o(t,e,n){a.default.active_index==n&&t.querySelector("svg g path").setAttribute("d",e)}function $(t,e,n,r){a.default.active_playlist==n&&a.default.playlists[a.default.active_playlist].active_index==r&&t.querySelector("svg g path").setAttribute("d",e)}return{init:function(){e=a.default.waveforms.sample_rate;var t=document.querySelectorAll(".amplitude-wave-form");if(t.length>0)for(var n=0;n<t.length;n++){t[n].innerHTML="";var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 -1 "+e+" 2"),r.setAttribute("preserveAspectRatio","none");var i=document.createElementNS("http://www.w3.org/2000/svg","g");r.appendChild(i);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",""),s.setAttribute("id","waveform"),i.appendChild(s),t[n].appendChild(r)}},build:function(){if(a.default.web_audio_api_available)if(null==a.default.waveforms.built[Math.abs(a.default.audio.src.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0))]){var i=new XMLHttpRequest;i.open("GET",a.default.audio.src,!0),i.responseType="arraybuffer",i.onreadystatechange=function(s){4==i.readyState&&200==i.status&&a.default.context.decodeAudioData(i.response,(function(i){n=function(t,e){for(var n=e.length/t,r=~~(n/10)||1,i=e.numberOfChannels,a=[],s=0;s<i;s++)for(var o=[],$=e.getChannelData(s),l=0;l<t;l++){for(var u=~~(l*n),c=~~(u+n),d=$[0],f=$[0],_=u;_<c;_+=r){var p=$[_];p>f&&(f=p),p<d&&(d=p)}o[2*l]=f,o[2*l+1]=d,(0===s||f>a[2*l])&&(a[2*l]=f),(0===s||d<a[2*l+1])&&(a[2*l+1]=d)}return a}(e,t=i),function(t,e,n){if(e){for(var i=n.length,s="",o=0;o<i;o++)s+=o%2==0?" M"+~~(o/2)+", "+n.shift():" L"+~~(o/2)+", "+n.shift();a.default.waveforms.built[Math.abs(a.default.audio.src.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0))]=s,r(a.default.waveforms.built[Math.abs(a.default.audio.src.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0))])}}(0,t,n)}))},i.send()}else r(a.default.waveforms.built[Math.abs(a.default.audio.src.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0))])},determineIfUsingWaveforms:function(){return document.querySelectorAll(".amplitude-wave-form").length>0}}}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={computeCurrentTimes:function(){var t={},e=(Math.floor(a.default.audio.currentTime%60)<10?"0":"")+Math.floor(a.default.audio.currentTime%60),n=Math.floor(a.default.audio.currentTime/60),r="00";return n<10&&(n="0"+n),n>=60&&(r=Math.floor(n/60),(n%=60)<10&&(n="0"+n)),t.seconds=e,t.minutes=n,t.hours=r,t},computeSongDuration:function(){var t={},e=(Math.floor(a.default.audio.duration%60)<10?"0":"")+Math.floor(a.default.audio.duration%60),n=Math.floor(a.default.audio.duration/60),r="00";return n<10&&(n="0"+n),n>=60&&(r=Math.floor(n/60),(n%=60)<10&&(n="0"+n)),t.seconds=isNaN(e)?"00":e,t.minutes=isNaN(n)?"00":n,t.hours=isNaN(r)?"00":r.toString(),t},computeSongCompletionPercentage:function(){return a.default.audio.currentTime/a.default.audio.duration*100},setCurrentTime:function(t){a.default.active_metadata.live||isFinite(t)&&(a.default.audio.currentTime=t)}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(){!function(){for(var t=document.getElementsByClassName("amplitude-buffered-progress"),e=0;e<t.length;e++){var n=t[e].getAttribute("data-amplitude-playlist"),r=t[e].getAttribute("data-amplitude-song-index");null!=n||null!=r||isNaN(a.default.buffered)||(t[e].value=parseFloat(parseFloat(a.default.buffered)/100))}}(),function(){for(var t=document.querySelectorAll('.amplitude-buffered-progress[data-amplitude-playlist="'+a.default.active_playlist+'"]'),e=0;e<t.length;e++)null!=t[e].getAttribute("data-amplitude-song-index")||isNaN(a.default.buffered)||(t[e].value=parseFloat(parseFloat(a.default.buffered)/100))}(),function(){for(var t=document.querySelectorAll('.amplitude-buffered-progress[data-amplitude-song-index="'+a.default.active_index+'"]'),e=0;e<t.length;e++)null!=t[e].getAttribute("data-amplitude-playlist")||isNaN(a.default.buffered)||(t[e].value=parseFloat(parseFloat(a.default.buffered)/100))}(),function(){for(var t=null!=a.default.active_playlist&&""!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,e=document.querySelectorAll('.amplitude-buffered-progress[data-amplitude-song-index="'+t+'"][data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)isNaN(a.default.buffered)||(e[n].value=parseFloat(parseFloat(a.default.buffered)/100))}()},reset:function(){for(var t=document.getElementsByClassName("amplitude-buffered-progress"),e=0;e<t.length;e++)t[e].value=0}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(3)),a=o(n(1)),s=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){setTimeout((function(){r.default.continue_next?""==r.default.active_playlist||null==r.default.active_playlist?i.default.setNext(!0):i.default.setNextPlaylist(r.default.active_playlist,!0):r.default.is_touch_moving||(a.default.stop(),s.default.sync())}),r.default.delay)}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(0)),i=u(n(1)),a=u(n(13)),s=u(n(12)),o=u(n(3)),$=u(n(8)),l=u(n(2));function u(t){return t&&t.__esModule?t:{default:t}}var c={handle:function(t){!function(t){if(null!=r.default.bindings[t])switch(r.default.bindings[t]){case"play_pause":r.default.audio.paused?i.default.play():i.default.pause(),l.default.sync();break;case"next":""==r.default.active_playlist||null==r.default.active_playlist?o.default.setNext():o.default.setNextPlaylist(r.default.active_playlist);break;case"prev":""==r.default.active_playlist||null==r.default.active_playlist?o.default.setPrevious():o.default.setPreviousPlaylist(r.default.active_playlist);break;case"stop":l.default.syncToPause(),i.default.stop();break;case"shuffle":""==r.default.active_playlist||null==r.default.active_playlist?a.default.toggleShuffle():a.default.toggleShufflePlaylist(r.default.active_playlist);break;case"repeat":s.default.setRepeat(!r.default.repeat),$.default.syncRepeat()}}(t.which)}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1)),a=o(n(10)),s=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){r.default.is_touch_moving||(0==r.default.volume?i.default.setVolume(r.default.pre_mute_volume):(r.default.pre_mute_volume=r.default.volume,i.default.setVolume(0)),a.default.setMuted(0==r.default.volume),s.default.sync())}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=(s(n(1)),s(n(2)),s(n(9)),s(n(3))),a=s(n(4));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist");null==t&&(""==r.default.active_playlist||null==r.default.active_playlist?i.default.setNext():i.default.setNextPlaylist(r.default.active_playlist)),null!=t&&function(t){t==r.default.active_playlist?i.default.setNextPlaylist(t):a.default.writeMessage("You can not go to the next song on a playlist that is not being played!")}(t)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(6)),a=o(n(1)),s=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-song-index"),e=this.getAttribute("data-amplitude-playlist");null==e&&null==t&&(a.default.pause(),s.default.sync()),null!=e&&null==t&&(o=e,r.default.active_playlist==o&&(a.default.pause(),s.default.sync())),null==e&&null!=t&&(n=t,""!=r.default.active_playlist&&null!=r.default.active_playlist||r.default.active_index!=n||(a.default.pause(),s.default.sync())),null!=e&&null!=t&&function(t,e){r.default.active_playlist==t&&r.default.playlists[t].active_index==e&&(a.default.pause(),s.default.sync())}(e,t),i.default.setPlayerState()}var n,o}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(0)),i=l(n(6)),a=l(n(1)),s=l(n(5)),o=l(n(3)),$=l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}var u={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-song-index"),e=this.getAttribute("data-amplitude-playlist");null==e&&null==t&&(a.default.play(),$.default.sync()),null!=e&&null==t&&(l=e,s.default.newPlaylist(l)&&(o.default.setActivePlaylist(l),r.default.playlists[l].shuffle?o.default.changeSongPlaylist(l,r.default.playlists[l].shuffle_list[0],0):o.default.changeSongPlaylist(l,r.default.playlists[l].songs[0],0)),a.default.play(),$.default.sync()),null==e&&null!=t&&(n=t,s.default.newPlaylist(null)&&(o.default.setActivePlaylist(null),o.default.changeSong(r.default.songs[n],n)),s.default.newSong(null,n)&&o.default.changeSong(r.default.songs[n],n),a.default.play(),$.default.sync()),null!=e&&null!=t&&function(t,e){s.default.newPlaylist(t)&&(o.default.setActivePlaylist(t),o.default.changeSongPlaylist(t,r.default.playlists[t].songs[e],e)),s.default.newSong(t,e)&&o.default.changeSongPlaylist(t,r.default.playlists[t].songs[e],e),a.default.play(),$.default.sync()}(e,t),i.default.setPlayerState()}var n,l}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(0)),i=l(n(6)),a=l(n(1)),s=l(n(5)),o=l(n(3)),$=l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}var u={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist"),e=this.getAttribute("data-amplitude-song-index");null==t&&null==e&&(r.default.audio.paused?a.default.play():a.default.pause(),$.default.sync()),null!=t&&null==e&&function(t){s.default.newPlaylist(t)&&(o.default.setActivePlaylist(t),r.default.playlists[t].shuffle?o.default.changeSongPlaylist(t,r.default.playlists[t].shuffle_list[0],0,!0):o.default.changeSongPlaylist(t,r.default.playlists[t].songs[0],0,!0)),r.default.audio.paused?a.default.play():a.default.pause(),$.default.sync()}(t),null==t&&null!=e&&function(t){s.default.newPlaylist(null)&&(o.default.setActivePlaylist(null),o.default.changeSong(r.default.songs[t],t,!0)),s.default.newSong(null,t)&&o.default.changeSong(r.default.songs[t],t,!0),r.default.audio.paused?a.default.play():a.default.pause(),$.default.sync()}(e),null!=t&&null!=e&&function(t,e){s.default.newPlaylist(t)&&(o.default.setActivePlaylist(t),o.default.changeSongPlaylist(t,r.default.playlists[t].songs[e],e,!0)),s.default.newSong(t,e)&&o.default.changeSongPlaylist(t,r.default.playlists[t].songs[e],e,!0),r.default.audio.paused?a.default.play():a.default.pause(),$.default.sync()}(t,e),i.default.setPlayerState()}}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(1)),a=s(n(18));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){if(!r.default.is_touch_moving){switch(r.default.playback_speed){case 1:i.default.setPlaybackSpeed(1.5);break;case 1.5:i.default.setPlaybackSpeed(2);break;case 2:i.default.setPlaybackSpeed(1)}a.default.sync()}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(3)),a=s(n(4));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist");null==t&&(""==r.default.active_playlist||null==r.default.active_playlist?i.default.setPrevious():i.default.setPreviousPlaylist(r.default.active_playlist)),null!=t&&function(t){t==r.default.active_playlist?i.default.setPreviousPlaylist(r.default.active_playlist):a.default.writeMessage("You can not go to the previous song on a playlist that is not being played!")}(t)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=a(n(25));function a(t){return t&&t.__esModule?t:{default:t}}var s={handle:function(){if(r.default.audio.buffered.length-1>=0){var t=r.default.audio.buffered.end(r.default.audio.buffered.length-1),e=r.default.audio.duration;r.default.buffered=t/e*100}i.default.sync()}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(12)),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist");null==t&&(i.default.setRepeat(!r.default.repeat),a.default.syncRepeat()),null!=t&&function(t){i.default.setRepeatPlaylist(!r.default.playlists[t].repeat,t),a.default.syncRepeatPlaylist(t)}(t)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(12)),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){r.default.is_touch_moving||(i.default.setRepeatSong(!r.default.repeat_song),a.default.syncRepeatSong())}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(13)),a=s(n(19));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist");null==t?(i.default.toggleShuffle(),a.default.syncMain(r.default.shuffle_on)):function(t){i.default.toggleShufflePlaylist(t),a.default.syncPlaylist(t)}(t)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(0)),i=l(n(4)),a=l(n(3)),s=l(n(5)),o=l(n(1)),$=l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}var u={handle:function(){if(!r.default.is_touch_moving){var t=this.getAttribute("data-amplitude-playlist"),e=this.getAttribute("data-amplitude-song-index"),n=this.getAttribute("data-amplitude-location");null==n&&i.default.writeMessage("You must add an 'data-amplitude-location' attribute in seconds to your 'amplitude-skip-to' element."),null==e&&i.default.writeMessage("You must add an 'data-amplitude-song-index' attribute to your 'amplitude-skip-to' element."),null!=n&&null!=e&&(null==t?function(t,e){a.default.changeSong(r.default.songs[t],t),o.default.play(),$.default.syncGlobal(),$.default.syncSong(),o.default.skipToLocation(e)}(parseInt(e),parseInt(n)):function(t,e,n){s.default.newPlaylist(t)&&a.default.setActivePlaylist(t),a.default.changeSongPlaylist(t,r.default.playlists[t].songs[e],e),o.default.play(),$.default.syncGlobal(),$.default.syncPlaylist(),$.default.syncSong(),o.default.skipToLocation(n)}(t,parseInt(e),parseInt(n)))}}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(0)),i=s(n(24)),a=s(n(14));function s(t){return t&&t.__esModule?t:{default:t}}var o={handle:function(){var t=this.value,e=r.default.audio.duration*(t/100),n=this.getAttribute("data-amplitude-playlist"),s=this.getAttribute("data-amplitude-song-index");null==n&&null==s&&function(t,e){r.default.active_metadata.live||(i.default.setCurrentTime(t),a.default.sync(e,r.default.active_playlist,r.default.active_index))}(e,t),null!=n&&null==s&&function(t,e,n){r.default.active_playlist==n&&(r.default.active_metadata.live||(i.default.setCurrentTime(t),a.default.sync(e,n,r.default.active_index)))}(e,t,n),null==n&&null!=s&&function(t,e,n){r.default.active_index==n&&null==r.default.active_playlist&&(r.default.active_metadata.live||(i.default.setCurrentTime(t),a.default.sync(e,r.default.active_playlist,n)))}(e,t,s),null!=n&&null!=s&&function(t,e,n,s){r.default.playlists[n].active_index==s&&r.default.active_playlist==n&&(r.default.active_metadata.live||(i.default.setCurrentTime(t),a.default.sync(e,n,s)))}(e,t,n,s)}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(6)),a=o(n(2)),s=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){r.default.is_touch_moving||(a.default.syncToPause(),s.default.stop(),i.default.setPlayerState())}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(0)),i=l(n(25)),a=l(n(15)),s=l(n(14)),o=l(n(20)),$=l(n(24));function l(t){return t&&t.__esModule?t:{default:t}}l(n(9));var u={handle:function(){!function(){if(r.default.audio.buffered.length-1>=0){var t=r.default.audio.buffered.end(r.default.audio.buffered.length-1),e=r.default.audio.duration;r.default.buffered=t/e*100}}(),i.default.sync(),function(){if(!r.default.active_metadata.live){var t=$.default.computeCurrentTimes(),e=$.default.computeSongCompletionPercentage(),n=$.default.computeSongDuration();a.default.syncCurrentTimes(t),s.default.sync(e,r.default.active_playlist,r.default.active_index),o.default.sync(e),a.default.syncDurationTimes(t,n)}}(),function(){var t=Math.floor(r.default.audio.currentTime);if(null!=r.default.active_metadata.time_callbacks&&null!=r.default.active_metadata.time_callbacks[t])r.default.active_metadata.time_callbacks[t].run||(r.default.active_metadata.time_callbacks[t].run=!0,r.default.active_metadata.time_callbacks[t]());else for(var e in r.default.active_metadata.time_callbacks)r.default.active_metadata.time_callbacks.hasOwnProperty(e)&&(r.default.active_metadata.time_callbacks[e].run=!1)}()}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1)),a=o(n(10)),s=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){if(!r.default.is_touch_moving){var t=null;t=r.default.volume-r.default.volume_increment>0?r.default.volume-r.default.volume_increment:0,i.default.setVolume(t),a.default.setMuted(0==r.default.volume),s.default.sync()}}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1)),a=o(n(10)),s=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){i.default.setVolume(this.value),a.default.setMuted(0==r.default.volume),s.default.sync()}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=o(n(1)),a=o(n(10)),s=o(n(11));function o(t){return t&&t.__esModule?t:{default:t}}var $={handle:function(){if(!r.default.is_touch_moving){var t=null;t=r.default.volume+r.default.volume_increment<=100?r.default.volume+r.default.volume_increment:100,i.default.setVolume(t),a.default.setMuted(0==r.default.volume),s.default.sync()}}};e.default=$,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={configureWebAudioAPI:function(){var t=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;t?(a.default.context=new t,a.default.analyser=a.default.context.createAnalyser(),a.default.audio.crossOrigin="anonymous",a.default.source=a.default.context.createMediaElementSource(a.default.audio),a.default.source.connect(a.default.analyser),a.default.analyser.connect(a.default.context.destination)):AmplitudeHelpers.writeDebugMessage("Web Audio API is unavailable! We will set any of your visualizations with your back up definition!")},webAudioAPIAvailable:function(){var t=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext;return a.default.web_audio_api_available=!1,t?(a.default.web_audio_api_available=!0,!0):(a.default.web_audio_api_available=!1,!1)},determineUsingAnyFX:function(){var t=document.querySelectorAll(".amplitude-wave-form"),e=document.querySelectorAll(".amplitude-visualization");return t.length>0||e.length>0}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=x(n(21)),i=x(n(0)),a=x(n(1)),s=x(n(13)),o=x(n(6)),$=x(n(3)),l=x(n(12)),u=x(n(5)),c=x(n(16)),d=x(n(19)),f=x(n(8)),_=x(n(14)),p=x(n(20)),h=x(n(15)),y=x(n(2)),m=x(n(7)),g=x(n(18)),v=x(n(4)),b=x(n(17));function x(t){return t&&t.__esModule?t:{default:t}}var w={init:function(t){r.default.initialize(t)},getConfig:function(){return i.default},bindNewElements:function(){r.default.rebindDisplay()},getActivePlaylist:function(){return i.default.active_playlist},getPlaybackSpeed:function(){return i.default.playback_speed},setPlaybackSpeed:function(t){a.default.setPlaybackSpeed(t),g.default.sync()},getRepeat:function(){return i.default.repeat},getRepeatPlaylist:function(t){return i.default.playlists[t].repeat},getShuffle:function(){return i.default.shuffle_on},getShufflePlaylist:function(t){return i.default.playlists[t].shuffle},setShuffle:function(t){s.default.setShuffle(t),d.default.syncMain()},setShufflePlaylist:function(t,e){s.default.setShufflePlaylist(t,e),d.default.syncMain(),d.default.syncPlaylist(t)},setRepeat:function(t){l.default.setRepeat(t),f.default.syncRepeat()},setRepeatSong:function(t){i.default.is_touch_moving||(l.default.setRepeatSong(!i.default.repeat_song),f.default.syncRepeatSong())},setRepeatPlaylist:function(t,e){l.default.setRepeatPlaylist(e,t),f.default.syncRepeatPlaylist(t)},getDefaultAlbumArt:function(){return i.default.default_album_art},setDefaultAlbumArt:function(t){i.default.default_album_art=t},getDefaultPlaylistArt:function(){return i.default.default_playlist_art},setDefaultPlaylistArt:function(t){i.default.default_plalist_art=t},getSongPlayedPercentage:function(){return i.default.audio.currentTime/i.default.audio.duration*100},setSongPlayedPercentage:function(t){"number"==typeof t&&t>0&&t<100&&(i.default.audio.currentTime=i.default.audio.duration*(t/100))},getSongPlayedSeconds:function(){return i.default.audio.currentTime},getSongDuration:function(){return i.default.audio.duration},setDebug:function(t){i.default.debug=t},getActiveSongMetadata:function(){return i.default.active_metadata},getActivePlaylistMetadata:function(){return i.default.playlists[i.default.active_playlist]},getSongAtIndex:function(t){return i.default.songs[t]},getSongAtPlaylistIndex:function(t,e){return i.default.playlists[t].songs[e]},addSong:function(t){return null==i.default.songs&&(i.default.songs=[]),i.default.songs.push(t),i.default.shuffle_on&&i.default.shuffle_list.push(t),b.default.isSoundCloudURL(t.url)&&b.default.resolveIndividualStreamableURL(t.url,null,i.default.songs.length-1,i.default.shuffle_on),i.default.songs.length-1},prependSong:function(t){return null==i.default.songs&&(i.default.songs=[]),i.default.songs.unshift(t),i.default.shuffle_on&&i.default.shuffle_list.unshift(t),b.default.isSoundCloudURL(t.url)&&b.default.resolveIndividualStreamableURL(t.url,null,i.default.songs.length-1,i.default.shuffle_on),0},addSongToPlaylist:function(t,e){return null!=i.default.playlists[e]?(i.default.playlists[e].songs.push(t),i.default.playlists[e].shuffle&&i.default.playlists[e].shuffle_list.push(t),b.default.isSoundCloudURL(t.url)&&b.default.resolveIndividualStreamableURL(t.url,e,i.default.playlists[e].songs.length-1,i.default.playlists[e].shuffle),i.default.playlists[e].songs.length-1):(v.default.writeMessage("Playlist doesn't exist!"),null)},removeSong:function(t){i.default.songs.splice(t,1)},removeSongFromPlaylist:function(t,e){null!=i.default.playlists[e]&&i.default.playlists[e].songs.splice(t,1)},playNow:function(t){t.url?(i.default.audio=new Audio,i.default.audio.src=t.url,i.default.active_metadata=t,i.default.active_album=t.album):v.default.writeMessage("The song needs to have a URL!"),a.default.play(),y.default.sync(),m.default.displayMetaData(),_.default.resetElements(),p.default.resetElements(),h.default.resetCurrentTimes(),h.default.resetDurationTimes(),o.default.setPlayerState()},playSongAtIndex:function(t){a.default.stop(),u.default.newPlaylist(null)&&($.default.setActivePlaylist(null),$.default.changeSong(i.default.songs[t],t)),u.default.newSong(null,t)&&$.default.changeSong(i.default.songs[t],t),a.default.play(),o.default.setPlayerState(),y.default.sync()},playPlaylistSongAtIndex:function(t,e){a.default.stop(),u.default.newPlaylist(e)&&($.default.setActivePlaylist(e),$.default.changeSongPlaylist(e,i.default.playlists[e].songs[t],t)),u.default.newSong(e,t)&&$.default.changeSongPlaylist(e,i.default.playlists[e].songs[t],t),y.default.sync(),a.default.play(),o.default.setPlayerState()},play:function(){a.default.play(),o.default.setPlayerState()},pause:function(){a.default.pause(),o.default.setPlayerState()},stop:function(){a.default.stop(),o.default.setPlayerState()},getAudio:function(){return i.default.audio},getAnalyser:function(){return i.default.analyser},next:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;""==t||null==t?null==i.default.active_playlist||""==i.default.active_playlist?$.default.setNext():$.default.setNextPlaylist(i.default.active_playlist):$.default.setNextPlaylist(t)},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;""==t||null==t?null==i.default.active_playlist||""==i.default.active_playlist?$.default.setPrevious():$.default.setPreviousPlaylist(i.default.active_playlist):$.default.setPreviousPlaylist(t)},getSongs:function(){return i.default.songs},getSongsInPlaylist:function(t){return i.default.playlists[t].songs},getSongsState:function(){return i.default.shuffle_on?i.default.shuffle_list:i.default.songs},getSongsStatePlaylist:function(t){return i.default.playlists[t].shuffle?i.default.playlists[t].shuffle_list:i.default.playlists[t].songs},getActiveIndex:function(){return parseInt(i.default.active_index)},getVersion:function(){return i.default.version},getBuffered:function(){return i.default.buffered},skipTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t=parseInt(t),null!=n?(u.default.newPlaylist(n)&&$.default.setActivePlaylist(n),$.default.changeSongPlaylist(n,i.default.playlists[n].songs[e],e),a.default.play(),y.default.syncGlobal(),y.default.syncPlaylist(),y.default.syncSong(),a.default.skipToLocation(t)):($.default.changeSong(i.default.songs[e],e),a.default.play(),y.default.syncGlobal(),y.default.syncSong(),a.default.skipToLocation(t))},setSongMetaData:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(""!=n&&null!=n&&null!=i.default.playlists[n])for(var r in e)e.hasOwnProperty(r)&&"url"!=r&&"URL"!=r&&"live"!=r&&"LIVE"!=r&&(i.default.playlists[n].songs[t][r]=e[r]);else for(var r in e)e.hasOwnProperty(r)&&"url"!=r&&"URL"!=r&&"live"!=r&&"LIVE"!=r&&(i.default.songs[t][r]=e[r]);m.default.displayMetaData(),m.default.syncMetaData()},setPlaylistMetaData:function(t,e){if(null!=i.default.playlists[t]){var n=["repeat","shuffle","shuffle_list","songs","src"];for(var r in e)e.hasOwnProperty(r)&&n.indexOf(r)<0&&(i.default.playlists[t][r]=e[r]);m.default.displayPlaylistMetaData()}else v.default.writeMessage("You must provide a valid playlist key!")},setDelay:function(t){i.default.delay=t},getDelay:function(){return i.default.delay},getPlayerState:function(){return i.default.player_state},addPlaylist:function(t,e,n){if(null==i.default.playlists[t]){i.default.playlists[t]={};var r=["repeat","shuffle","shuffle_list","songs","src"];for(var a in e)r.indexOf(a)<0&&(i.default.playlists[t][a]=e[a]);return i.default.playlists[t].songs=n,i.default.playlists[t].active_index=null,i.default.playlists[t].repeat=!1,i.default.playlists[t].shuffle=!1,i.default.playlists[t].shuffle_list=[],i.default.playlists[t]}return v.default.writeMessage("A playlist already exists with that key!"),null},registerVisualization:function(t,e){c.default.register(t,e)},setPlaylistVisualization:function(t,e){null!=i.default.playlists[t]?null!=i.default.visualizations.available[e]?i.default.playlists[t].visualization=e:v.default.writeMessage("A visualization does not exist for the key provided."):v.default.writeMessage("The playlist for the key provided does not exist")},setSongVisualization:function(t,e){i.default.songs[t]?null!=i.default.visualizations.available[e]?i.default.songs[t].visualization=e:v.default.writeMessage("A visualization does not exist for the key provided."):v.default.writeMessage("A song at that index is undefined")},setSongInPlaylistVisualization:function(t,e,n){null!=i.default.playlists[t].songs[e]?null!=i.default.visualizations.available[n]?i.default.playlists[t].songs[e].visualization=n:v.default.writeMessage("A visualization does not exist for the key provided."):v.default.writeMessage("The song in the playlist at that key is not defined")},setGlobalVisualization:function(t){null!=i.default.visualizations.available[t]?i.default.visualization=t:v.default.writeMessage("A visualization does not exist for the key provided.")},getVolume:function(){return i.default.volume},setVolume:function(t){a.default.setVolume(t)}};e.default=w,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=$(n(0)),i=$(n(4)),a=$(n(5)),s=$(n(7)),o=$(n(17));function $(t){return t&&t.__esModule?t:{default:t}}var l={initialize:function(t){r.default.playlists=t,function(){for(var t in r.default.playlists)if(r.default.playlists.hasOwnProperty(t)&&r.default.playlists[t].songs)for(var e=0;e<r.default.playlists[t].songs.length;e++)a.default.isInt(r.default.playlists[t].songs[e])&&(r.default.playlists[t].songs[e]=r.default.songs[r.default.playlists[t].songs[e]],r.default.playlists[t].songs[e].index=e),a.default.isInt(r.default.playlists[t].songs[e])&&!r.default.songs[r.default.playlists[t].songs[e]]&&i.default.writeMessage("The song index: "+r.default.playlists[t].songs[e]+" in playlist with key: "+t+" is not defined in your songs array!"),a.default.isInt(r.default.playlists[t].songs[e])||(r.default.playlists[t].songs[e].index=e)}(),function(){for(var t in r.default.playlists)if(r.default.playlists.hasOwnProperty(t))for(var e=0;e<r.default.playlists[t].songs.length;e++)o.default.isSoundCloudURL(r.default.playlists[t].songs[e].url)&&null==r.default.playlists[t].songs[e].soundcloud_data&&o.default.resolveIndividualStreamableURL(r.default.playlists[t].songs[e].url,t,e)}(),function(){for(var t in r.default.playlists)r.default.playlists[t].active_index=null}(),function(){for(var t in r.default.playlists)r.default.playlists[t].shuffle=!1}(),function(){for(var t in r.default.playlists)r.default.playlists[t].repeat=!1}(),function(){for(var t in r.default.playlists)r.default.playlists[t].shuffle_list=[]}(),function(){for(var t in r.default.playlists)s.default.setFirstSongInPlaylist(r.default.playlists[t].songs[0],t)}()}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={setActive:function(t){for(var e=document.getElementsByClassName("amplitude-song-container"),n=0;n<e.length;n++)e[n].classList.remove("amplitude-active-song-container");if(""==a.default.active_playlist||null==a.default.active_playlist){var r="";if(r=t?a.default.active_index:a.default.shuffle_on?a.default.shuffle_list[a.default.active_index].index:a.default.active_index,document.querySelectorAll('.amplitude-song-container[data-amplitude-song-index="'+r+'"]'))for(var i=document.querySelectorAll('.amplitude-song-container[data-amplitude-song-index="'+r+'"]'),s=0;s<i.length;s++)i[s].hasAttribute("data-amplitude-playlist")||i[s].classList.add("amplitude-active-song-container")}else{if(null!=a.default.active_playlist&&""!=a.default.active_playlist||t)var o=a.default.playlists[a.default.active_playlist].active_index;else o="",o=a.default.playlists[a.default.active_playlist].shuffle?a.default.playlists[a.default.active_playlist].shuffle_list[a.default.playlists[a.default.active_playlist].active_index].index:a.default.playlists[a.default.active_playlist].active_index;if(document.querySelectorAll('.amplitude-song-container[data-amplitude-song-index="'+o+'"][data-amplitude-playlist="'+a.default.active_playlist+'"]'))for(var $=document.querySelectorAll('.amplitude-song-container[data-amplitude-song-index="'+o+'"][data-amplitude-playlist="'+a.default.active_playlist+'"]'),l=0;l<$.length;l++)$[l].classList.add("amplitude-active-song-container")}}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-current-hours"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-current-hours[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-current-hours[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-current-hours[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-current-hours"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-current-minutes"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-current-minutes[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-current-minutes[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-current-minutes[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-current-minutes"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-current-seconds"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-current-seconds[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-current-seconds[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-current-seconds[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-current-seconds"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){var e=document.querySelectorAll(".amplitude-current-time"),n=t.minutes+":"+t.seconds;t.hours>0&&(n=t.hours+":"+n);for(var r=0;r<e.length;r++){var i=e[r].getAttribute("data-amplitude-playlist"),a=e[r].getAttribute("data-amplitude-song-index");null==i&&null==a&&(e[r].innerHTML=n)}}(t),function(t){var e=document.querySelectorAll('.amplitude-current-time[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=t.minutes+":"+t.seconds;t.hours>0&&(n=t.hours+":"+n);for(var r=0;r<e.length;r++)null==e[r].getAttribute("data-amplitude-song-index")&&(e[r].innerHTML=n)}(t),function(t){if(null==a.default.active_playlist){var e=document.querySelectorAll('.amplitude-current-time[data-amplitude-song-index="'+a.default.active_index+'"]'),n=t.minutes+":"+t.seconds;t.hours>0&&(n=t.hours+":"+n);for(var r=0;r<e.length;r++)null==e[r].getAttribute("data-amplitude-playlist")&&(e[r].innerHTML=n)}}(t),function(t){var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-current-time[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=t.minutes+":"+t.seconds;t.hours>0&&(r=t.hours+":"+r);for(var i=0;i<n.length;i++)n[i].innerHTML=r}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-current-time"),e=0;e<t.length;e++)t[e].innerHTML="00:00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t,e){var n=function(t,e){var n="00:00",r=parseInt(t.seconds)+60*parseInt(t.minutes)+60*parseInt(t.hours)*60,i=parseInt(e.seconds)+60*parseInt(e.minutes)+60*parseInt(e.hours)*60;if(!isNaN(r)&&!isNaN(i)){var a=i-r,s=Math.floor(a/3600),o=Math.floor((a-3600*s)/60),$=a-3600*s-60*o;n=(o<10?"0"+o:o)+":"+($<10?"0"+$:$),s>0&&(n=s+":"+n)}return n}(t,e);!function(t){for(var e=document.querySelectorAll(".amplitude-time-remaining"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(n),function(t){for(var e=document.querySelectorAll('.amplitude-time-remaining[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(n),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-time-remaining[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(n),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-time-remaining[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(n)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-time-remaining"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-duration-hours"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-duration-hours[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-duration-hours[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-duration-hours[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-duration-hours"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-duration-minutes"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-duration-minutes[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-duration-minutes[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-duration-minutes[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-duration-minutes"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){!function(t){for(var e=document.querySelectorAll(".amplitude-duration-seconds"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(t),function(t){for(var e=document.querySelectorAll('.amplitude-duration-seconds[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(t),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-duration-seconds[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data--amplitude-playlist")&&(e[n].innerHTML=t)}(t),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-duration-seconds[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(t)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-duration-seconds"),e=0;e<t.length;e++)t[e].innerHTML="00"}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={sync:function(t){var e=function(t){var e="00:00";return isNaN(t.minutes)||isNaN(t.seconds)||(e=t.minutes+":"+t.seconds,!isNaN(t.hours)&&t.hours>0&&(e=t.hours+":"+e)),e}(t);!function(t){for(var e=document.querySelectorAll(".amplitude-duration-time"),n=0;n<e.length;n++){var r=e[n].getAttribute("data-amplitude-playlist"),i=e[n].getAttribute("data-amplitude-song-index");null==r&&null==i&&(e[n].innerHTML=t)}}(e),function(t){for(var e=document.querySelectorAll('.amplitude-duration-time[data-amplitude-playlist="'+a.default.active_playlist+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-song-index")&&(e[n].innerHTML=t)}(e),function(t){if(null==a.default.active_playlist)for(var e=document.querySelectorAll('.amplitude-duration-time[data-amplitude-song-index="'+a.default.active_index+'"]'),n=0;n<e.length;n++)null==e[n].getAttribute("data-amplitude-playlist")&&(e[n].innerHTML=t)}(e),function(t){for(var e=""!=a.default.active_playlist&&null!=a.default.active_playlist?a.default.playlists[a.default.active_playlist].active_index:null,n=document.querySelectorAll('.amplitude-duration-time[data-amplitude-playlist="'+a.default.active_playlist+'"][data-amplitude-song-index="'+e+'"]'),r=0;r<n.length;r++)n[r].innerHTML=t}(e)},resetTimes:function(){for(var t=document.querySelectorAll(".amplitude-duration-time"),e=0;e<t.length;e++)t[e].innerHTML="00:00"}};e.default=s,t.exports=e.default},function(t,e){t.exports={name:"amplitudejs",version:"5.2.0",description:"A JavaScript library that allows you to control the design of your media controls in your webpage -- not the browser. No dependencies (jQuery not required) https://521dimensions.com/open-source/amplitudejs",main:"dist/amplitude.js",devDependencies:{"babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-plugin-add-module-exports":"0.2.1","babel-polyfill":"^6.26.0","babel-preset-es2015":"^6.18.0",husky:"^1.3.1",jest:"^23.6.0",prettier:"1.15.1","pretty-quick":"^1.11.1",watch:"^1.0.2",webpack:"^2.7.0"},directories:{doc:"docs"},files:["dist"],funding:{type:"opencollective",url:"https://opencollective.com/amplitudejs"},scripts:{build:"node_modules/.bin/webpack",watch:"watch 'node_modules/.bin/webpack' dist",prettier:"npx pretty-quick",test:"jest"},repository:{type:"git",url:"git+https://github.com/521dimensions/amplitudejs.git"},keywords:["webaudio","html5","javascript","audio-player"],author:"521 Dimensions (https://521dimensions.com)",license:"MIT",bugs:{url:"https://github.com/521dimensions/amplitudejs/issues"},homepage:"https://github.com/521dimensions/amplitudejs#readme"}}])},t.exports=r()},function(t,e,n){t.exports=n(11)},function(t,e,n){t.exports=n(4)},function(module,exports,__webpack_require__){(function(global,process,Buffer,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;
/**
 * @license Asciidoctor.js 2.2.1 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function(t){var e,n,r,i,a,s,o=this;if(void 0!==global&&(o=global),"undefined"!=typeof window&&(o=window),"log"in(e="object"==typeof o.console?o.console:null==o.console?o.console={}:{})||(e.log=function(){}),"warn"in e||(e.warn=e.log),void 0!==this.Opal)return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var $=this.Opal={};$.global=o,o.Opal=$,$.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,u=Function.prototype.bind,c=Object.setPrototypeOf,d=Array.prototype.slice,f=Array.prototype.splice,_=4;function p(t,e,n){"string"==typeof t?t[e]=n:Object.defineProperty(t,e,{value:n,enumerable:!1,configurable:!0,writable:!0})}function h(t,e){if(t)return t.$$const[e]}function y(t,e){var n,r,i;if(null!=t)for(n=0,r=(i=$.ancestors(t)).length;n<r;n++)if(i[n].$$const&&l.call(i[n].$$const,e))return i[n].$$const[e]}function m(t,e,n){if(!n)return(t||i).$const_missing(e)}function g(t){return t.hasOwnProperty("$$iclass")&&t.hasOwnProperty("$$root")}function v(t){var e=b(t);return t.$$is_module&&t.$$iclasses.push(e),e}function b(t){var e={},n=t.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);var r,i=Object.getOwnPropertyNames(n),a=i.length;for(r=0;r<a;r++){var s=i[r];p(e,s,n[s])}return p(e,"$$iclass",!0),p(e,"$$module",t),e}function x(t){var e=t.length,n=t[0];if(p(n,"$$root",!0),1===e)return{first:n,last:n};for(var r=n,i=1;i<e;i++){var a=t[i];c(r,a),r=a}return{first:t[0],last:t[e-1]}}function w(t){if(!t.hasOwnProperty("$$dummy"))return t.hasOwnProperty("$$iclass")?t.$$module:t.hasOwnProperty("$$class")?t.$$class:void 0}function k(t){return"function"==typeof t&&!t.$$stub}$.uid=function(){return _+=2},$.id=function(t){return t.$$is_number?2*t+1:(null!=t.$$id||p(t,"$$id",$.uid()),t.$$id)},$.gvars={},$.exit=function(t){$.gvars.DEBUG&&e.log("Exited with status "+t)},$.exceptions=[],$.pop_exception=function(){$.gvars["!"]=$.exceptions.pop()||n},$.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},$.defineProperty=p,$.slice=d,$.truthy=function(t){return t!==n&&null!=t&&(!t.$$is_boolean||1==t)},$.falsy=function(t){return t===n||null==t||t.$$is_boolean&&0==t},$.const_get_local=function(t,e,n){var r;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new $.TypeError(t.toString()+" is not a class/module");return null!=(r=h(t,e))||null!=(r=m(t,e,n))?r:void 0}},$.const_get_qualified=function(t,e,n){var r,a,s,o=$.const_cache_version;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new $.TypeError(t.toString()+" is not a class/module");return null==(a=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),a=t.$$const_cache),null==(s=a[e])||s[0]!==o?(null!=(r=h(t,e))||(r=y(t,e)),a[e]=[o,r]):r=s[1],null!=r?r:m(t,e,n)}},$.const_cache_version=1,$.const_get_relative=function(t,e,n){var r,a,s,o=t[0],l=$.const_cache_version;return null==(a=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),a=t.$$const_cache),null==(s=a[e])||s[0]!==l?(null!=(r=h(o,e))||null!=(r=function(t,e){var n,r,i;if(0!==t.length)for(n=0,r=t.length;n<r;n++)if(null!=(i=t[n].$$const[e]))return i}(t,e))||null!=(r=y(o,e))||(r=function(t,e){if(null==t||t.$$is_module)return y(i,e)}(o,e)),a[e]=[l,r]):r=s[1],null!=r?r:m(o,e,n)},$.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=i),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==n||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,$.const_cache_version++,t===i&&($[e]=r),p(t,e,r),r},$.constants=function(t,e){null==e&&(e=!0);var n,r,a,s,o=[t],l={};for(e&&(o=o.concat($.ancestors(t))),e&&t.$$is_module&&(o=o.concat([$.Object]).concat($.ancestors($.Object))),r=0,a=o.length;r<a&&(n=o[r],t===i||n!=i);r++)for(s in n.$$const)l[s]=!0;return Object.keys(l)},$.const_remove=function(t,e){if($.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],n;throw $.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},$.allocate_class=function(t,e){var n,r;return r=null!=e&&e.$$bridge?function(){var t=d.call(arguments),r=new(u.apply(e.$$constructor,[null].concat(t)));return c(r,n.$$prototype),r}:function(){},t&&p(r,"displayName","::"+t),p(n=r,"$$name",t),p(n,"$$constructor",r),p(n,"$$prototype",r.prototype),p(n,"$$const",{}),p(n,"$$is_class",!0),p(n,"$$is_a_module",!0),p(n,"$$super",e),p(n,"$$cvars",{}),p(n,"$$own_included_modules",[]),p(n,"$$own_prepended_modules",[]),p(n,"$$ancestors",[]),p(n,"$$ancestors_cache_version",null),p(n.$$prototype,"$$class",n),$.Class&&c(n,$.Class.prototype),null!=e&&(c(n.$$prototype,e.$$prototype),e.$$meta&&$.build_class_singleton_class(n)),n},$.klass=function(t,e,n){var r;null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),null==e||e.hasOwnProperty("$$is_class")||(r=e,e=i);var a=function(t,e){var n=h(t,e);if(n){if(!n.$$is_class)throw $.TypeError.$new(e+" is not a class");return n}}(t,n);return a?(e&&function(t,e){if(t.$$super!==e)throw $.TypeError.$new("superclass mismatch for class "+t.$$name)}(a,e),a):(null==e&&(e=i),a=$.allocate_class(n,e),$.const_set(t,n,a),e.$inherited&&e.$inherited(a),r&&$.bridge(r,a),a)},$.allocate_module=function(t){var e=function(){};t&&p(e,"displayName",t+".$$constructor");var n=e;return t&&p(e,"displayName",t+".constructor"),p(n,"$$name",t),p(n,"$$prototype",e.prototype),p(n,"$$const",{}),p(n,"$$is_module",!0),p(n,"$$is_a_module",!0),p(n,"$$cvars",{}),p(n,"$$iclasses",[]),p(n,"$$own_included_modules",[]),p(n,"$$own_prepended_modules",[]),p(n,"$$ancestors",[n]),p(n,"$$ancestors_cache_version",null),c(n,$.Module.prototype),n},$.module=function(t,e){var n;return null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),(n=function(t,e){var n=h(t,e);if(null==n&&t===i&&(n=y(i,e)),n&&!n.$$is_module&&n!==i)throw $.TypeError.$new(e+" is not a module");return n}(t,e))||(n=$.allocate_module(e),$.const_set(t,e,n)),n},$.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.hasOwnProperty("$$is_class")?$.build_class_singleton_class(t):t.hasOwnProperty("$$is_module")?$.build_module_singletin_class(t):$.build_object_singleton_class(t)},$.build_class_singleton_class=function(t){var e,n;return t.$$meta?t.$$meta:(e=t===r?s:$.get_singleton_class(t.$$super),p(n=$.allocate_class(null,e,(function(){})),"$$is_singleton",!0),p(n,"$$singleton_of",t),p(t,"$$meta",n),c(t,n.$$prototype),p(t,"$$class",$.Class),n)},$.build_module_singletin_class=function(t){if(t.$$meta)return t.$$meta;var e=$.allocate_class(null,$.Module,(function(){}));return p(e,"$$is_singleton",!0),p(e,"$$singleton_of",t),p(t,"$$meta",e),c(t,e.$$prototype),p(t,"$$class",$.Module),e},$.build_object_singleton_class=function(t){var e=t.$$class,r=$.allocate_class(n,e,(function(){}));return p(r,"$$is_singleton",!0),p(r,"$$singleton_of",t),delete r.$$prototype.$$class,p(t,"$$meta",r),c(t,t.$$meta.$$prototype),r},$.is_method=function(t){return"$"===t[0]&&"$"!==t[1]},$.instance_methods=function(t){for(var e=[],n=[],r=$.ancestors(t),i=0,a=r.length;i<a;i++){var s=r[i].$$prototype;s.hasOwnProperty("$$dummy")&&(s=s.$$define_methods_on);for(var o=Object.getOwnPropertyNames(s),l=0,u=o.length;l<u;l++){var c=o[l];if($.is_method(c)){var d=c.slice(1),f=s[c];f.$$stub&&-1===e.indexOf(d)&&e.push(d),f.$$stub||-1!==n.indexOf(d)||-1!==e.indexOf(d)||n.push(d)}}}return n},$.own_instance_methods=function(t){var e=[],n=t.$$prototype;n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on);for(var r=Object.getOwnPropertyNames(n),i=0,a=r.length;i<a;i++){var s=r[i];if($.is_method(s))if(!n[s].$$stub){var o=s.slice(1);e.push(o)}}return e},$.methods=function(t){return $.instance_methods($.get_singleton_class(t))},$.own_methods=function(t){return $.own_instance_methods($.get_singleton_class(t))},$.receiver_methods=function(t){var e=$.get_singleton_class(t),n=$.own_instance_methods(e),r=$.own_instance_methods(e.$$super);return n.concat(r)},$.class_variables=function(t){var e,n=$.ancestors(t),r={};for(e=n.length-1;e>=0;e--){var i=n[e];for(var a in i.$$cvars)r[a]=i.$$cvars[a]}return r},$.class_variable_set=function(t,e,n){var r,i=$.ancestors(t);for(r=i.length-2;r>=0;r--){var a=i[r];if(l.call(a.$$cvars,e))return a.$$cvars[e]=n,n}return t.$$cvars[e]=n,n},$.append_features=function(t,e){var n=$.ancestors(t),r=[];if(-1!==n.indexOf(e))throw $.ArgumentError.$new("cyclic include detected");for(var i=0,a=n.length;i<a;i++){var s=v(n[i]);p(s,"$$included",!0),r.push(s)}var o,l,u=$.ancestors(e),d=x(r);if(-1===u.indexOf(t))o=e.$$prototype,l=Object.getPrototypeOf(e.$$prototype);else{for(var f=e.$$prototype,_=Object.getPrototypeOf(f);null!=_&&(!g(_)||_.$$module!==t);)f=_,_=Object.getPrototypeOf(_);for(var h=Object.getPrototypeOf(_);h.hasOwnProperty("$$iclass")&&!g(h);)h=Object.getPrototypeOf(h);o=f,l=h}c(o,d.first),c(d.last,l),e.$$own_included_modules=function(t){for(var e,n=[],r=Object.getPrototypeOf(t.$$prototype);r&&!r.hasOwnProperty("$$class");)(e=w(r))&&n.push(e),r=Object.getPrototypeOf(r);return n}(e),$.const_cache_version++},$.prepend_features=function(t,e){var n=$.ancestors(t),r=[];if(-1!==n.indexOf(e))throw $.ArgumentError.$new("cyclic prepend detected");for(var i=0,a=n.length;i<a;i++){var s=v(n[i]);p(s,"$$prepended",!0),r.push(s)}var o,l,u,d=x(r),f=e.$$prototype,_=Object.getPrototypeOf(f);if(f.hasOwnProperty("$$dummy")?o=f.$$define_methods_on:(o=b(e),function(t){for(var e=t.$$prototype,n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r];$.is_method(i)&&delete e[i]}}(e),p(f,"$$dummy",!0),p(f,"$$define_methods_on",o),c(f,o),c(o,_)),-1!==$.ancestors(e).indexOf(t))throw $.RuntimeError.$new("Prepending a module multiple times is not supported");for(l=f,u=Object.getPrototypeOf(f);null!=u&&!u.hasOwnProperty("$$root")&&u!==o&&u.hasOwnProperty("$$iclass");)u=Object.getPrototypeOf(u);c(l,d.first),c(d.last,u),e.$$own_prepended_modules=function(t){var e,n=[],r=Object.getPrototypeOf(t.$$prototype);if(t.$$prototype.hasOwnProperty("$$dummy"))for(;r&&r!==t.$$prototype.$$define_methods_on;)(e=w(r))&&n.push(e),r=Object.getPrototypeOf(r);return n}(e),$.const_cache_version++},$.bridge=function(t,e){if(t.hasOwnProperty("$$bridge"))throw $.ArgumentError.$new("already bridged");e.$$super||$.Object;e.$$prototype;p(t,"$$bridge",e),c(t.prototype,(e.$$super||$.Object).$$prototype),p(e,"$$prototype",t.prototype),p(e.$$prototype,"$$class",e),p(e,"$$constructor",t),p(e,"$$bridge",!0)},$.ancestors=function(t){if(!t)return[];if(t.$$ancestors_cache_version===$.const_cache_version)return t.$$ancestors;var e,n,r,i=[];for(e=0,r=(n=function(t){return t.$$own_prepended_modules.concat([t]).concat(t.$$own_included_modules)}(t)).length;e<r;e++)i.push(n[e]);if(t.$$super)for(e=0,r=(n=$.ancestors(t.$$super)).length;e<r;e++)i.push(n[e]);return t.$$ancestors_cache_version=$.const_cache_version,t.$$ancestors=i,i},$.included_modules=function(t){for(var e=[],n=null,r=Object.getPrototypeOf(t.$$prototype);r&&Object.getPrototypeOf(r);r=Object.getPrototypeOf(r))(n=w(r))&&n.$$is_module&&r.$$iclass&&r.$$included&&e.push(n);return e},$.add_stubs=function(t){for(var e=$.BasicObject.$$prototype,n=0,r=t.length;n<r;n++){var i=t[n],a=e[i];(null==a||a.$$stub)&&$.add_stub_for(e,i)}},$.add_stub_for=function(t,e){p(t,e,$.stub_for(e))},$.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var n=new Array(arguments.length),r=0,i=n.length;r<i;r++)n[r]=arguments[r];return this.$method_missing.apply(this,[t.slice(1)].concat(n))}return e.$$stub=!0,e},$.ac=function(t,e,n,r){var i="";throw n.$$is_a_module?i+=n.$$name+".":i+=n.$$class.$$name+"#",i+=r,$.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},$.block_ac=function(t,e,n){var r="`block in "+n+"'";throw $.ArgumentError.$new(r+": wrong number of arguments ("+t+" for "+e+")")},$.find_super_dispatcher=function(t,e,n,r,i){for(var a,s,o="$"+e,l=(a=t.hasOwnProperty("$$meta")?$.ancestors(t.$$meta):$.ancestors(t.$$class)).indexOf(n.$$owner)+1;l<a.length;l++){var u=a[l].$$prototype;if(u.hasOwnProperty("$$dummy")&&(u=u.$$define_methods_on),u.hasOwnProperty(o)){var c=u[o];c.$$stub||(s=c);break}}if(!r&&null==s&&$.Kernel.$method_missing===t.$method_missing)throw $.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return s},$.find_iter_super_dispatcher=function(t,e,n,r,i){var a=e;if(!n)throw $.RuntimeError.$new("super called outside of method");if(i&&n.$$define_meth)throw $.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(a=n.$$jsid),$.find_super_dispatcher(t,a,n,r)},$.ret=function(t){throw $.returner.$v=t,$.returner},$.brk=function(t,e){throw e.$v=t,e},$.new_brk=function(){return new Error("unexpected break")},$.yield1=function(t,e){if("function"!=typeof t)throw $.LocalJumpError.$new("no block given");var n=t.$$has_top_level_mlhs_arg,r=t.$$has_trailing_comma_in_args;return(t.length>1||(n||r)&&1===t.length)&&(e=$.to_ary(e)),(t.length>1||r&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},$.yieldX=function(t,e){if("function"!=typeof t)throw $.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var n=new Array(e.length),r=0,i=n.length;r<i;r++)n[r]=e[r];return t.apply(null,n)}return t.apply(null,e)},$.rescue=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.$$is_array){var i=$.rescue(t,r);if(i)return i}else{if(r===$.JS.Error)return r;if(r["$==="](t))return r}}return null},$.is_a=function(t,e){if(null!=e&&t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var n,r,i=$.ancestors(t.$$is_class?$.get_singleton_class(t):t.$$meta||t.$$class);for(n=0,r=i.length;n<r;n++)if(i[n]===e)return!0;return!1},$.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw $.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw $.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},$.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===n)return[t];if(e.$$is_array)return e;throw $.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},$.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===n)return[t];if(e.$$is_array)return e;throw $.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},$.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(f.call(t,t.length-1,1),e.$to_hash()):$.hash2([],{})},$.kwrestargs=function(t,e){var n=[],r={},i=null,a=t.$$smap;for(i in a)e[i]||(n.push(i),r[i]=a[i]);return $.hash2(n,r)},$.send=function(t,e,n,r){var i="string"==typeof e?t["$"+e]:e;return null!=i?("function"==typeof r&&(i.$$p=r),i.apply(t,n)):t.$method_missing.apply(t,[e].concat(n))},$.lambda=function(t){return t.$$is_lambda=!0,t},$.def=function(t,e,n){t===$.top?$.defn($.Object,e,n):!t.$$eval&&t.$$is_a_module?$.defn(t,e,n):$.defs(t,e,n)},$.defn=function(t,e,n){n.displayName=e,n.$$owner=t;var r=t.$$prototype;if(r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on),p(r,e,n),t.$$is_module){t.$$module_function&&$.defs(t,e,n);for(var i=0,a=t.$$iclasses,s=a.length;i<s;i++){p(a[i],e,n)}}var o=t.$$singleton_of;!t.$method_added||t.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1))},$.defs=function(t,e,n){if(t.$$is_string||t.$$is_number)throw $.TypeError.$new("can't define singleton");$.defn($.get_singleton_class(t),e,n)},$.rdef=function(t,e){if(!l.call(t.$$prototype,e))throw $.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$prototype[e],t.$$is_singleton?t.$$prototype.$singleton_method_removed&&!t.$$prototype.$singleton_method_removed.$$stub&&t.$$prototype.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},$.udef=function(t,e){if(!t.$$prototype[e]||t.$$prototype[e].$$stub)throw $.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());$.add_stub_for(t.$$prototype,e),t.$$is_singleton?t.$$prototype.$singleton_method_undefined&&!t.$$prototype.$singleton_method_undefined.$$stub&&t.$$prototype.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},$.alias=function(t,e,n){var r,i="$"+e,a="$"+n,s=t.$$prototype["$"+n];if(t.$$eval)return $.alias($.get_singleton_class(t),e,n);if(!k(s)){for(var o=t.$$super;"function"!=typeof s&&o;)s=o[a],o=o.$$super;if(!k(s)&&t.$$is_module&&(s=$.Object.$$prototype[a]),!k(s))throw $.NameError.$new("undefined method `"+n+"' for class `"+t.$name()+"'")}return s.$$alias_of&&(s=s.$$alias_of),(r=function(){var t,e,n,i=r.$$p;for(t=new Array(arguments.length),e=0,n=arguments.length;e<n;e++)t[e]=arguments[e];return null!=i&&(r.$$p=null),$.send(this,s,t,i)}).displayName=e,r.length=s.length,r.$$arity=s.$$arity,r.$$parameters=s.$$parameters,r.$$source_location=s.$$source_location,r.$$alias_of=s,r.$$alias_name=e,$.defn(t,i,r),t},$.alias_native=function(t,e,n){var r="$"+e,i=t.$$prototype[n];if("function"!=typeof i||i.$$stub)throw $.NameError.$new("undefined native method `"+n+"' for class `"+t.$name()+"'");return $.defn(t,r,i),t},$.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},$.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var n,r,i=0,a=t.$$keys,s=t.$$smap,o=a.length;i<o;i++)(n=a[i]).$$is_string?r=s[n]:(r=n.value,n=n.key),$.hash_put(e,n,r)},$.hash_put=function(e,n,r){if(n.$$is_string)return l.call(e.$$smap,n)||e.$$keys.push(n),void(e.$$smap[n]=r);var i,a,s;if(i=e.$$by_identity?$.id(n):n.$hash(),!l.call(e.$$map,i))return a={key:n,key_hash:i,value:r},e.$$keys.push(a),void(e.$$map[i]=a);for(a=e.$$map[i];a;){if(n===a.key||n["$eql?"](a.key)){s=t,a.value=r;break}s=a,a=a.next}s&&(a={key:n,key_hash:i,value:r},e.$$keys.push(a),s.next=a)},$.hash_get=function(t,e){if(e.$$is_string)return l.call(t.$$smap,e)?t.$$smap[e]:void 0;var n,r;if(n=t.$$by_identity?$.id(e):e.$hash(),l.call(t.$$map,n))for(r=t.$$map[n];r;){if(e===r.key||e["$eql?"](r.key))return r.value;r=r.next}},$.hash_delete=function(t,e){var n,r,i=t.$$keys,a=i.length;if(e.$$is_string){if(!l.call(t.$$smap,e))return;for(n=0;n<a;n++)if(i[n]===e){i.splice(n,1);break}return r=t.$$smap[e],delete t.$$smap[e],r}var s=e.$hash();if(l.call(t.$$map,s))for(var o,$=t.$$map[s];$;){if(e===$.key||e["$eql?"]($.key)){for(r=$.value,n=0;n<a;n++)if(i[n]===$){i.splice(n,1);break}return o&&$.next?o.next=$.next:o?delete o.next:$.next?t.$$map[s]=$.next:delete t.$$map[s],r}o=$,$=$.next}},$.hash_rehash=function(e){for(var n,r,i,a=0,s=e.$$keys.length;a<s;a++)if(!e.$$keys[a].$$is_string&&(n=e.$$keys[a].key.$hash())!==e.$$keys[a].key_hash){for(r=e.$$map[e.$$keys[a].key_hash],i=t;r;){if(r===e.$$keys[a]){i&&r.next?i.next=r.next:i?delete i.next:r.next?e.$$map[e.$$keys[a].key_hash]=r.next:delete e.$$map[e.$$keys[a].key_hash];break}i=r,r=r.next}if(e.$$keys[a].key_hash=n,l.call(e.$$map,n)){for(r=e.$$map[n],i=t;r;){if(r===e.$$keys[a]){i=t;break}i=r,r=r.next}i&&(i.next=e.$$keys[a])}else e.$$map[n]=e.$$keys[a]}},$.hash=function(){var t,e,n,r,i,a,s=arguments.length;if(1===s&&arguments[0].$$is_hash)return arguments[0];if(e=new $.Hash,$.hash_init(e),1===s&&arguments[0].$$is_array){for(r=(t=arguments[0]).length,n=0;n<r;n++){if(2!==t[n].length)throw $.ArgumentError.$new("value not of length 2: "+t[n].$inspect());i=t[n][0],a=t[n][1],$.hash_put(e,i,a)}return e}if(1===s){for(i in t=arguments[0])l.call(t,i)&&(a=t[i],$.hash_put(e,i,a));return e}if(s%2!=0)throw $.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<s;n+=2)i=arguments[n],a=arguments[n+1],$.hash_put(e,i,a);return e},$.hash2=function(t,e){var n=new $.Hash;return n.$$smap=e,n.$$map=Object.create(null),n.$$keys=t,n},$.range=function(t,e,n){var r=new $.Range;return r.begin=t,r.end=e,r.excl=n,r},$.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},$.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},$.global_regexp=function(t){return t.global?t:(null==t.$$g?t.$$g=new RegExp(t.source,(t.multiline?"gm":"g")+(t.ignoreCase?"i":"")):t.$$g.lastIndex=null,t.$$g)},$.global_multiline_regexp=function(t){var e;if(t.multiline){if(t.global)return t;e=null!=t.$$g?t.$$g:t.$$g=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""))}else e=null!=t.$$gm?t.$$gm:t.$$gm=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));return e.lastIndex=null,e},$.modules={},$.loaded_features=["corelib/runtime"],$.current_dir=".",$.require_table={"corelib/runtime":!0},$.normalize=function(t){var e,n,r=[];"."!==$.current_dir&&(t=$.current_dir.replace(/\/*$/,"/")+t);for(var i=0,a=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<a;i++)""!==(n=e[i])&&(".."===n?r.pop():r.push(n));return r.join("/")},$.loaded=function(t){var e,n,r;for(e=0,n=t.length;e<n;e++)r=$.normalize(t[e]),$.require_table[r]||($.loaded_features.push(r),$.require_table[r]=!0)},$.load=function(t){t=$.normalize(t),$.loaded([t]);var n=$.modules[t];if(n)n($);else{var r=$.config.missing_require_severity,i="cannot load such file -- "+t;if("error"===r)throw $.LoadError?$.LoadError.$new(i):i;"warning"===r&&e.warn("WARNING: LoadError: "+i)}return!0},$.require=function(t){return t=$.normalize(t),!$.require_table[t]&&$.load(t)},$.BasicObject=r=$.allocate_class("BasicObject",null,(function(){})),$.Object=i=$.allocate_class("Object",$.BasicObject,(function(){})),$.Module=a=$.allocate_class("Module",$.Object,(function(){})),$.Class=s=$.allocate_class("Class",$.Module,(function(){})),c($.BasicObject,$.Class.$$prototype),c($.Object,$.Class.$$prototype),c($.Module,$.Class.$$prototype),c($.Class,$.Class.$$prototype),r.$$const.BasicObject=r,$.const_set(i,"BasicObject",r),$.const_set(i,"Object",i),$.const_set(i,"Module",a),$.const_set(i,"Class",s),r.$$class=s,i.$$class=s,a.$$class=s,s.$$class=s,p(i.$$prototype,"toString",(function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t})),p(i.$$prototype,"$require",$.require),$.$$=i.$$,$.top=new i,$.top.$to_s=$.top.$inspect=function(){return"main"},$.NilClass=$.allocate_class("NilClass",$.Object,(function(){})),$.const_set(i,"NilClass",$.NilClass),(n=$.nil=new $.NilClass).$$id=4,n.call=n.apply=function(){throw $.LocalJumpError.$new("no block given")},$.breaker=new Error("unexpected break (old)"),$.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,s){var o,$,l,u,c,d,f,_,p,h,y,m,g,v,b=i(e,"Opal"),x=[b].concat(s);t.defs(b,"$bridge",o=function(e,n){return t.bridge(e,n)},o.$$arity=2),t.defs(b,"$type_error",$=function(t,e,i,s){var o;return null==i&&(i=n),null==s&&(s=n),a(a(o=i)?s:o)?r(x,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+s.$class()+")"):r(x,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},$.$$arity=-3),t.defs(b,"$coerce_to",l=function(t,e,n){return a(e["$==="](t))?t:(a(t["$respond_to?"](n))||this.$raise(this.$type_error(t,e)),t.$__send__(n))},l.$$arity=3),t.defs(b,"$coerce_to!",u=function(t,e,n){var r;return r=this.$coerce_to(t,e,n),a(e["$==="](r))||this.$raise(this.$type_error(t,e,n,r)),r},u.$$arity=3),t.defs(b,"$coerce_to?",c=function(t,e,r){var i=n;return a(t["$respond_to?"](r))?(i=this.$coerce_to(t,e,r),a(i["$nil?"]())?n:(a(e["$==="](i))||this.$raise(this.$type_error(t,e,r,i)),i)):n},c.$$arity=3),t.defs(b,"$try_convert",d=function(t,e,r){return a(e["$==="](t))?t:a(t["$respond_to?"](r))?t.$__send__(r):n},d.$$arity=3),t.defs(b,"$compare",f=function(t,e){var i;return i=t["$<=>"](e),a(i===n)&&this.$raise(r(x,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),i},f.$$arity=2),t.defs(b,"$destructure",_=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t[n];return e},_.$$arity=1),t.defs(b,"$respond_to?",p=function(t,e,n){return null==n&&(n=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,n)},p.$$arity=-3),t.defs(b,"$inspect_obj",h=function(e){return t.inspect(e)},h.$$arity=1),t.defs(b,"$instance_variable_name!",y=function(t){return t=r(x,"Opal")["$coerce_to!"](t,r(x,"String"),"to_str"),a(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(r(x,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},y.$$arity=1),t.defs(b,"$class_variable_name!",m=function(t){return t=r(x,"Opal")["$coerce_to!"](t,r(x,"String"),"to_str"),a(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(r(x,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},m.$$arity=1),t.defs(b,"$const_name!",g=function(t){return t=r(x,"Opal")["$coerce_to!"](t,r(x,"String"),"to_str"),a(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(r(x,"NameError"),"wrong constant name "+t),t},g.$$arity=1),t.defs(b,"$pristine",v=function(e,r){for(var i,a,s,o=(i=t.slice.call(arguments,1,arguments.length)).length-1;o>=0;o--)a=i[o],(s=e.$$prototype["$"+a])&&!s.$$stub&&(s.$$pristine=!0);return n},v.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr_reader$14,$Module_attr_writer$15,$Module_autoload$16,$Module_class_variables$17,$Module_class_variable_get$18,$Module_class_variable_set$19,$Module_class_variable_defined$ques$20,$Module_remove_class_variable$21,$Module_constants$22,$Module_constants$23,$Module_nesting$24,$Module_const_defined$ques$25,$Module_const_get$26,$Module_const_missing$28,$Module_const_set$29,$Module_public_constant$30,$Module_define_method$31,$Module_remove_method$33,$Module_singleton_class$ques$34,$Module_include$35,$Module_included_modules$36,$Module_include$ques$37,$Module_instance_method$38,$Module_instance_methods$39,$Module_included$40,$Module_extended$41,$Module_extend_object$42,$Module_method_added$43,$Module_method_removed$44,$Module_method_undefined$45,$Module_module_eval$46,$Module_module_exec$48,$Module_method_defined$ques$49,$Module_module_function$50,$Module_name$51,$Module_prepend$52,$Module_prepend_features$53,$Module_prepended$54,$Module_remove_const$55,$Module_to_s$56,$Module_undef_method$57,$Module_instance_variables$58,$Module_dup$59,$Module_copy_class_variables$60,$Module_copy_constants$61;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var t=Opal.allocate_module(nil,(function(){}));return this!==Opal.Module&&Object.setPrototypeOf(t,this.$$prototype),t},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var t=$Module_initialize$2.$$p,e=t||nil;return t&&($Module_initialize$2.$$p=null),t&&($Module_initialize$2.$$p=null),e!==nil?$send(this,"module_eval",[],e.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(t){$truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var e,n,r;if(this===t)return!1;for(n=0,r=(e=Opal.ancestors(this)).length;n<r;n++)if(e[n]===t)return!0;for(n=0,r=(e=Opal.ancestors(t)).length;n<r;n++)if(e[n]===this)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(t,e){return Opal.alias(this,t,e),this},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){return Opal.ancestors(this)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(t){return Opal.append_features(this,t),this},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function(t){var e,n=this;return e=Opal.slice.call(arguments,0,arguments.length),$send(n,"attr_reader",Opal.to_a(e)),$send(n,"attr_writer",Opal.to_a(e))},$Module_attr_accessor$13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",$Module_attr_reader$14=function(t){var e,n=this;e=Opal.slice.call(arguments,0,arguments.length);for(var r=n.$$prototype,i=e.length-1;i>=0;i--){var a=e[i],s="$"+a,o=Opal.ivar(a),$=function(t){return function(){return null==this[t]?nil:this[t]}}(o);Opal.defineProperty(r,o,nil),$.$$parameters=[],$.$$arity=0,Opal.defn(n,s,$)}return nil},$Module_attr_reader$14.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$15=function(t){var e,n=this;e=Opal.slice.call(arguments,0,arguments.length);for(var r=n.$$prototype,i=e.length-1;i>=0;i--){var a=e[i],s="$"+a+"=",o=Opal.ivar(a),$=function(t){return function(e){return this[t]=e}}(o);$.$$parameters=[["req"]],$.$$arity=1,Opal.defineProperty(r,o,nil),Opal.defn(n,s,$)}return nil},$Module_attr_writer$15.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$16=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},$Module_autoload$16.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$17=function(){return Object.keys(Opal.class_variables(this))},$Module_class_variables$17.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$18=function(t){t=$$($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},$Module_class_variable_get$18.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$19=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},$Module_class_variable_set$19.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$20=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},$Module_class_variable_defined$ques$20.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$21=function(t){if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(this.$$cvars,t)){var e=this.$$cvars[t];return delete this.$$cvars[t],e}this.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+this)},$Module_remove_class_variable$21.$$arity=1),Opal.def(self,"$constants",$Module_constants$22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},$Module_constants$22.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$23=function(t){if(null==t){var e,n,r,i=(this.$$nesting||[]).concat(Opal.Object),a={};for(n=0,r=i.length;n<r;n++)for(e in i[n].$$const)a[e]=!0;return Object.keys(a)}return Opal.constants(this,t)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$24=function(){return this.$$nesting||[]},$Module_nesting$24.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$25=function(t,e){null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,r,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),n=0,r=i.length;n<r;n++)if(null!=i[n].$$const[t])return!0;return!1},$Module_const_defined$ques$25.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$26=function(t,e){var n;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[this],((n=function(t,e){n.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=this,n.$$arity=2,n)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([this],t):Opal.const_get_local(this,t))},$Module_const_get$26.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$28=function(t){var e,n=this;if(n.$$autoload){var r=n.$$autoload[t];if(r)return n.$require(r),n.$const_get(t)}return e=n["$=="]($$($nesting,"Object"))?t:n+"::"+t,n.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},$Module_const_missing$28.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$29=function(t,e){var n;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(n=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?n:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},$Module_const_set$29.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$30=function(t){return nil},$Module_public_constant$30.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$31=function(t,e){var n,r,i=$Module_define_method$31.$$p,a=i||nil,s=this,o=nil;i&&($Module_define_method$31.$$p=null),i&&($Module_define_method$31.$$p=null),$truthy(void 0===e&&a===nil)&&s.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");var $="$"+t;return(a=$truthy(n=a)?n:(o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda(((r=function(t){var n,i=r.$$s||this,a=nil;return n=Opal.slice.call(arguments,0,arguments.length),a=e.$bind(i),$send(a,"call",Opal.to_a(n))}).$$s=s,r.$$arity=-1,r)):s.$raise($$($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Proc/Method)"))).$$jsid=t,a.$$s=null,a.$$def=a,a.$$define_meth=!0,Opal.defn(s,$,a),t},$Module_define_method$31.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$33=function(t){for(var e,n=this,r=0,i=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<i;r++)Opal.rdef(n,"$"+e[r]);return n},$Module_remove_method$33.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$34=function(){return!!this.$$is_singleton},$Module_singleton_class$ques$34.$$arity=0),Opal.def(self,"$include",$Module_include$35=function(t){for(var e,n=this,r=(e=Opal.slice.call(arguments,0,arguments.length)).length-1;r>=0;r--){var i=e[r];i.$$is_module||n.$raise($$($nesting,"TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(n),i.$included(n)}return n},$Module_include$35.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$36=function(){return Opal.included_modules(this)},$Module_included_modules$36.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$37=function(t){t.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,n,r,i=Opal.ancestors(this);for(e=0,n=i.length;e<n;e++)if((r=i[e])===t&&r!==this)return!0;return!1},$Module_include$ques$37.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$38=function(t){var e=this.$$prototype["$"+t];return e&&!e.$$stub||this.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(this,e.$$owner||this,e,t)},$Module_instance_method$38.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$39=function(t){return null==t&&(t=!0),$truthy(t)?Opal.instance_methods(this):Opal.own_instance_methods(this)},$Module_instance_methods$39.$$arity=-1),Opal.def(self,"$included",$Module_included$40=function(t){return nil},$Module_included$40.$$arity=1),Opal.def(self,"$extended",$Module_extended$41=function(t){return nil},$Module_extended$41.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$42=function(t){return nil},$Module_extend_object$42.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$43=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_added$43.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$44=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_removed$44.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$45=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_undefined$45.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$46=function $$module_eval($a){var $iter=$Module_module_eval$46.$$p,block=$iter||nil,$post_args,args,$b,$$47,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$46.$$p=null),$iter&&($Module_module_eval$46.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],($$47=function(){var self=$$47.$$s||this;return function(self){return eval(compiled)}(self)},$$47.$$s=self,$$47.$$arity=0,$$47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$48=function(t){var e,n=$Module_module_exec$48.$$p,r=n||nil,i=this;n&&($Module_module_exec$48.$$p=null),n&&($Module_module_exec$48.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),r===nil&&i.$raise($$($nesting,"LocalJumpError"),"no block given");var a,s=r.$$s;return r.$$s=null,a=r.apply(i,e),r.$$s=s,a},$Module_module_exec$48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$49=function(t){var e=this.$$prototype["$"+t];return!!e&&!e.$$stub},$Module_method_defined$ques$49.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$50=function(t){var e,n=this;if(0===(e=Opal.slice.call(arguments,0,arguments.length)).length)n.$$module_function=!0;else for(var r=0,i=e.length;r<i;r++){var a=e[r],s="$"+a,o=n.$$prototype[s];Opal.defs(n,s,o)}return n},$Module_module_function$50.$$arity=-1),Opal.def(self,"$name",$Module_name$51=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},$Module_name$51.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$52=function(t){var e,n=this;0===(e=Opal.slice.call(arguments,0,arguments.length)).length&&n.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var r=e.length-1;r>=0;r--){var i=e[r];i.$$is_module||n.$raise($$($nesting,"TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$prepend_features(n),i.$prepended(n)}return n},$Module_prepend$52.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$53=function(t){return this.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)"),Opal.prepend_features(this,t),this},$Module_prepend_features$53.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$54=function(t){return nil},$Module_prepended$54.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$55=function(t){return Opal.const_remove(this,t)},$Module_remove_const$55.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$56=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},$Module_to_s$56.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$57=function(t){for(var e,n=this,r=0,i=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<i;r++)Opal.udef(n,"$"+e[r]);return n},$Module_undef_method$57.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$58=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&e.push("@"+n);return e},$Module_instance_variables$58.$$arity=0),Opal.def(self,"$dup",$Module_dup$59=function(){var t=$Module_dup$59.$$p,e=this,n=nil,r=nil,i=nil,a=nil;for(t&&($Module_dup$59.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return(n=$send(e,Opal.find_super_dispatcher(e,"dup",$Module_dup$59,!1),r,t)).$copy_class_variables(e),n.$copy_constants(e),n},$Module_dup$59.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$60=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},$Module_copy_class_variables$60.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$61=function(t){var e,n=t.$$const;for(e in n)Opal.const_set(this,e,n[e])},$Module_copy_constants$61.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,n=[],r=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.send;return t.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,n,o){var $,l,u,c,d,f,_,p=a(e,null,"Class"),h=[p].concat(o);return t.defs(p,"$new",$=function(e){var n=$.$$p,a=n||r;if(n&&($.$$p=null),n&&($.$$p=null),null==e&&(e=i(h,"Object")),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var o=t.allocate_class(r,e);return e.$inherited(o),a!==r&&s(o,"class_eval",[],a.$to_proc()),o},$.$$arity=-1),t.def(p,"$allocate",l=function(){var e=new this.$$constructor;return e.$$id=t.uid(),e},l.$$arity=0),t.def(p,"$inherited",u=function(t){return r},u.$$arity=1),t.def(p,"$initialize_dup",c=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},c.$$arity=1),t.def(p,"$new",d=function(e){var n,i=d.$$p,a=i||r,s=this;i&&(d.$$p=null),i&&(d.$$p=null),n=t.slice.call(arguments,0,arguments.length);var o=s.$allocate();return t.send(o,o.$initialize,n,a),o},d.$$arity=-1),t.def(p,"$superclass",f=function(){return this.$$super||r},f.$$arity=0),t.def(p,"$to_s",_=function(){var e=_.$$p;e&&(_.$$p=null);var n=this.$$singleton_of;return n&&n.$$is_a_module?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":s(this,t.find_super_dispatcher(this,"to_s",_,!1),[],null)},_.$$arity=0),r&&"to_s"}(n[0],0,n)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_class$14,$BasicObject_method_missing$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(t){return this===t},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(t){return this["$=="](t)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){return null!=this.$$id||Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(t,e){var n,r=$BasicObject___send__$5.$$p,i=r||nil,a=this;r&&($BasicObject___send__$5.$$p=null),r&&($BasicObject___send__$5.$$p=null),n=Opal.slice.call(arguments,1,arguments.length);var s=a["$"+t];return s?(i!==nil&&(s.$$p=i),s.apply(a,n)):(i!==nil&&(a.$method_missing.$$p=i),a.$method_missing.apply(a,[t].concat(n)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(t){return this["$=="](t)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,$$9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],($$9=function(){var self=$$9.$$s||this;return function(self){return eval(compiled)}(self)},$$9.$$s=self,$$9.$$arity=0,$$9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function(t){var e,n=$BasicObject_instance_exec$10.$$p,r=n||nil,i=this;n&&($BasicObject_instance_exec$10.$$p=null),n&&($BasicObject_instance_exec$10.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),$truthy(r)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var a,s=r.$$s;if(r.$$s=null,i.$$is_a_module){i.$$eval=!0;try{a=r.apply(i,e)}finally{i.$$eval=!1}}else a=r.apply(i,e);return r.$$s=s,a},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$class",$BasicObject_class$14=function(){return this.$$class},$BasicObject_class$14.$$arity=0),Opal.def(self,"$method_missing",$BasicObject_method_missing$15=function(t,e){var n=$BasicObject_method_missing$15.$$p,r=this,i=nil;return n&&($BasicObject_method_missing$15.$$p=null),n&&($BasicObject_method_missing$15.$$p=null),Opal.slice.call(arguments,1,arguments.length),i=$truthy(r.$inspect&&!r.$inspect.$$stub)?"undefined method `"+t+"' for "+r.$inspect()+":"+r.$$class:"undefined method `"+t+"' for "+r.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(i,t))},$BasicObject_method_missing$15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.truthy,$=t.gvars,l=t.hash2,u=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(n,c){var d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht,yt,mt,gt,vt,bt,xt,wt=s(n,"Kernel"),kt=[wt].concat(c);t.def(wt,"$method_missing",d=function(e,n){var r,i=d.$$p,s=this;return i&&(d.$$p=null),i&&(d.$$p=null),r=t.slice.call(arguments,1,arguments.length),s.$raise(a(kt,"NoMethodError").$new("undefined method `"+e+"' for "+s.$inspect(),e,r))},d.$$arity=-2),t.def(wt,"$=~",f=function(t){return!1},f.$$arity=1),t.def(wt,"$!~",_=function(t){return this["$=~"](t)["$!"]()},_.$$arity=1),t.def(wt,"$===",p=function(t){var e;return o(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},p.$$arity=1),t.def(wt,"$<=>",h=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==r?0:r},h.$$arity=1),t.def(wt,"$method",y=function(t){var e=this["$"+t];return e&&!e.$$stub||this.$raise(a(kt,"NameError").$new("undefined method `"+t+"' for class `"+this.$class()+"'",t)),a(kt,"Method").$new(this,e.$$owner||this.$class(),e,t)},y.$$arity=1),t.def(wt,"$methods",m=function(e){return null==e&&(e=!0),o(e)?t.methods(this):t.own_methods(this)},m.$$arity=-1),t.def(wt,"$public_methods",g=function(e){return null==e&&(e=!0),o(e)?t.methods(this):t.receiver_methods(this)},g.$$arity=-1),t.def(wt,"$Array",v=function(t){var e;return t===r?[]:t.$$is_array?t:(e=a(kt,"Opal")["$coerce_to?"](t,a(kt,"Array"),"to_ary"))!==r||(e=a(kt,"Opal")["$coerce_to?"](t,a(kt,"Array"),"to_a"))!==r?e:[t]},v.$$arity=1),t.def(wt,"$at_exit",b=function(){var t,e=b.$$p,n=e||r;return null==$.__at_exit__&&($.__at_exit__=r),e&&(b.$$p=null),e&&(b.$$p=null),$.__at_exit__=o(t=$.__at_exit__)?t:[],$.__at_exit__["$<<"](n)},b.$$arity=0),t.def(wt,"$caller",x=function(e){return t.slice.call(arguments,0,arguments.length),[]},x.$$arity=-1),t.def(wt,"$class",w=function(){return this.$$class},w.$$arity=0),t.def(wt,"$copy_instance_variables",k=function(t){var e,n,r,i=Object.keys(t);for(e=0,n=i.length;e<n;e++)"$"!==(r=i[e]).charAt(0)&&t.hasOwnProperty(r)&&(this[r]=t[r])},k.$$arity=1),t.def(wt,"$copy_singleton_methods",A=function(e){var n,r,i,a;if(e.hasOwnProperty("$$meta")){var s=t.get_singleton_class(e),o=t.get_singleton_class(this);for(n=0,a=(i=Object.getOwnPropertyNames(s.$$prototype)).length;n<a;n++)r=i[n],t.is_method(r)&&(o.$$prototype[r]=s.$$prototype[r]);o.$$const=Object.assign({},s.$$const),Object.setPrototypeOf(o.$$prototype,Object.getPrototypeOf(s.$$prototype))}for(n=0,a=(i=Object.getOwnPropertyNames(e)).length;n<a;n++)"$"===(r=i[n]).charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(this[r]=e[r])},A.$$arity=1),t.def(wt,"$clone",E=function(e){var n=r;if(null==e)e=l([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,(n=this.$class().$allocate()).$copy_instance_variables(this),n.$copy_singleton_methods(this),n.$initialize_clone(this),n},E.$$arity=-1),t.def(wt,"$initialize_clone",O=function(t){return this.$initialize_copy(t)},O.$$arity=1),t.def(wt,"$define_singleton_method",S=function(t,e){var n=S.$$p,i=n||r;return n&&(S.$$p=null),n&&(S.$$p=null),u(this.$singleton_class(),"define_method",[t,e],i.$to_proc())},S.$$arity=-2),t.def(wt,"$dup",R=function(){var t=r;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},R.$$arity=0),t.def(wt,"$initialize_dup",C=function(t){return this.$initialize_copy(t)},C.$$arity=1),t.def(wt,"$enum_for",I=function(e,n){var i,s,o,$=I.$$p,l=$||r,c=this;return $&&(I.$$p=null),$&&(I.$$p=null),(i=t.slice.call(arguments,0,arguments.length)).length>0&&(s=i[0],i.splice(0,1)),null==s&&(s="each"),o=i,u(a(kt,"Enumerator"),"for",[c,s].concat(t.to_a(o)),l.$to_proc())},I.$$arity=-1),t.alias(wt,"to_enum","enum_for"),t.def(wt,"$equal?",T=function(t){return this===t},T.$$arity=1),t.def(wt,"$exit",L=function(e){var n;for(null==$.__at_exit__&&($.__at_exit__=r),null==e&&(e=!0),$.__at_exit__=o(n=$.__at_exit__)?n:[];!o($.__at_exit__["$empty?"]());)$.__at_exit__.$pop().$call();return e=e.$$is_boolean?e?0:1:a(kt,"Opal").$coerce_to(e,a(kt,"Integer"),"to_int"),t.exit(e),r},L.$$arity=-1),t.def(wt,"$extend",M=function(e){var n,r=this;n=t.slice.call(arguments,0,arguments.length);for(var i=r.$singleton_class(),s=n.length-1;s>=0;s--){var o=n[s];o.$$is_module||r.$raise(a(kt,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(i),o.$extend_object(r),o.$extended(r)}return r},M.$$arity=-1),t.def(wt,"$hash",P=function(){return this.$__id__()},P.$$arity=0),t.def(wt,"$initialize_copy",N=function(t){return r},N.$$arity=1),t.def(wt,"$inspect",B=function(){return this.$to_s()},B.$$arity=0),t.def(wt,"$instance_of?",D=function(t){return t.$$is_class||t.$$is_module||this.$raise(a(kt,"TypeError"),"class or module required"),this.$$class===t},D.$$arity=1),t.def(wt,"$instance_variable_defined?",z=function(e){return e=a(kt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},z.$$arity=1),t.def(wt,"$instance_variable_get",F=function(e){e=a(kt,"Opal")["$instance_variable_name!"](e);var n=this[t.ivar(e.substr(1))];return null==n?r:n},F.$$arity=1),t.def(wt,"$instance_variable_set",j=function(e,n){return e=a(kt,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=n},j.$$arity=2),t.def(wt,"$remove_instance_variable",q=function(e){e=a(kt,"Opal")["$instance_variable_name!"](e);var n,r=t.ivar(e.substr(1));return this.hasOwnProperty(r)?(n=this[r],delete this[r],n):this.$raise(a(kt,"NameError"),"instance variable "+e+" not defined")},q.$$arity=1),t.def(wt,"$instance_variables",U=function(){var t,e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,e.push("@"+t));return e},U.$$arity=0),t.def(wt,"$Integer",H=function(t,e){var n,i,s,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(1===(e=a(kt,"Opal").$coerce_to(e,a(kt,"Integer"),"to_int"))||e<0||e>36)&&o.$raise(a(kt,"ArgumentError"),"invalid radix "+e),i=(i=(i=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,(function(n,r,i){switch(i){case"0b":if(0===e||2===e)return e=2,r;case"0":case"0o":if(0===e||8===e)return e=8,r;case"0d":if(0===e||10===e)return e=10,r;case"0x":if(0===e||16===e)return e=16,r}o.$raise(a(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')})),s="0-"+((e=0===e?10:e)<=10?e-1:"9a-"+String.fromCharCode(e-11+97)),new RegExp("^\\s*[+-]?["+s+"]+\\s*$").test(i)||o.$raise(a(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n=parseInt(i,e),isNaN(n)&&o.$raise(a(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n):(void 0!==e&&o.$raise(a(kt,"ArgumentError"),"base specified for non string value"),t===r&&o.$raise(a(kt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-1/0||isNaN(t))&&o.$raise(a(kt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(n=t.$to_int())!==r?n:a(kt,"Opal")["$coerce_to!"](t,a(kt,"Integer"),"to_i"))},H.$$arity=-2),t.def(wt,"$Float",Y=function(t){var e;return t===r&&this.$raise(a(kt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(a(kt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):a(kt,"Opal")["$coerce_to!"](t,a(kt,"Float"),"to_f")},Y.$$arity=1),t.def(wt,"$Hash",G=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?l([],{}):o(a(kt,"Hash")["$==="](t))?t:a(kt,"Opal")["$coerce_to!"](t,a(kt,"Hash"),"to_hash")},G.$$arity=1),t.def(wt,"$is_a?",W=function(e){return e.$$is_class||e.$$is_module||this.$raise(a(kt,"TypeError"),"class or module required"),t.is_a(this,e)},W.$$arity=1),t.def(wt,"$itself",V=function(){return this},V.$$arity=0),t.alias(wt,"kind_of?","is_a?"),t.def(wt,"$lambda",X=function(){var e=X.$$p,n=e||r;return e&&(X.$$p=null),e&&(X.$$p=null),t.lambda(n)},X.$$arity=0),t.def(wt,"$load",K=function(e){return e=a(kt,"Opal")["$coerce_to!"](e,a(kt,"String"),"to_str"),t.load(e)},K.$$arity=1),t.def(wt,"$loop",J=function(){var e,n=J.$$p,s=n||r,$=r;if(n&&(J.$$p=null),s===r)return u(this,"enum_for",["loop"],((e=function(){e.$$s;return i(a(kt,"Float"),"INFINITY")}).$$s=this,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(s,[])}catch(e){if(!t.rescue(e,[a(kt,"StopIteration")]))throw e;$=e;try{return $.$result()}finally{t.pop_exception()}}return this},J.$$arity=0),t.def(wt,"$nil?",Z=function(){return!1},Z.$$arity=0),t.alias(wt,"object_id","__id__"),t.def(wt,"$printf",Q=function(e){var n,i,a=this;return n=t.slice.call(arguments,0,arguments.length),o((i=n)["$any?"]())&&a.$print(u(a,"format",t.to_a(i))),r},Q.$$arity=-1),t.def(wt,"$proc",tt=function(){var t=tt.$$p,e=t||r;return t&&(tt.$$p=null),t&&(tt.$$p=null),o(e)||this.$raise(a(kt,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},tt.$$arity=0),t.def(wt,"$puts",et=function(e){var n;return null==$.stdout&&($.stdout=r),n=t.slice.call(arguments,0,arguments.length),u($.stdout,"puts",t.to_a(n))},et.$$arity=-1),t.def(wt,"$p",nt=function(n){var i,a,s,l=this;return i=t.slice.call(arguments,0,arguments.length),u(a=i,"each",[],((s=function(t){s.$$s;return null==$.stdout&&($.stdout=r),null==t&&(t=r),$.stdout.$puts(t.$inspect())}).$$s=l,s.$$arity=1,s)),o(e(a.$length(),1))?a["$[]"](0):a},nt.$$arity=-1),t.def(wt,"$print",rt=function(e){var n;return null==$.stdout&&($.stdout=r),n=t.slice.call(arguments,0,arguments.length),u($.stdout,"print",t.to_a(n))},rt.$$arity=-1),t.def(wt,"$warn",it=function(e){var n,i;return null==$.VERBOSE&&($.VERBOSE=r),null==$.stderr&&($.stderr=r),n=t.slice.call(arguments,0,arguments.length),o(o(i=$.VERBOSE["$nil?"]())?i:n["$empty?"]())?r:u($.stderr,"puts",t.to_a(n))},it.$$arity=-1),t.def(wt,"$raise",at=function(e,n,i){if(null==$["!"]&&($["!"]=r),null==n&&(n=r),null==i&&(i=r),null==e&&$["!"]!==r)throw $["!"];throw null==e?e=a(kt,"RuntimeError").$new():e.$$is_string?e=a(kt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$is_a?"](a(kt,"Exception"))||(e=a(kt,"TypeError").$new("exception class/object expected")),$["!"]!==r&&t.exceptions.push($["!"]),$["!"]=e,e},at.$$arity=-1),t.alias(wt,"fail","raise"),t.def(wt,"$rand",st=function(t){return void 0===t?i(a(kt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),i(a(kt,"Random"),"DEFAULT").$rand(t))},st.$$arity=-1),t.def(wt,"$respond_to?",ot=function(t,e){if(null==e&&(e=!1),o(this["$respond_to_missing?"](t,e)))return!0;var n=this["$"+t];return"function"==typeof n&&!n.$$stub},ot.$$arity=-2),t.def(wt,"$respond_to_missing?",$t=function(t,e){return null==e&&(e=!1),!1},$t.$$arity=-2),t.def(wt,"$require",lt=function(e){return e=a(kt,"Opal")["$coerce_to!"](e,a(kt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.def(wt,"$require_relative",ut=function(e){return a(kt,"Opal")["$try_convert!"](e,a(kt,"String"),"to_str"),e=a(kt,"File").$expand_path(a(kt,"File").$join(t.current_file,"..",e)),t.require(e)},ut.$$arity=1),t.def(wt,"$require_tree",ct=function(e){var n=[];for(var r in e=a(kt,"File").$expand_path(e),"."===(e=t.normalize(e))&&(e=""),t.modules)r["$start_with?"](e)&&n.push([r,t.require(r)]);return n},ct.$$arity=1),t.alias(wt,"send","__send__"),t.alias(wt,"public_send","__send__"),t.def(wt,"$singleton_class",dt=function(){return t.get_singleton_class(this)},dt.$$arity=0),t.def(wt,"$sleep",ft=function(e){null==e&&(e=r),e===r&&this.$raise(a(kt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise(a(kt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&this.$raise(a(kt,"ArgumentError"),"time interval must be positive");for(var n=t.global.performance?function(){return performance.now()}:function(){return new Date},i=n();n()-i<=1e3*e;);return e},ft.$$arity=-1),t.def(wt,"$srand",_t=function(t){return null==t&&(t=a(kt,"Random").$new_seed()),a(kt,"Random").$srand(t)},_t.$$arity=-1),t.def(wt,"$String",pt=function(t){var e;return o(e=a(kt,"Opal")["$coerce_to?"](t,a(kt,"String"),"to_str"))?e:a(kt,"Opal")["$coerce_to!"](t,a(kt,"String"),"to_s")},pt.$$arity=1),t.def(wt,"$tap",ht=function(){var e=ht.$$p,n=e||r;return e&&(ht.$$p=null),e&&(ht.$$p=null),t.yield1(n,this),this},ht.$$arity=0),t.def(wt,"$to_proc",yt=function(){return this},yt.$$arity=0),t.def(wt,"$to_s",mt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},mt.$$arity=0),t.def(wt,"$catch",gt=function(e){var n=gt.$$p,i=n||r,s=r;n&&(gt.$$p=null);try{return t.yieldX(i,[])}catch(n){if(!t.rescue(n,[a(kt,"UncaughtThrowError")]))throw n;s=n;try{return s.$sym()["$=="](e)?s.$arg():this.$raise()}finally{t.pop_exception()}}},gt.$$arity=1),t.def(wt,"$throw",vt=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),r.$raise(a(kt,"UncaughtThrowError"),n)},vt.$$arity=-1),t.def(wt,"$open",bt=function(e){var n,i=bt.$$p,s=i||r;return i&&(bt.$$p=null),i&&(bt.$$p=null),n=t.slice.call(arguments,0,arguments.length),u(a(kt,"File"),"open",t.to_a(n),s.$to_proc())},bt.$$arity=-1),t.def(wt,"$yield_self",xt=function(){var e,n=xt.$$p,i=n||r;return n&&(xt.$$p=null),i===r?u(this,"enum_for",["yield_self"],((e=function(){e.$$s;return 1}).$$s=this,e.$$arity=0,e)):t.yield1(i,this)},xt.$$arity=0)}(n[0],n),function(t,e,n){var r=c(t,null,"Object"),i=[r].concat(n);return r.$include(a(i,"Kernel"))}(n[0],0,n)},Opal.modules["corelib/error"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.send,s=t.truthy,o=t.module,$=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,o,$){var l,u,c,d,f,_,p,h,y,m,g=i(e,o,"Exception"),v=[g].concat($);g.$$prototype.message=n,t.defs(g,"$new",l=function(e){var r,i=this,a=(r=t.slice.call(arguments,0,arguments.length)).length>0?r[0]:n,s=new i.$$constructor(a);return s.name=i.$$name,s.message=a,t.send(s,s.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,m),s},l.$$arity=-1),m=g.$new,t.defs(g,"$exception",u=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),a(r,"new",t.to_a(n))},u.$$arity=-1),t.def(g,"$initialize",c=function(e){var r,i=this;return r=t.slice.call(arguments,0,arguments.length),i.message=r.length>0?r[0]:n},c.$$arity=-1),t.def(g,"$backtrace",d=function(){if(this.backtrace)return this.backtrace;var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},d.$$arity=0),t.def(g,"$exception",f=function(t){if(null==t&&(t=n),t===n||this===t)return this;var e=this.$clone();return e.message=t,e},f.$$arity=-1),t.def(g,"$message",_=function(){return this.$to_s()},_.$$arity=0),t.def(g,"$inspect",p=function(){var t=n;return t=this.$to_s(),s(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.def(g,"$set_backtrace",h=function(t){var e,i,a=!0;if(t===n)this.backtrace=n;else if(t.$$is_string)this.backtrace=[t];else{if(t.$$is_array){for(e=0,i=t.length;e<i;e++)if(!t[e].$$is_string){a=!1;break}}else a=!1;!1===a&&this.$raise(r(v,"TypeError"),"backtrace must be Array of String"),this.backtrace=t}return t},h.$$arity=1),t.def(g,"$to_s",y=function(){var t,e;return s(t=s(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},y.$$arity=0)}(e[0],Error,e),function(t,e,n){[i(t,e,"ScriptError")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"SyntaxError")].concat(n)}(e[0],r(e,"ScriptError"),e),function(t,e,n){[i(t,e,"LoadError")].concat(n)}(e[0],r(e,"ScriptError"),e),function(t,e,n){[i(t,e,"NotImplementedError")].concat(n)}(e[0],r(e,"ScriptError"),e),function(t,e,n){[i(t,e,"SystemExit")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"NoMemoryError")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"SignalException")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"Interrupt")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"SecurityError")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"StandardError")].concat(n)}(e[0],r(e,"Exception"),e),function(t,e,n){[i(t,e,"EncodingError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"ZeroDivisionError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"NameError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"NoMethodError")].concat(n)}(e[0],r(e,"NameError"),e),function(t,e,n){[i(t,e,"RuntimeError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"FrozenError")].concat(n)}(e[0],r(e,"RuntimeError"),e),function(t,e,n){[i(t,e,"LocalJumpError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"TypeError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"ArgumentError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"IndexError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"StopIteration")].concat(n)}(e[0],r(e,"IndexError"),e),function(t,e,n){[i(t,e,"KeyError")].concat(n)}(e[0],r(e,"IndexError"),e),function(t,e,n){[i(t,e,"RangeError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"FloatDomainError")].concat(n)}(e[0],r(e,"RangeError"),e),function(t,e,n){[i(t,e,"IOError")].concat(n)}(e[0],r(e,"StandardError"),e),function(t,e,n){[i(t,e,"SystemCallError")].concat(n)}(e[0],r(e,"StandardError"),e),function(e,$){var l=[o(e,"Errno")].concat($);!function(e,r,o){var $,l=i(e,r,"EINVAL");[l].concat(o);t.defs(l,"$new",$=function(e){var r,i,o=$.$$p,l=n;return o&&($.$$p=null),null==e&&(e=n),l="Invalid argument",s(e)&&(i=" - "+e,l="number"==typeof(r=l)&&"number"==typeof i?r+i:r["$+"](i)),a(this,t.find_super_dispatcher(this,"new",$,!1,this.$$class.$$prototype),[l],null)},$.$$arity=-1)}(l[0],r(l,"SystemCallError"),l)}(e[0],e),function(e,r,o){var $,l=i(e,r,"UncaughtThrowError");[l].concat(o);l.$$prototype.sym=n,l.$attr_reader("sym","arg"),t.def(l,"$initialize",$=function(e){var n,r,i=$.$$p;return i&&($.$$p=null),this.sym=e["$[]"](0),s((n=e.$length(),r=1,"number"==typeof n&&"number"==typeof r?n>r:n["$>"](r)))&&(this.arg=e["$[]"](1)),a(this,t.find_super_dispatcher(this,"initialize",$,!1),["uncaught throw "+this.sym.$inspect()],null)},$.$$arity=1)}(e[0],r(e,"ArgumentError"),e),function(e,r,s){var o,$=i(e,null,"NameError");[$].concat(s);$.$attr_reader("name"),t.def($,"$initialize",o=function(e,r){var i=o.$$p;return i&&(o.$$p=null),null==r&&(r=n),a(this,t.find_super_dispatcher(this,"initialize",o,!1),[e],null),this.name=r},o.$$arity=-2)}(e[0],0,e),function(e,r,s){var o,$=i(e,null,"NoMethodError");[$].concat(s);$.$attr_reader("args"),t.def($,"$initialize",o=function(e,r,i){var s=o.$$p;return s&&(o.$$p=null),null==r&&(r=n),null==i&&(i=[]),a(this,t.find_super_dispatcher(this,"initialize",o,!1),[e,r],null),this.args=i},o.$$arity=-2)}(e[0],0,e),function(t,e,n){var r=i(t,null,"StopIteration");[r].concat(n);r.$attr_reader("result")}(e[0],0,e),function(e,o,l){var u,c,d,f=i(e,null,"KeyError"),_=[f].concat(l);f.$$prototype.receiver=f.$$prototype.key=n,t.def(f,"$initialize",u=function(e,r){var i,s,o=u.$$p;if(o&&(u.$$p=null),null==r)r=$([],{});else if(!r.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(i=r.$$smap.receiver)&&(i=n),null==(s=r.$$smap.key)&&(s=n),a(this,t.find_super_dispatcher(this,"initialize",u,!1),[e],null),this.receiver=i,this.key=s},u.$$arity=-2),t.def(f,"$receiver",c=function(){var t;return s(t=this.receiver)?t:this.$raise(r(_,"ArgumentError"),"no receiver is available")},c.$$arity=0),t.def(f,"$key",d=function(){var t;return s(t=this.key)?t:this.$raise(r(_,"ArgumentError"),"no key is available")},d.$$arity=0)}(e[0],0,e),function(t,e){var n=[o(t,"JS")].concat(e);!function(t,e,n){[i(t,null,"Error")].concat(n)}(n[0],0,n)}(e[0],e)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.1"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-12-25"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+n(e,"RUBY_ENGINE_VERSION")+" ("+n(e,"RUBY_RELEASE_DATE")+" revision "+n(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var n=[],r=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.hash2,o=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(n,$,l){var u,c,d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S=a(n,null,"NilClass"),R=[S].concat(l);S.$$prototype.$$meta=S,function(e,n){var r,a=[e].concat(n);t.def(e,"$allocate",r=function(){return this.$raise(i(a,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(S),R),t.def(S,"$!",u=function(){return!0},u.$$arity=0),t.def(S,"$&",c=function(t){return!1},c.$$arity=1),t.def(S,"$|",d=function(t){return!1!==t&&t!==r},d.$$arity=1),t.def(S,"$^",f=function(t){return!1!==t&&t!==r},f.$$arity=1),t.def(S,"$==",_=function(t){return t===r},_.$$arity=1),t.def(S,"$dup",p=function(){return r},p.$$arity=0),t.def(S,"$clone",h=function(e){if(null==e)e=s([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,r},h.$$arity=-1),t.def(S,"$inspect",y=function(){return"nil"},y.$$arity=0),t.def(S,"$nil?",m=function(){return!0},m.$$arity=0),t.def(S,"$singleton_class",g=function(){return i(R,"NilClass")},g.$$arity=0),t.def(S,"$to_a",v=function(){return[]},v.$$arity=0),t.def(S,"$to_h",b=function(){return t.hash()},b.$$arity=0),t.def(S,"$to_i",x=function(){return 0},x.$$arity=0),t.alias(S,"to_f","to_i"),t.def(S,"$to_s",w=function(){return""},w.$$arity=0),t.def(S,"$to_c",k=function(){return i(R,"Complex").$new(0,0)},k.$$arity=0),t.def(S,"$rationalize",A=function(n){var r,a=this;return r=t.slice.call(arguments,0,arguments.length),o(e(r.$length(),1))&&a.$raise(i(R,"ArgumentError")),a.$Rational(0,1)},A.$$arity=-1),t.def(S,"$to_r",E=function(){return this.$Rational(0,1)},E.$$arity=0),t.def(S,"$instance_variables",O=function(){return[]},O.$$arity=0)}(n[0],0,n),t.const_set(n[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,s,o){var $,l,u,c,d,f,_,p,h,y,m=i(e,s,"Boolean"),g=[m].concat(o);t.defineProperty(m.$$prototype,"$$is_boolean",!0),t.defineProperty(m.$$prototype,"$$meta",m),function(e,n){var i,a=[e].concat(n);t.def(e,"$allocate",i=function(){return this.$raise(r(a,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(m),g),t.def(m,"$__id__",$=function(){return this.valueOf()?2:0},$.$$arity=0),t.alias(m,"object_id","__id__"),t.def(m,"$!",l=function(){return 1!=this},l.$$arity=0),t.def(m,"$&",u=function(t){return 1==this&&(!1!==t&&t!==n)},u.$$arity=1),t.def(m,"$|",c=function(t){return 1==this||!1!==t&&t!==n},c.$$arity=1),t.def(m,"$^",d=function(t){return 1==this?!1===t||t===n:!1!==t&&t!==n},d.$$arity=1),t.def(m,"$==",f=function(t){return 1==this===t.valueOf()},f.$$arity=1),t.alias(m,"equal?","=="),t.alias(m,"eql?","=="),t.def(m,"$singleton_class",_=function(){return r(g,"Boolean")},_.$$arity=0),t.def(m,"$to_s",p=function(){return 1==this?"true":"false"},p.$$arity=0),t.def(m,"$dup",h=function(){return this},h.$$arity=0),t.def(m,"$clone",y=function(e){if(null==e)e=a([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},y.$$arity=-1)}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",r(e,"Boolean")),t.const_set(e[0],"FalseClass",r(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var r=[],i=t.nil,a=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(r,$){var l,u,c,d,f,_,p,h,y=s(r,"Comparable"),m=[y].concat($);t.defs(y,"$normalize",l=function(t){return o(a(m,"Integer")["$==="](t))?t:o(e(t,0))?1:o(n(t,0))?-1:0},l.$$arity=1),t.def(y,"$==",u=function(e){var n=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(n=this["$<=>"](e))&&0==a(m,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[a(m,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},u.$$arity=1),t.def(y,"$>",c=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(a(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),a(m,"Comparable").$normalize(e)>0},c.$$arity=1),t.def(y,"$>=",d=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(a(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),a(m,"Comparable").$normalize(e)>=0},d.$$arity=1),t.def(y,"$<",f=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(a(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),a(m,"Comparable").$normalize(e)<0},f.$$arity=1),t.def(y,"$<=",_=function(t){var e;return o(e=this["$<=>"](t))||this.$raise(a(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),a(m,"Comparable").$normalize(e)<=0},_.$$arity=1),t.def(y,"$between?",p=function(t,r){return!n(this,t)&&!e(this,r)},p.$$arity=2),t.def(y,"$clamp",h=function(t,r){var i;return i=t["$<=>"](r),o(i)||this.$raise(a(m,"ArgumentError"),"comparison of "+t.$class()+" with "+r.$class()+" failed"),o(e(a(m,"Comparable").$normalize(i),0))&&this.$raise(a(m,"ArgumentError"),"min argument must be smaller than max argument"),o(n(a(m,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e(a(m,"Comparable").$normalize(this["$<=>"](r)),0))?r:this},h.$$arity=2)}(r[0],r)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.send,s=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){[i(t,e,"RegexpError")].concat(n)}(e[0],r(e,"StandardError"),e),function(e,$,l){var u,c,d,f,_,p,h,y,m,g,v=i(e,$,"Regexp"),b=[v].concat(l);t.const_set(b[0],"IGNORECASE",1),t.const_set(b[0],"EXTENDED",2),t.const_set(b[0],"MULTILINE",4),t.defineProperty(v.$$prototype,"$$is_regexp",!0),function(e,i){var $,l,u,c,d,f=[e].concat(i);t.def(e,"$allocate",$=function(){var e=$.$$p,r=this,i=n,s=n,o=n,l=n;for(e&&($.$$p=null),o=0,l=arguments.length,s=new Array(l);o<l;o++)s[o]=arguments[o];return(i=a(r,t.find_super_dispatcher(r,"allocate",$,!1),s,e)).uninitialized=!0,i},$.$$arity=0),t.def(e,"$escape",l=function(e){return t.escape_regexp(e)},l.$$arity=1),t.def(e,"$last_match",u=function(t){return null==o["~"]&&(o["~"]=n),null==t&&(t=n),s(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},u.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function(e){var n,i,a,s,o,$,l=this;if(0==(n=t.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==n.length&&n[0].$$is_regexp)return n[0];i=n[0].$$is_array,n.length>1&&i&&l.$raise(r(f,"TypeError"),"no implicit conversion of Array into String"),i&&(n=n[0]),o=void 0,a=[];for(var u=0;u<n.length;u++)(s=n[u]).$$is_string?a.push(l.$escape(s)):s.$$is_regexp?($=s.$options(),null!=o&&o!=$&&l.$raise(r(f,"TypeError"),"All expressions must use the same options"),o=$,a.push("("+s.source+")")):a.push(l.$escape(s.$to_str()));return l.$new(a.$join("|"),o)},c.$$arity=-1),t.def(e,"$new",d=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=r(f,"Opal")["$coerce_to!"](t,r(f,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(r(f,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var n="";r(f,"IGNORECASE")&e&&(n+="i"),r(f,"MULTILINE")&e&&(n+="m"),e=n}else e="i";return new RegExp(t,e)},d.$$arity=-2)}(t.get_singleton_class(v),b),t.def(v,"$==",u=function(t){return t instanceof RegExp&&this.toString()===t.toString()},u.$$arity=1),t.def(v,"$===",c=function(t){return this.$match(r(b,"Opal")["$coerce_to?"](t,r(b,"String"),"to_str"))!==n},c.$$arity=1),t.def(v,"$=~",d=function(t){var e;return null==o["~"]&&(o["~"]=n),s(e=this.$match(t))?o["~"].$begin(0):e},d.$$arity=1),t.alias(v,"eql?","=="),t.def(v,"$inspect",f=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var n=e[1],r=e[2],i=n.split(""),a=i.length,s=!1,o="",$=0;$<a;$++){var l=i[$];s||"/"!=l||(o=o.concat("\\")),o=o.concat(l),s="\\"==l&&!s}return"/"+o+"/"+r}return t},f.$$arity=0),t.def(v,"$match",_=function(e,i){var a=_.$$p,s=a||n;if(null==o["~"]&&(o["~"]=n),a&&(_.$$p=null),a&&(_.$$p=null),this.uninitialized&&this.$raise(r(b,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===n)return o["~"]=n;var $=this.exec(r(b,"Opal").$coerce_to(e,r(b,"String"),"to_str"));return $?(o["~"]=r(b,"MatchData").$new(this,$),s===n?o["~"]:t.yield1(s,o["~"])):o["~"]=n}if(i=r(b,"Opal").$coerce_to(i,r(b,"Integer"),"to_int"),e===n)return o["~"]=n;if(e=r(b,"Opal").$coerce_to(e,r(b,"String"),"to_str"),i<0&&(i+=e.length)<0)return o["~"]=n;for(var l,u=t.global_regexp(this);;){if(null===(l=u.exec(e)))return o["~"]=n;if(l.index>=i)return o["~"]=r(b,"MatchData").$new(u,l),s===n?o["~"]:t.yield1(s,o["~"]);u.lastIndex=l.index+1}},_.$$arity=-2),t.def(v,"$match?",p=function(e,i){var a;return this.uninitialized&&this.$raise(r(b,"TypeError"),"uninitialized Regexp"),void 0===i?e!==n&&this.test(r(b,"Opal").$coerce_to(e,r(b,"String"),"to_str")):(i=r(b,"Opal").$coerce_to(i,r(b,"Integer"),"to_int"),e!==n&&(e=r(b,"Opal").$coerce_to(e,r(b,"String"),"to_str"),!(i<0&&(i+=e.length)<0)&&!(null===(a=t.global_regexp(this).exec(e))||a.index<i)))},p.$$arity=-2),t.def(v,"$~",h=function(){return null==o._&&(o._=n),this["$=~"](o._)},h.$$arity=0),t.def(v,"$source",y=function(){return this.source},y.$$arity=0),t.def(v,"$options",m=function(){this.uninitialized&&this.$raise(r(b,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=r(b,"MULTILINE")),this.ignoreCase&&(t|=r(b,"IGNORECASE")),t},m.$$arity=0),t.def(v,"$casefold?",g=function(){return this.ignoreCase},g.$$arity=0),t.alias(v,"to_s","source")}(e[0],RegExp,e),function(e,$,l){var u,c,d,f,_,p,h,y,m,g,v,b,x=i(e,null,"MatchData"),w=[x].concat(l);return x.$$prototype.matches=n,x.$attr_reader("post_match","pre_match","regexp","string"),t.def(x,"$initialize",u=function(t,e){o["~"]=this,this.regexp=t,this.begin=e.index,this.string=e.input,this.pre_match=e.input.slice(0,e.index),this.post_match=e.input.slice(e.index+e[0].length),this.matches=[];for(var r=0,i=e.length;r<i;r++){var a=e[r];null==a?this.matches.push(n):this.matches.push(a)}},u.$$arity=2),t.def(x,"$[]",c=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),a(r.matches,"[]",t.to_a(n))},c.$$arity=-1),t.def(x,"$offset",d=function(t){return 0!==t&&this.$raise(r(w,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},d.$$arity=1),t.def(x,"$==",f=function(t){var e,n,i,a;return!!s(r(w,"MatchData")["$==="](t))&&(s(e=s(n=s(i=s(a=this.string==t.string)?this.regexp.toString()==t.regexp.toString():a)?this.pre_match==t.pre_match:i)?this.post_match==t.post_match:n)?this.begin==t.begin:e)},f.$$arity=1),t.alias(x,"eql?","=="),t.def(x,"$begin",_=function(t){return 0!==t&&this.$raise(r(w,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},_.$$arity=1),t.def(x,"$end",p=function(t){return 0!==t&&this.$raise(r(w,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},p.$$arity=1),t.def(x,"$captures",h=function(){return this.matches.slice(1)},h.$$arity=0),t.def(x,"$inspect",y=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,n=this.matches.length;e<n;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},y.$$arity=0),t.def(x,"$length",m=function(){return this.matches.length},m.$$arity=0),t.alias(x,"size","length"),t.def(x,"$to_a",g=function(){return this.matches},g.$$arity=0),t.def(x,"$to_s",v=function(){return this.matches[0]},v.$$arity=0),t.def(x,"$values_at",b=function(e){var i,a=this;i=t.slice.call(arguments,0,arguments.length);var s,o,$,l=[];for(s=0;s<i.length;s++)i[s].$$is_range&&((o=i[s].$to_a()).unshift(s,1),Array.prototype.splice.apply(i,o)),($=r(w,"Opal")["$coerce_to!"](i[s],r(w,"Integer"),"to_int"))<0&&($+=a.matches.length)<0?l.push(n):l.push(a.matches[$]);return l},b.$$arity=-1),n&&"values_at"}(e[0],0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),$=t.truthy,l=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),r.$require("corelib/comparable"),r.$require("corelib/regexp"),function(r,i,c){var d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht,yt,mt,gt,vt,bt,xt,wt,kt,At,Et,Ot,St,Rt,Ct,It,Tt,Lt,Mt=o(r,String,"String"),Pt=[Mt].concat(c);function Nt(t){function e(t){var e,n,r,i,a,o,$="",l=t.length;for(e=0;e<l;e++)if("-"===(n=t.charAt(e))&&e>0&&e<l-1&&!r){for((i=t.charCodeAt(e-1))>(a=t.charCodeAt(e+1))&&Mt.$raise(s(Pt,"ArgumentError"),'invalid range "'+i+"-"+a+'" in string transliteration'),o=i+1;o<a+1;o++)$+=String.fromCharCode(o);r=!0,e++}else r="\\"===n,$+=n;return $}function n(t,e){if(0===t.length)return e;var n,r,i="",a=t.length;for(n=0;n<a;n++)r=t.charAt(n),-1!==e.indexOf(r)&&(i+=r);return i}var r,i,a,o,$,l,u="",c="";for(r=0,i=t.length;r<i;r++)o="^"===(a=s(Pt,"Opal").$coerce_to(t[r],s(Pt,"String"),"to_str")).charAt(0)&&a.length>1,a=e(o?a.slice(1):a),o?c=n(c,a):u=n(u,a);if(u.length>0&&c.length>0){for(l="",r=0,i=u.length;r<i;r++)$=u.charAt(r),-1===c.indexOf($)&&(l+=$);u=l,c=""}return u.length>0?"["+s(Pt,"Regexp").$escape(u)+"]":c.length>0?"[^"+s(Pt,"Regexp").$escape(c)+"]":null}Mt.$include(s(Pt,"Comparable")),t.defineProperty(Mt.$$prototype,"$$is_string",!0),t.defineProperty(Mt.$$prototype,"$$cast",(function(t){var e=this.$$class;return e.$$constructor===String?t:new e.$$constructor(t)})),t.def(Mt,"$__id__",d=function(){return this.toString()},d.$$arity=0),t.alias(Mt,"object_id","__id__"),t.defs(Mt,"$try_convert",f=function(t){return s(Pt,"Opal")["$coerce_to?"](t,s(Pt,"String"),"to_str")},f.$$arity=1),t.defs(Mt,"$new",_=function(t){return null==t&&(t=""),t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str"),new this.$$constructor(t)},_.$$arity=-1),t.def(Mt,"$initialize",p=function(t){return void 0===t?this:this.$raise(s(Pt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},p.$$arity=-1),t.def(Mt,"$%",h=function(e){var n=this;return $(s(Pt,"Array")["$==="](e))?l(n,"format",[n].concat(t.to_a(e))):n.$format(n,e)},h.$$arity=1),t.def(Mt,"$*",y=function(t){if((t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int"))<0&&this.$raise(s(Pt,"ArgumentError"),"negative argument"),0===t)return this.$$cast("");var e="",n=this.toString();for(n.length*t>=1<<28&&this.$raise(s(Pt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=n),0!==(t>>>=1);)n+=n;return this.$$cast(e)},y.$$arity=1),t.def(Mt,"$+",m=function(t){return this+(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str")).$to_s()},m.$$arity=1),t.def(Mt,"$<=>",g=function(t){if($(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var e=t["$<=>"](this);return e===a?a:e>0?-1:e<0?1:0},g.$$arity=1),t.def(Mt,"$==",v=function(t){return t.$$is_string?this.toString()===t.toString():!!s(Pt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},v.$$arity=1),t.alias(Mt,"eql?","=="),t.alias(Mt,"===","=="),t.def(Mt,"$=~",b=function(t){return t.$$is_string&&this.$raise(s(Pt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},b.$$arity=1),t.def(Mt,"$[]",x=function(t,e){var n,r=this.length;if(t.$$is_range)return n=t.excl,e=s(Pt,"Opal").$coerce_to(t.end,s(Pt,"Integer"),"to_int"),t=s(Pt,"Opal").$coerce_to(t.begin,s(Pt,"Integer"),"to_int"),Math.abs(t)>r?a:(t<0&&(t+=r),e<0&&(e+=r),n||(e+=1),(e-=t)<0&&(e=0),this.$$cast(this.substr(t,e)));if(t.$$is_string)return null!=e&&this.$raise(s(Pt,"TypeError")),-1!==this.indexOf(t)?this.$$cast(t):a;if(t.$$is_regexp){var i=this.match(t);return null===i?(u["~"]=a,a):(u["~"]=s(Pt,"MatchData").$new(t,i),null==e?this.$$cast(i[0]):(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"Integer"),"to_int"))<0&&-e<i.length?this.$$cast(i[e+=i.length]):e>=0&&e<i.length?this.$$cast(i[e]):a)}return(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int"))<0&&(t+=r),null==e?t>=r||t<0?a:this.$$cast(this.substr(t,1)):(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"Integer"),"to_int"))<0||t>r||t<0?a:this.$$cast(this.substr(t,e))},x.$$arity=-2),t.alias(Mt,"byteslice","[]"),t.def(Mt,"$b",w=function(){return this.$force_encoding("binary")},w.$$arity=0),t.def(Mt,"$capitalize",k=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},k.$$arity=0),t.def(Mt,"$casecmp",A=function(t){var e=this;if(!$(t["$respond_to?"]("to_str")))return a;t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(e)&&n.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},A.$$arity=1),t.def(Mt,"$casecmp?",E=function(t){var e=this.$casecmp(t);return e===a?a:0===e},E.$$arity=1),t.def(Mt,"$center",O=function(t,r){if(null==r&&(r=" "),t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int"),r=s(Pt,"Opal").$coerce_to(r,s(Pt,"String"),"to_str").$to_s(),$(r["$empty?"]())&&this.$raise(s(Pt,"ArgumentError"),"zero width padding"),$(t<=this.length))return this;var i=this.$ljust(e(n(t,this.length),2).$ceil(),r),a=this.$rjust(e(n(t,this.length),2).$floor(),r);return this.$$cast(a+i.slice(this.length))},O.$$arity=-2),t.def(Mt,"$chars",S=function(){var t=S.$$p,e=t||a;return t&&(S.$$p=null),t&&(S.$$p=null),$(e)?l(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},S.$$arity=0),t.def(Mt,"$chomp",R=function(t){var e;if(null==u["/"]&&(u["/"]=a),null==t&&(t=u["/"]),$(t===a||0===this.length))return this;if("\n"===(t=s(Pt,"Opal")["$coerce_to!"](t,s(Pt,"String"),"to_str").$to_s()))e=this.replace(/\r?\n?$/,"");else if(""===t)e=this.replace(/(\r?\n)+$/,"");else if(this.length>=t.length){this.substr(this.length-t.length,t.length)===t&&(e=this.substr(0,this.length-t.length))}return null!=e?this.$$cast(e):this},R.$$arity=-1),t.def(Mt,"$chop",C=function(){var t,e=this.length;return t=e<=1?"":"\n"===this.charAt(e-1)&&"\r"===this.charAt(e-2)?this.substr(0,e-2):this.substr(0,e-1),this.$$cast(t)},C.$$arity=0),t.def(Mt,"$chr",I=function(){return this.charAt(0)},I.$$arity=0),t.def(Mt,"$clone",T=function(){var t=a;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},T.$$arity=0),t.def(Mt,"$dup",L=function(){var t=a;return(t=this.slice()).$initialize_dup(this),t},L.$$arity=0),t.def(Mt,"$count",M=function(e){var n,r=this;0===(n=t.slice.call(arguments,0,arguments.length)).length&&r.$raise(s(Pt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var i=Nt(n);return null===i?0:r.length-r.replace(new RegExp(i,"g"),"").length},M.$$arity=-1),t.def(Mt,"$delete",P=function(e){var n,r=this;0===(n=t.slice.call(arguments,0,arguments.length)).length&&r.$raise(s(Pt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var i=Nt(n);return null===i?r:r.$$cast(r.replace(new RegExp(i,"g"),""))},P.$$arity=-1),t.def(Mt,"$delete_prefix",N=function(t){return t.$$is_string||(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str")),this.slice(0,t.length)===t?this.$$cast(this.slice(t.length)):this},N.$$arity=1),t.def(Mt,"$delete_suffix",B=function(t){return t.$$is_string||(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str")),this.slice(this.length-t.length)===t?this.$$cast(this.slice(0,this.length-t.length)):this},B.$$arity=1),t.def(Mt,"$downcase",D=function(){return this.$$cast(this.toLowerCase())},D.$$arity=0),t.def(Mt,"$each_char",z=function(){var e,n=z.$$p,r=n||a;if(n&&(z.$$p=null),n&&(z.$$p=null),r===a)return l(this,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i=0,s=this.length;i<s;i++)t.yield1(r,this.charAt(i));return this},z.$$arity=0),t.def(Mt,"$each_line",F=function(e){var n,r,i,o,$,l,c,d=F.$$p,f=d||a;if(null==u["/"]&&(u["/"]=a),d&&(F.$$p=null),d&&(F.$$p=null),null==e&&(e=u["/"]),f===a)return this.$enum_for("each_line",e);if(e===a)return t.yield1(f,this),this;if(0===(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str")).length){for(r=0,i=(n=this.split(/(\n{2,})/)).length;r<i;r+=2)if(n[r]||n[r+1]){var _=(n[r]||"")+(n[r+1]||"");t.yield1(f,this.$$cast(_))}return this}for($=this.$chomp(e),l=this.length!=$.length,r=0,o=(c=$.split(e)).length;r<o;r++)r<o-1||l?t.yield1(f,this.$$cast(c[r]+e)):t.yield1(f,this.$$cast(c[r]));return this},F.$$arity=-1),t.def(Mt,"$empty?",j=function(){return 0===this.length},j.$$arity=0),t.def(Mt,"$end_with?",q=function(e){for(var n,r=this,i=0,a=(n=t.slice.call(arguments,0,arguments.length)).length;i<a;i++){var o=s(Pt,"Opal").$coerce_to(n[i],s(Pt,"String"),"to_str").$to_s();if(r.length>=o.length&&r.substr(r.length-o.length,o.length)==o)return!0}return!1},q.$$arity=-1),t.alias(Mt,"equal?","==="),t.def(Mt,"$gsub",U=function(e,n){var r=U.$$p,i=r||a,o=this;if(r&&(U.$$p=null),r&&(U.$$p=null),void 0===n&&i===a)return o.$enum_for("gsub",e);var $,l,c,d="",f=a,_=0;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===($=e.exec(o))){u["~"]=a,d+=o.slice(_);break}f=s(Pt,"MatchData").$new(e,$),void 0===n?(c=e.lastIndex,l=i($[0]),e.lastIndex=c):n.$$is_hash?l=n["$[]"]($[0]).$to_s():(n.$$is_string||(n=s(Pt,"Opal").$coerce_to(n,s(Pt,"String"),"to_str")),l=n.replace(/([\\]+)([0-9+&`'])/g,(function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var r=$.length-1;r>0;r--)if(void 0!==$[r])return e.slice(1)+$[r];return"";case"&":return e.slice(1)+$[0];case"`":return e.slice(1)+o.slice(0,$.index);case"'":return e.slice(1)+o.slice($.index+$[0].length);default:return e.slice(1)+($[n]||"")}})).replace(/\\\\/g,"\\")),e.lastIndex===$.index?(d+=l+o.slice(_,$.index+1),e.lastIndex+=1):d+=o.slice(_,$.index)+l,_=e.lastIndex}return u["~"]=f,o.$$cast(d)},U.$$arity=-2),t.def(Mt,"$hash",H=function(){return this.toString()},H.$$arity=0),t.def(Mt,"$hex",Y=function(){return this.$to_i(16)},Y.$$arity=0),t.def(Mt,"$include?",G=function(t){return t.$$is_string||(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str")),-1!==this.indexOf(t)},G.$$arity=1),t.def(Mt,"$index",W=function(e,n){var r,i,o;if(void 0===n)n=0;else if((n=s(Pt,"Opal").$coerce_to(n,s(Pt,"Integer"),"to_int"))<0&&(n+=this.length)<0)return a;if(e.$$is_regexp)for(o=t.global_multiline_regexp(e);;){if(null===(i=o.exec(this))){u["~"]=a,r=-1;break}if(i.index>=n){u["~"]=s(Pt,"MatchData").$new(o,i),r=i.index;break}o.lastIndex=i.index+1}else r=0===(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str")).length&&n>this.length?-1:this.indexOf(e,n);return-1===r?a:r},W.$$arity=-2),t.def(Mt,"$inspect",V=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,(function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)})).replace(/\#[\$\@\{]/g,"\\$&")+'"'},V.$$arity=0),t.def(Mt,"$intern",X=function(){return this.toString()},X.$$arity=0),t.def(Mt,"$lines",K=function(t){var e=K.$$p,n=e||a,r=a;return null==u["/"]&&(u["/"]=a),e&&(K.$$p=null),e&&(K.$$p=null),null==t&&(t=u["/"]),r=l(this,"each_line",[t],n.$to_proc()),$(n)?this:r.$to_a()},K.$$arity=-1),t.def(Mt,"$length",J=function(){return this.length},J.$$arity=0),t.def(Mt,"$ljust",Z=function(t,e){if(null==e&&(e=" "),t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int"),e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str").$to_s(),$(e["$empty?"]())&&this.$raise(s(Pt,"ArgumentError"),"zero width padding"),$(t<=this.length))return this;var n=-1,r="";for(t-=this.length;++n<t;)r+=e;return this.$$cast(this+r.slice(0,t))},Z.$$arity=-2),t.def(Mt,"$lstrip",Q=function(){return this.replace(/^\s*/,"")},Q.$$arity=0),t.def(Mt,"$ascii_only?",tt=function(){return this.match(/[ -~\n]*/)[0]===this},tt.$$arity=0),t.def(Mt,"$match",et=function(t,e){var n,r=et.$$p,i=r||a;return r&&(et.$$p=null),r&&(et.$$p=null),$($(n=s(Pt,"String")["$==="](t))?n:t["$respond_to?"]("to_str"))&&(t=s(Pt,"Regexp").$new(t.$to_str())),$(s(Pt,"Regexp")["$==="](t))||this.$raise(s(Pt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[this,e],i.$to_proc())},et.$$arity=-2),t.def(Mt,"$match?",nt=function(t,e){var n;return $($(n=s(Pt,"String")["$==="](t))?n:t["$respond_to?"]("to_str"))&&(t=s(Pt,"Regexp").$new(t.$to_str())),$(s(Pt,"Regexp")["$==="](t))||this.$raise(s(Pt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,e)},nt.$$arity=-2),t.def(Mt,"$next",rt=function(){var t=this.length;if(0===t)return this.$$cast("");for(var e,n=this,r=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if((e=this.charCodeAt(t))>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===r?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(n=n.slice(0,t)+String.fromCharCode(e)+n.slice(t+1),i&&(0===t||t===r)){switch(e){case 65:case 97:break;default:e+=1}n=0===t?String.fromCharCode(e)+n:n.slice(0,t)+String.fromCharCode(e)+n.slice(t),i=!1}if(!i)break}return this.$$cast(n)},rt.$$arity=0),t.def(Mt,"$oct",it=function(){var t,e=this,n=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,(function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i})),t=parseInt(e.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},it.$$arity=0),t.def(Mt,"$ord",at=function(){return this.charCodeAt(0)},at.$$arity=0),t.def(Mt,"$partition",st=function(t){var e,n;return t.$$is_regexp?null===(n=t.exec(this))?e=-1:(s(Pt,"MatchData").$new(t,n),t=n[0],e=n.index):(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str"),e=this.indexOf(t)),-1===e?[this,"",""]:[this.slice(0,e),this.slice(e,e+t.length),this.slice(e+t.length)]},st.$$arity=1),t.def(Mt,"$reverse",ot=function(){return this.split("").reverse().join("")},ot.$$arity=0),t.def(Mt,"$rindex",$t=function(e,n){var r,i,o,$;if(void 0===n)n=this.length;else if((n=s(Pt,"Opal").$coerce_to(n,s(Pt,"Integer"),"to_int"))<0&&(n+=this.length)<0)return a;if(e.$$is_regexp){for(i=null,o=t.global_multiline_regexp(e);!(null===($=o.exec(this))||$.index>n);)i=$,o.lastIndex=i.index+1;null===i?(u["~"]=a,r=-1):(s(Pt,"MatchData").$new(o,i),r=i.index)}else e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str"),r=this.lastIndexOf(e,n);return-1===r?a:r},$t.$$arity=-2),t.def(Mt,"$rjust",lt=function(t,e){if(null==e&&(e=" "),t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int"),e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str").$to_s(),$(e["$empty?"]())&&this.$raise(s(Pt,"ArgumentError"),"zero width padding"),$(t<=this.length))return this;var n=Math.floor(t-this.length),r=Math.floor(n/e.length),i=Array(r+1).join(e),a=n-i.length;return this.$$cast(i+e.slice(0,a)+this)},lt.$$arity=-2),t.def(Mt,"$rpartition",ut=function(e){var n,r,i,a;if(e.$$is_regexp){for(r=null,i=t.global_multiline_regexp(e);null!==(a=i.exec(this));)r=a,i.lastIndex=r.index+1;null===r?n=-1:(s(Pt,"MatchData").$new(i,r),e=r[0],n=r.index)}else e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str"),n=this.lastIndexOf(e);return-1===n?["","",this]:[this.slice(0,n),this.slice(n,n+e.length),this.slice(n+e.length)]},ut.$$arity=1),t.def(Mt,"$rstrip",ct=function(){return this.replace(/[\s\u0000]*$/,"")},ct.$$arity=0),t.def(Mt,"$scan",dt=function(e){var n=dt.$$p,r=n||a;n&&(dt.$$p=null),n&&(dt.$$p=null);var i,o=[],$=a;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=e.exec(this));)$=s(Pt,"MatchData").$new(e,i),r===a?1==i.length?o.push(i[0]):o.push($.$captures()):1==i.length?r(i[0]):r.call(this,$.$captures()),e.lastIndex===i.index&&(e.lastIndex+=1);return u["~"]=$,r!==a?this:o},dt.$$arity=1),t.alias(Mt,"size","length"),t.alias(Mt,"slice","[]"),t.def(Mt,"$split",ft=function(e,n){var r,i=this;if(null==u[";"]&&(u[";"]=a),0===i.length)return[];if(void 0===n)n=0;else if(1===(n=s(Pt,"Opal")["$coerce_to!"](n,s(Pt,"Integer"),"to_int")))return[i];void 0!==e&&e!==a||(e=$(r=u[";"])?r:" ");var o,l,c,d=[],f=i.toString(),_=0;if(e.$$is_regexp?e=t.global_multiline_regexp(e):" "===(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str").$to_s())?(e=/\s+/gm,f=f.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(d=f.split(e)).length&&d[0]===f)return[i.$$cast(d[0])];for(;-1!==(l=d.indexOf(void 0));)d.splice(l,1);function p(){for(l=0;l<d.length;l++)d[l]=i.$$cast(d[l])}if(0===n){for(;""===d[d.length-1];)d.length-=1;return p(),d}if(o=e.exec(f),n<0){if(null!==o&&""===o[0]&&-1===e.source.indexOf("(?="))for(l=0,c=o.length;l<c;l++)d.push("");return p(),d}if(null!==o&&""===o[0])return d.splice(n-1,d.length-1,d.slice(n-1).join("")),p(),d;if(n>=d.length)return p(),d;for(l=0;null!==o&&(l++,_=e.lastIndex,l+1!==n);)o=e.exec(f);return d.splice(n-1,d.length-1,f.slice(_)),p(),d},ft.$$arity=-1),t.def(Mt,"$squeeze",_t=function(e){var n,r=this;if(0===(n=t.slice.call(arguments,0,arguments.length)).length)return r.$$cast(r.replace(/(.)\1+/g,"$1"));var i=Nt(n);return null===i?r:r.$$cast(r.replace(new RegExp("("+i+")\\1+","g"),"$1"))},_t.$$arity=-1),t.def(Mt,"$start_with?",pt=function(e){for(var n,r=this,i=0,a=(n=t.slice.call(arguments,0,arguments.length)).length;i<a;i++){var o=s(Pt,"Opal").$coerce_to(n[i],s(Pt,"String"),"to_str").$to_s();if(0===r.indexOf(o))return!0}return!1},pt.$$arity=-1),t.def(Mt,"$strip",ht=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ht.$$arity=0),t.def(Mt,"$sub",yt=function(t,e){var n=yt.$$p,r=n||a,i=this;n&&(yt.$$p=null),n&&(yt.$$p=null),t.$$is_regexp||(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,$=t.exec(i);return null===$?(u["~"]=a,o=i.toString()):(s(Pt,"MatchData").$new(t,$),void 0===e?(r===a&&i.$raise(s(Pt,"ArgumentError"),"wrong number of arguments (1 for 2)"),o=i.slice(0,$.index)+r($[0])+i.slice($.index+$[0].length)):e.$$is_hash?o=i.slice(0,$.index)+e["$[]"]($[0]).$to_s()+i.slice($.index+$[0].length):(e=(e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,(function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var r=$.length-1;r>0;r--)if(void 0!==$[r])return e.slice(1)+$[r];return"";case"&":return e.slice(1)+$[0];case"`":return e.slice(1)+i.slice(0,$.index);case"'":return e.slice(1)+i.slice($.index+$[0].length);default:return e.slice(1)+($[n]||"")}})).replace(/\\\\/g,"\\"),o=i.slice(0,$.index)+e+i.slice($.index+$[0].length))),i.$$cast(o)},yt.$$arity=-2),t.alias(Mt,"succ","next"),t.def(Mt,"$sum",mt=function(t){null==t&&(t=16),t=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int");for(var e=0,n=this.length,r=0;r<n;r++)e+=this.charCodeAt(r);return t<=0?e:e&Math.pow(2,t)-1},mt.$$arity=-1),t.def(Mt,"$swapcase",gt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,(function(t,e,n){return e?t.toUpperCase():t.toLowerCase()}));return this.constructor===String?t:this.$class().$new(t)},gt.$$arity=0),t.def(Mt,"$to_f",vt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},vt.$$arity=0),t.def(Mt,"$to_i",bt=function(t){null==t&&(t=10);var e,n=this.toLowerCase(),r=s(Pt,"Opal").$coerce_to(t,s(Pt,"Integer"),"to_int");return(1===r||r<0||r>36)&&this.$raise(s(Pt,"ArgumentError"),"invalid radix "+r),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,(function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n&&(0===r||16===r))return t}switch(n){case"0b":if(0===r||2===r)return r=2,e+i;break;case"0":case"0o":if(0===r||8===r)return r=8,e+i;break;case"0d":if(0===r||10===r)return r=10,e+i;break;case"0x":if(0===r||16===r)return r=16,e+i}return t})),e=parseInt(n.replace(/_(?!_)/g,""),r),isNaN(e)?0:e)},bt.$$arity=-1),t.def(Mt,"$to_proc",xt=function(){var e,r,i=xt.$$p;return i&&(xt.$$p=null),r=n("$",this.valueOf()),l(this,"proc",[],((e=function(n){var i,o=e.$$s||this,$=e.$$p,l=$||a;$&&(e.$$p=null),0===(i=t.slice.call(arguments,0,arguments.length)).length&&o.$raise(s(Pt,"ArgumentError"),"no receiver given");var u=i[0];null==u&&(u=a);var c=u[r];return c?("function"==typeof l&&(c.$$p=l),1===i.length?c.call(u):c.apply(u,i.slice(1))):u.$method_missing.apply(u,i)}).$$s=this,e.$$arity=-1,e))},xt.$$arity=0),t.def(Mt,"$to_s",wt=function(){return this.toString()},wt.$$arity=0),t.alias(Mt,"to_str","to_s"),t.alias(Mt,"to_sym","intern"),t.def(Mt,"$tr",kt=function(t,e){var n,r,i,a,o,$,l;if(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str").$to_s(),e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str").$to_s(),0==t.length||t===e)return this;var u={},c=t.split(""),d=c.length,f=e.split(""),_=f.length,p=!1,h=null;"^"===c[0]&&c.length>1&&(p=!0,c.shift(),h=f[_-1],d-=1);var y=[],m=null;for(r=!1,n=0;n<d;n++)if(a=c[n],null==m)m=a,y.push(a);else if("-"===a)"-"===m?(y.push("-"),y.push("-")):n==d-1?y.push("-"):r=!0;else if(r){for((o=m.charCodeAt(0))>($=a.charCodeAt(0))&&this.$raise(s(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode($)+'" in string transliteration'),i=o+1;i<$;i++)y.push(String.fromCharCode(i));y.push(a),r=null,m=null}else y.push(a);if(d=(c=y).length,p)for(n=0;n<d;n++)u[c[n]]=!0;else{if(_>0){var g=[],v=null;for(r=!1,n=0;n<_;n++)if(a=f[n],null==v)v=a,g.push(a);else if("-"===a)"-"===v?(g.push("-"),g.push("-")):n==_-1?g.push("-"):r=!0;else if(r){for((o=v.charCodeAt(0))>($=a.charCodeAt(0))&&this.$raise(s(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode($)+'" in string transliteration'),i=o+1;i<$;i++)g.push(String.fromCharCode(i));g.push(a),r=null,v=null}else g.push(a);_=(f=g).length}var b=d-_;if(b>0){var x=_>0?f[_-1]:"";for(n=0;n<b;n++)f.push(x)}for(n=0;n<d;n++)u[c[n]]=f[n]}var w="";for(n=0,l=this.length;n<l;n++){var k=u[a=this.charAt(n)];w+=p?null==k?h:a:null!=k?k:a}return this.$$cast(w)},kt.$$arity=2),t.def(Mt,"$tr_s",At=function(t,e){var n,r,i,a,o,$,l;if(t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str").$to_s(),e=s(Pt,"Opal").$coerce_to(e,s(Pt,"String"),"to_str").$to_s(),0==t.length)return this;var u={},c=t.split(""),d=c.length,f=e.split(""),_=f.length,p=!1,h=null;"^"===c[0]&&c.length>1&&(p=!0,c.shift(),h=f[_-1],d-=1);var y=[],m=null;for(r=!1,n=0;n<d;n++)if(a=c[n],null==m)m=a,y.push(a);else if("-"===a)"-"===m?(y.push("-"),y.push("-")):n==d-1?y.push("-"):r=!0;else if(r){for((o=m.charCodeAt(0))>($=a.charCodeAt(0))&&this.$raise(s(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode($)+'" in string transliteration'),i=o+1;i<$;i++)y.push(String.fromCharCode(i));y.push(a),r=null,m=null}else y.push(a);if(d=(c=y).length,p)for(n=0;n<d;n++)u[c[n]]=!0;else{if(_>0){var g=[];for(r=!1,n=0;n<_;n++)if(a=f[n],null==m)m=a,g.push(a);else if("-"===a)n==_-1?g.push("-"):r=!0;else if(r){for((o=m.charCodeAt(0))>($=a.charCodeAt(0))&&this.$raise(s(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode($)+'" in string transliteration'),i=o+1;i<$;i++)g.push(String.fromCharCode(i));g.push(a),r=null,m=null}else g.push(a);_=(f=g).length}var v=d-_;if(v>0){var b=_>0?f[_-1]:"";for(n=0;n<v;n++)f.push(b)}for(n=0;n<d;n++)u[c[n]]=f[n]}var x="",w=null;for(n=0,l=this.length;n<l;n++){var k=u[a=this.charAt(n)];p?null==k?null==w&&(x+=h,w=!0):(x+=a,w=null):null!=k?null!=w&&w===k||(x+=k,w=k):(x+=a,w=null)}return this.$$cast(x)},At.$$arity=2),t.def(Mt,"$upcase",Et=function(){return this.$$cast(this.toUpperCase())},Et.$$arity=0),t.def(Mt,"$upto",Ot=function(t,e){var n=Ot.$$p,r=n||a;if(n&&(Ot.$$p=null),n&&(Ot.$$p=null),null==e&&(e=!1),r===a)return this.$enum_for("upto",t,e);t=s(Pt,"Opal").$coerce_to(t,s(Pt,"String"),"to_str");var i,o,$=this.toString();if(1===$.length&&1===t.length)for(i=$.charCodeAt(0),o=t.charCodeAt(0);i<=o&&(!e||i!==o);)r(String.fromCharCode(i)),i+=1;else if(parseInt($,10).toString()===$&&parseInt(t,10).toString()===t)for(i=parseInt($,10),o=parseInt(t,10);i<=o&&(!e||i!==o);)r(i.toString()),i+=1;else for(;$.length<=t.length&&$<=t&&(!e||$!==t);)r($),$=$.$succ();return this},Ot.$$arity=-2),t.def(Mt,"$instance_variables",St=function(){return[]},St.$$arity=0),t.defs(Mt,"$_load",Rt=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),l(r,"new",t.to_a(n))},Rt.$$arity=-1),t.def(Mt,"$unicode_normalize",Ct=function(t){return this.toString()},Ct.$$arity=-1),t.def(Mt,"$unicode_normalized?",It=function(t){return!0},It.$$arity=-1),t.def(Mt,"$unpack",Tt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Tt.$$arity=1),t.def(Mt,"$unpack1",Lt=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Lt.$$arity=1)}(i[0],0,i),t.const_set(i[0],"Symbol",s(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.truthy,d=t.send,f=t.falsy,_=t.hash2,p=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,h){var y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct=u(s,"Enumerable"),dt=[ct].concat(h);function ft(t){return 0===t.length&&(t=[o]),t.length>1&&(t=[t]),t}t.def(ct,"$all?",y=function(e){try{var n,r,i,a=y.$$p,s=a||o;return a&&(y.$$p=null),a&&(y.$$p=null),c(void 0!==e)?d(this,"each",[],((n=function(r){n.$$s;var i=o;if(i=ft(t.slice.call(arguments,0,arguments.length)),c(d(e,"public_send",["==="].concat(t.to_a(i)))))return o;t.ret(!1)}).$$s=this,n.$$arity=-1,n)):d(this,"each",[],s!==o?((r=function(e){var n;r.$$s;if(n=t.slice.call(arguments,0,arguments.length),c(t.yieldX(s,t.to_a(n))))return o;t.ret(!1)}).$$s=this,r.$$arity=-1,r):((i=function(e){var n;i.$$s;if(n=t.slice.call(arguments,0,arguments.length),c(l(dt,"Opal").$destructure(n)))return o;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},y.$$arity=-1),t.def(ct,"$any?",m=function(e){try{var n,r,i,a=m.$$p,s=a||o;return a&&(m.$$p=null),a&&(m.$$p=null),c(void 0!==e)?d(this,"each",[],((n=function(r){n.$$s;var i=o;if(i=ft(t.slice.call(arguments,0,arguments.length)),!c(d(e,"public_send",["==="].concat(t.to_a(i)))))return o;t.ret(!0)}).$$s=this,n.$$arity=-1,n)):d(this,"each",[],s!==o?((r=function(e){var n;r.$$s;if(n=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(s,t.to_a(n))))return o;t.ret(!0)}).$$s=this,r.$$arity=-1,r):((i=function(e){var n;i.$$s;if(n=t.slice.call(arguments,0,arguments.length),!c(l(dt,"Opal").$destructure(n)))return o;t.ret(!0)}).$$s=this,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ct,"$chunk",g=function(){var e,n,r=g.$$p,i=r||o;return r&&(g.$$p=null),r&&(g.$$p=null),i===o?d(this,"to_enum",["chunk"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):d($("::","Enumerator"),"new",[],((n=function(e){var r=n.$$s||this;null==e&&(e=o);var a=o,s=[];function $(){s.length>0&&e.$yield(a,s)}r.$each.$$p=function(e){var n=t.yield1(i,e);n===o?($(),s=[],a=o):(a===o||a===n?s.push(e):($(),s=[e]),a=n)},r.$each(),$()}).$$s=this,n.$$arity=1,n))},g.$$arity=0),t.def(ct,"$chunk_while",v=function(){var e,n=v.$$p,r=n||o;return n&&(v.$$p=null),n&&(v.$$p=null),r!==o||this.$raise(l(dt,"ArgumentError"),"no block given"),d(this,"slice_when",[],((e=function(n,i){e.$$s;return null==n&&(n=o),null==i&&(i=o),t.yieldX(r,[n,i])["$!"]()}).$$s=this,e.$$arity=2,e))},v.$$arity=0),t.def(ct,"$collect",b=function(){var e,n=b.$$p,r=n||o;if(n&&(b.$$p=null),n&&(b.$$p=null),r===o)return d(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(r,arguments);i.push(e)},this.$each(),i},b.$$arity=0),t.def(ct,"$collect_concat",x=function(){var e,n,r=x.$$p,i=r||o;return r&&(x.$$p=null),r&&(x.$$p=null),i===o?d(this,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):d(this,"map",[],(n=function(e){n.$$s;return null==e&&(e=o),t.yield1(i,e)},n.$$s=this,n.$$arity=1,n)).$flatten(1)},x.$$arity=0),t.def(ct,"$count",w=function(e){var n,r,i,a=w.$$p,s=a||o,$=o;return a&&(w.$$p=null),a&&(w.$$p=null),$=0,null!=e&&s!==o&&this.$warn("warning: given block not used"),c(null!=e)?s=d(this,"proc",[],((n=function(r){var i;n.$$s;return i=t.slice.call(arguments,0,arguments.length),l(dt,"Opal").$destructure(i)["$=="](e)}).$$s=this,n.$$arity=-1,n)):c(s["$nil?"]())&&(s=d(this,"proc",[],((r=function(){r.$$s;return!0}).$$s=this,r.$$arity=0,r))),d(this,"each",[],((i=function(e){var n;i.$$s;return n=t.slice.call(arguments,0,arguments.length),c(t.yieldX(s,n))?$++:o}).$$s=this,i.$$arity=-1,i)),$},w.$$arity=-1),t.def(ct,"$cycle",k=function(n){var r,i=k.$$p,a=i||o;if(i&&(k.$$p=null),i&&(k.$$p=null),null==n&&(n=o),a===o)return d(this,"enum_for",["cycle",n],((r=function(){var t,i,a=r.$$s||this;return c(n["$nil?"]())?c(a["$respond_to?"]("size"))?$(l(dt,"Float"),"INFINITY"):o:(n=l(dt,"Opal")["$coerce_to!"](n,l(dt,"Integer"),"to_int"),c(e(n,0))?(t=a.$enumerator_size(),i=n,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,r.$$arity=0,r));if(c(n["$nil?"]()));else if(n=l(dt,"Opal")["$coerce_to!"](n,l(dt,"Integer"),"to_int"),c(n<=0))return o;var s,u,f=[];if(this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);t.yield1(a,e);f.push(e)},this.$each(),0===f.length)return o;if(n===o)for(;;)for(s=0,u=f.length;s<u;s++)t.yield1(a,f[s]);else for(;n>1;){for(s=0,u=f.length;s<u;s++)t.yield1(a,f[s]);n--}},k.$$arity=-1),t.def(ct,"$detect",A=function(e){try{var n,r=A.$$p,i=r||o;return r&&(A.$$p=null),r&&(A.$$p=null),i===o?this.$enum_for("detect",e):(d(this,"each",[],((n=function(e){n.$$s;var r,a=o;if(r=t.slice.call(arguments,0,arguments.length),a=l(dt,"Opal").$destructure(r),!c(t.yield1(i,a)))return o;t.ret(a)}).$$s=this,n.$$arity=-1,n)),void 0!==e?"function"==typeof e?e():e:o)}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(ct,"$drop",E=function(t){t=l(dt,"Opal").$coerce_to(t,l(dt,"Integer"),"to_int"),c(t<0)&&this.$raise(l(dt,"ArgumentError"),"attempt to drop negative size");var e=[],n=0;return this.$each.$$p=function(){t<=n&&e.push(l(dt,"Opal").$destructure(arguments)),n++},this.$each(),e},E.$$arity=1),t.def(ct,"$drop_while",O=function(){var e=O.$$p,n=e||o;if(e&&(O.$$p=null),e&&(O.$$p=null),n===o)return this.$enum_for("drop_while");var r=[],i=!0;return this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);if(i){var a=t.yield1(n,e);f(a)&&(i=!1,r.push(e))}else r.push(e)},this.$each(),r},O.$$arity=0),t.def(ct,"$each_cons",S=function(e){var a,s=S.$$p,$=s||o,u=this;if(s&&(S.$$p=null),s&&(S.$$p=null),c(1!=arguments.length)&&u.$raise(l(dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=l(dt,"Opal").$try_convert(e,l(dt,"Integer"),"to_int"),c(e<=0)&&u.$raise(l(dt,"ArgumentError"),"invalid size"),$===o)return d(u,"enum_for",["each_cons",e],((a=function(){var t,s=a.$$s||this,$=o;return $=s.$enumerator_size(),c($["$nil?"]())?o:c(c(t=$["$=="](0))?t:n($,e))?0:r(i($,e),1)}).$$s=u,a.$$arity=0,a));var f=[],_=o;return u.$each.$$p=function(){var n=l(dt,"Opal").$destructure(arguments);f.push(n),f.length>e&&f.shift(),f.length==e&&t.yield1($,f.slice(0,e))},u.$each(),_},S.$$arity=1),t.def(ct,"$each_entry",R=function(e){var n,r,i=R.$$p,a=i||o,s=this;return i&&(R.$$p=null),i&&(R.$$p=null),n=t.slice.call(arguments,0,arguments.length),a===o?d(s,"to_enum",["each_entry"].concat(t.to_a(n)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=s,r.$$arity=0,r)):(s.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);t.yield1(a,e)},s.$each.apply(s,n),s)},R.$$arity=-1),t.def(ct,"$each_slice",C=function(e){var n,r=C.$$p,i=r||o;if(r&&(C.$$p=null),r&&(C.$$p=null),e=l(dt,"Opal").$coerce_to(e,l(dt,"Integer"),"to_int"),c(e<=0)&&this.$raise(l(dt,"ArgumentError"),"invalid slice size"),i===o)return d(this,"enum_for",["each_slice",e],((n=function(){var t,r,i=n.$$s||this;return c(i["$respond_to?"]("size"))?(t=i.$size(),r=e,"number"==typeof t&&"number"==typeof r?t/r:t["$/"](r)).$ceil():o}).$$s=this,n.$$arity=0,n));var a=[];return this.$each.$$p=function(){var n=l(dt,"Opal").$destructure(arguments);a.push(n),a.length===e&&(t.yield1(i,a),a=[])},this.$each(),a.length>0&&t.yield1(i,a),o},C.$$arity=1),t.def(ct,"$each_with_index",I=function(e){var n,r,i=I.$$p,a=i||o,s=this;if(i&&(I.$$p=null),i&&(I.$$p=null),n=t.slice.call(arguments,0,arguments.length),a===o)return d(s,"enum_for",["each_with_index"].concat(t.to_a(n)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=s,r.$$arity=0,r));var $,u=0;return s.$each.$$p=function(){var t=l(dt,"Opal").$destructure(arguments);a(t,u),u++},s.$each.apply(s,n),void 0!==$?$:s},I.$$arity=-1),t.def(ct,"$each_with_object",T=function(t){var e,n=T.$$p,r=n||o;return n&&(T.$$p=null),n&&(T.$$p=null),r===o?d(this,"enum_for",["each_with_object",t],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);r(e,t)},this.$each(),t)},T.$$arity=1),t.def(ct,"$entries",L=function(e){var n,r=this;n=t.slice.call(arguments,0,arguments.length);var i=[];return r.$each.$$p=function(){i.push(l(dt,"Opal").$destructure(arguments))},r.$each.apply(r,n),i},L.$$arity=-1),t.alias(ct,"find","detect"),t.def(ct,"$find_all",M=function(){var e,n=M.$$p,r=n||o;if(n&&(M.$$p=null),n&&(M.$$p=null),r===o)return d(this,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),n=t.yield1(r,e);c(n)&&i.push(e)},this.$each(),i},M.$$arity=0),t.def(ct,"$find_index",P=function(e){try{var n,r,i=P.$$p,a=i||o,s=o;return i&&(P.$$p=null),i&&(P.$$p=null),c(void 0===e&&a===o)?this.$enum_for("find_index"):(null!=e&&a!==o&&this.$warn("warning: given block not used"),s=0,c(null!=e)?d(this,"each",[],((n=function(r){var i;n.$$s;return i=t.slice.call(arguments,0,arguments.length),l(dt,"Opal").$destructure(i)["$=="](e)&&t.ret(s),s+=1}).$$s=this,n.$$arity=-1,n)):d(this,"each",[],((r=function(e){var n;r.$$s;return n=t.slice.call(arguments,0,arguments.length),c(t.yieldX(a,t.to_a(n)))&&t.ret(s),s+=1}).$$s=this,r.$$arity=-1,r)),o)}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=-1),t.def(ct,"$first",N=function(e){try{var n,r,i=o,a=o;return c(void 0===e)?d(this,"each",[],((n=function(e){n.$$s;null==e&&(e=o),t.ret(e)}).$$s=this,n.$$arity=1,n)):(i=[],e=l(dt,"Opal").$coerce_to(e,l(dt,"Integer"),"to_int"),c(e<0)&&this.$raise(l(dt,"ArgumentError"),"attempt to take negative size"),c(0==e)?[]:(a=0,d(this,"each",[],((r=function(n){var s;r.$$s;if(s=t.slice.call(arguments,0,arguments.length),i.push(l(dt,"Opal").$destructure(s)),!c(e<=++a))return o;t.ret(i)}).$$s=this,r.$$arity=-1,r)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},N.$$arity=-1),t.alias(ct,"flat_map","collect_concat"),t.def(ct,"$grep",B=function(n){var r,i=B.$$p,s=i||o,$=o;return i&&(B.$$p=null),i&&(B.$$p=null),$=[],d(this,"each",[],((r=function(i){r.$$s;var l,u=o;return u=ft(l=t.slice.call(arguments,0,arguments.length)),c(d(n,"__send__",["==="].concat(t.to_a(u))))?(s!==o?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(s,t.to_a(l))):c(a(l.$length(),1))&&(l=l["$[]"](0)),$.$push(l)):o}).$$s=this,r.$$arity=-1,r)),$},B.$$arity=1),t.def(ct,"$grep_v",D=function(n){var r,i=D.$$p,s=i||o,$=o;return i&&(D.$$p=null),i&&(D.$$p=null),$=[],d(this,"each",[],((r=function(i){r.$$s;var l,u=o;return u=ft(l=t.slice.call(arguments,0,arguments.length)),c(d(n,"__send__",["==="].concat(t.to_a(u))))?o:(s!==o?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(s,t.to_a(l))):c(a(l.$length(),1))&&(l=l["$[]"](0)),$.$push(l))}).$$s=this,r.$$arity=-1,r)),$},D.$$arity=1),t.def(ct,"$group_by",z=function(){var e,n,r=z.$$p,a=r||o,s=o,$=o;return r&&(z.$$p=null),r&&(z.$$p=null),a===o?d(this,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(s=_([],{}),this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),r=t.yield1(a,e);(c(n=s["$[]"](r))?n:($=[r,[]],d(s,"[]=",t.to_a($)),$[i($.length,1)]))["$<<"](e)},this.$each(),s)},z.$$arity=0),t.def(ct,"$include?",F=function(e){try{var n;return d(this,"each",[],((n=function(r){var i;n.$$s;if(i=t.slice.call(arguments,0,arguments.length),!l(dt,"Opal").$destructure(i)["$=="](e))return o;t.ret(!0)}).$$s=this,n.$$arity=-1,n)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},F.$$arity=1),t.def(ct,"$inject",j=function(e,n){var r=j.$$p,i=r||o;r&&(j.$$p=null),r&&(j.$$p=null);var a=e;return i!==o&&void 0===n?this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);void 0!==a?(e=t.yieldX(i,[a,e]),a=e):a=e}:(void 0===n&&(l(dt,"Symbol")["$==="](e)||this.$raise(l(dt,"TypeError"),e.$inspect()+" is not a Symbol"),n=e,a=void 0),this.$each.$$p=function(){var t=l(dt,"Opal").$destructure(arguments);a=void 0!==a?a.$__send__(n,t):t}),this.$each(),null==a?o:a},j.$$arity=-1),t.def(ct,"$lazy",q=function(){var e;return d($(l(dt,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((e=function(n,r){var i;e.$$s;return null==n&&(n=o),i=t.slice.call(arguments,1,arguments.length),d(n,"yield",t.to_a(i))}).$$s=this,e.$$arity=-2,e))},q.$$arity=0),t.def(ct,"$enumerator_size",U=function(){return c(this["$respond_to?"]("size"))?this.$size():o},U.$$arity=0),t.alias(ct,"map","collect"),t.def(ct,"$max",H=function(e){var n,r,i=H.$$p,a=i||o,s=this;return i&&(H.$$p=null),i&&(H.$$p=null),void 0===e||e===o?(s.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments);void 0!==n?((r=a!==o?t.yieldX(a,[e,n]):e["$<=>"](n))===o&&s.$raise(l(dt,"ArgumentError"),"comparison failed"),r>0&&(n=e)):n=e},s.$each(),void 0===n?o:n):(e=l(dt,"Opal").$coerce_to(e,l(dt,"Integer"),"to_int"),d(s,"sort",[],a.$to_proc()).$reverse().$first(e))},H.$$arity=-1),t.def(ct,"$max_by",Y=function(){var e,n,r,i=Y.$$p,a=i||o;return i&&(Y.$$p=null),i&&(Y.$$p=null),c(a)?(this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),i=t.yield1(a,e);if(void 0===n)return n=e,void(r=i);i["$<=>"](r)>0&&(n=e,r=i)},this.$each(),void 0===n?o:n):d(this,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},Y.$$arity=0),t.alias(ct,"member?","include?"),t.def(ct,"$min",G=function(){var t,e=G.$$p,n=e||o,r=this;return e&&(G.$$p=null),e&&(G.$$p=null),r.$each.$$p=n!==o?function(){var e=l(dt,"Opal").$destructure(arguments);if(void 0!==t){var i=n(e,t);i===o&&r.$raise(l(dt,"ArgumentError"),"comparison failed"),i<0&&(t=e)}else t=e}:function(){var e=l(dt,"Opal").$destructure(arguments);void 0!==t?l(dt,"Opal").$compare(e,t)<0&&(t=e):t=e},r.$each(),void 0===t?o:t},G.$$arity=0),t.def(ct,"$min_by",W=function(){var e,n,r,i=W.$$p,a=i||o;return i&&(W.$$p=null),i&&(W.$$p=null),c(a)?(this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),i=t.yield1(a,e);if(void 0===n)return n=e,void(r=i);i["$<=>"](r)<0&&(n=e,r=i)},this.$each(),void 0===n?o:n):d(this,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},W.$$arity=0),t.def(ct,"$minmax",V=function(){var t,e,n=V.$$p,r=n||o,i=this;n&&(V.$$p=null),n&&(V.$$p=null),r=c(t=r)?t:d(i,"proc",[],((e=function(t,n){e.$$s;return null==t&&(t=o),null==n&&(n=o),t["$<=>"](n)}).$$s=i,e.$$arity=2,e));var a=o,s=o,$=!0;return i.$each.$$p=function(){var t=l(dt,"Opal").$destructure(arguments);if($)a=s=t,$=!1;else{var e=r.$call(a,t);e===o?i.$raise(l(dt,"ArgumentError"),"comparison failed"):e>0&&(a=t);var n=r.$call(s,t);n===o?i.$raise(l(dt,"ArgumentError"),"comparison failed"):n<0&&(s=t)}},i.$each(),[a,s]},V.$$arity=0),t.def(ct,"$minmax_by",X=function(){var t=X.$$p;return t&&(X.$$p=null),t&&(X.$$p=null),this.$raise(l(dt,"NotImplementedError"))},X.$$arity=0),t.def(ct,"$none?",K=function(e){try{var n,r,i,a=K.$$p,s=a||o;return a&&(K.$$p=null),a&&(K.$$p=null),c(void 0!==e)?d(this,"each",[],((n=function(r){n.$$s;var i=o;if(i=ft(t.slice.call(arguments,0,arguments.length)),!c(d(e,"public_send",["==="].concat(t.to_a(i)))))return o;t.ret(!1)}).$$s=this,n.$$arity=-1,n)):d(this,"each",[],s!==o?((r=function(e){var n;r.$$s;if(n=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(s,t.to_a(n))))return o;t.ret(!1)}).$$s=this,r.$$arity=-1,r):((i=function(e){i.$$s;var n,r=o;if(n=t.slice.call(arguments,0,arguments.length),r=l(dt,"Opal").$destructure(n),!c(r))return o;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},K.$$arity=-1),t.def(ct,"$one?",J=function(n){try{var i,a,s,$=J.$$p,u=$||o,f=o;return $&&(J.$$p=null),$&&(J.$$p=null),f=0,c(void 0!==n)?d(this,"each",[],((i=function(a){i.$$s;var s=o;return s=ft(t.slice.call(arguments,0,arguments.length)),c(d(n,"public_send",["==="].concat(t.to_a(s))))?(f=r(f,1),c(e(f,1))?void t.ret(!1):o):o}).$$s=this,i.$$arity=-1,i)):d(this,"each",[],u!==o?((a=function(n){var i;a.$$s;return i=t.slice.call(arguments,0,arguments.length),c(t.yieldX(u,t.to_a(i)))?(f=r(f,1),c(e(f,1))?void t.ret(!1):o):o}).$$s=this,a.$$arity=-1,a):((s=function(n){var i;s.$$s;return i=t.slice.call(arguments,0,arguments.length),c(l(dt,"Opal").$destructure(i))?(f=r(f,1),c(e(f,1))?void t.ret(!1):o):o}).$$s=this,s.$$arity=-1,s)),f["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},J.$$arity=-1),t.def(ct,"$partition",Z=function(){var e,n=Z.$$p,r=n||o;if(n&&(Z.$$p=null),n&&(Z.$$p=null),r===o)return d(this,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[],a=[];return this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),n=t.yield1(r,e);c(n)?i.push(e):a.push(e)},this.$each(),[i,a]},Z.$$arity=0),t.alias(ct,"reduce","inject"),t.def(ct,"$reject",Q=function(){var e,n=Q.$$p,r=n||o;if(n&&(Q.$$p=null),n&&(Q.$$p=null),r===o)return d(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),n=t.yield1(r,e);f(n)&&i.push(e)},this.$each(),i},Q.$$arity=0),t.def(ct,"$reverse_each",tt=function(){var e,n=tt.$$p,r=n||o;if(n&&(tt.$$p=null),n&&(tt.$$p=null),r===o)return d(this,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];this.$each.$$p=function(){i.push(arguments)},this.$each();for(var a=i.length-1;a>=0;a--)t.yieldX(r,i[a]);return i},tt.$$arity=0),t.alias(ct,"select","find_all"),t.def(ct,"$slice_before",et=function(e){var n,r=et.$$p,i=r||o,a=this;return r&&(et.$$p=null),r&&(et.$$p=null),c(void 0===e&&i===o)&&a.$raise(l(dt,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&i!==o||arguments.length>1)&&a.$raise(l(dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),d(l(dt,"Enumerator"),"new",[],((n=function(r){var a=n.$$s||this;null==r&&(r=o);var s=[];a.$each.$$p=i!==o?void 0===e?function(){var e=l(dt,"Opal").$destructure(arguments),n=t.yield1(i,e);c(n)&&s.length>0&&(r["$<<"](s),s=[]),s.push(e)}:function(){var t=l(dt,"Opal").$destructure(arguments),n=i(t,e.$dup());c(n)&&s.length>0&&(r["$<<"](s),s=[]),s.push(t)}:function(){var t=l(dt,"Opal").$destructure(arguments),n=e["$==="](t);c(n)&&s.length>0&&(r["$<<"](s),s=[]),s.push(t)},a.$each(),s.length>0&&r["$<<"](s)}).$$s=a,n.$$arity=1,n))},et.$$arity=-1),t.def(ct,"$slice_after",nt=function(e){var n,r,i=nt.$$p,a=i||o,s=this;return i&&(nt.$$p=null),i&&(nt.$$p=null),c(void 0===e&&a===o)&&s.$raise(l(dt,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&a!==o||arguments.length>1)&&s.$raise(l(dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(void 0!==e)&&(a=d(s,"proc",[],((n=function(t){n.$$s;return null==t&&(t=o),e["$==="](t)}).$$s=s,n.$$arity=1,n))),d(l(dt,"Enumerator"),"new",[],((r=function(e){var n,i=r.$$s||this;null==e&&(e=o),i.$each.$$p=function(){var r=l(dt,"Opal").$destructure(arguments),i=t.yield1(a,r);null==n&&(n=[]),c(i)?(n.push(r),e.$yield(n),n=null):n.push(r)},i.$each(),null!=n&&e.$yield(n)}).$$s=s,r.$$arity=1,r))},nt.$$arity=-1),t.def(ct,"$slice_when",rt=function(){var e,n=rt.$$p,r=n||o;return n&&(rt.$$p=null),n&&(rt.$$p=null),r!==o||this.$raise(l(dt,"ArgumentError"),"wrong number of arguments (0 for 1)"),d(l(dt,"Enumerator"),"new",[],((e=function(n){var i=e.$$s||this;null==n&&(n=o);var a=o,s=o;i.$each_cons.$$p=function(){var e=l(dt,"Opal").$destructure(arguments),i=e[0],$=e[1],u=t.yieldX(r,[i,$]);s=$,a===o&&(a=[]),c(u)?(a.push(i),n.$yield(a),a=[]):a.push(i)},i.$each_cons(2),a!==o&&(a.push(s),n.$yield(a))}).$$s=this,e.$$arity=1,e))},rt.$$arity=0),t.def(ct,"$sort",it=function(){var t,e,n=it.$$p,r=n||o;return n&&(it.$$p=null),n&&(it.$$p=null),e=this.$to_a(),r!==o||(r=p(((t=function(e,n){t.$$s;return null==e&&(e=o),null==n&&(n=o),e["$<=>"](n)}).$$s=this,t.$$arity=2,t))),d(e,"sort",[],r.$to_proc())},it.$$arity=0),t.def(ct,"$sort_by",at=function(){var e,n,r,i,a,s=at.$$p,$=s||o;return s&&(at.$$p=null),s&&(at.$$p=null),$===o?d(this,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(a=d(this,"map",[],((n=function(){n.$$s;var e=o;return e=l(dt,"Opal").$destructure(arguments),[t.yield1($,e),e]}).$$s=this,n.$$arity=0,n)),d(a,"sort!",[],((r=function(t,e){r.$$s;return null==t&&(t=o),null==e&&(e=o),t[0]["$<=>"](e[0])}).$$s=this,r.$$arity=2,r)),d(a,"map!",[],((i=function(t){i.$$s;return null==t&&(t=o),t[1]}).$$s=this,i.$$arity=1,i)))},at.$$arity=0),t.def(ct,"$sum",st=function(e){var n,i=st.$$p,a=i||o,s=o;return i&&(st.$$p=null),null==e&&(e=0),s=e,d(this,"each",[],((n=function(e){n.$$s;var i,$,u=o;return i=t.slice.call(arguments,0,arguments.length),$=i,u=a!==o?t.yieldX(a,t.to_a($)):l(dt,"Opal").$destructure($),s=r(s,u)}).$$s=this,n.$$arity=-1,n)),s},st.$$arity=-1),t.def(ct,"$take",ot=function(t){return this.$first(t)},ot.$$arity=1),t.def(ct,"$take_while",$t=function(){try{var e,n=$t.$$p,r=n||o,i=o;return n&&($t.$$p=null),n&&($t.$$p=null),c(r)?(i=[],d(this,"each",[],((e=function(n){e.$$s;var a,s=o;return a=t.slice.call(arguments,0,arguments.length),s=l(dt,"Opal").$destructure(a),c(t.yield1(r,s))||t.ret(i),i.push(s)}).$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},$t.$$arity=0),t.def(ct,"$uniq",lt=function(){var e,n=lt.$$p,r=n||o,a=o;return n&&(lt.$$p=null),n&&(lt.$$p=null),a=_([],{}),d(this,"each",[],((e=function(n){e.$$s;var s,$=o,u=o,f=o;return s=t.slice.call(arguments,0,arguments.length),$=l(dt,"Opal").$destructure(s),u=r!==o?t.yield1(r,$):$,c(a["$key?"](u))?o:(f=[u,$],d(a,"[]=",t.to_a(f)),f[i(f.length,1)])}).$$s=this,e.$$arity=-1,e)),a.$values()},lt.$$arity=0),t.alias(ct,"to_a","entries"),t.def(ct,"$zip",ut=function(e){var n,r=ut.$$p,i=this;return r&&(ut.$$p=null),r&&(ut.$$p=null),n=t.slice.call(arguments,0,arguments.length),d(i.$to_a(),"zip",t.to_a(n))},ut.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=t.breaker,$=t.slice,l=t.klass,u=t.truthy,c=t.send,d=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),r.$require("corelib/enumerable"),function(r,i,f){var _,p,h,y,m,g,v=l(r,null,"Enumerator"),b=[v].concat(f);return v.$$prototype.size=v.$$prototype.args=v.$$prototype.object=v.$$prototype.method=a,v.$include(s(b,"Enumerable")),v.$$prototype.$$is_enumerator=!0,t.defs(v,"$for",_=function(e,n,r){var i,s,o,$=_.$$p,l=$||a,u=this;$&&(_.$$p=null),$&&(_.$$p=null),(i=t.slice.call(arguments,1,arguments.length)).length>0&&(s=i[0],i.splice(0,1)),null==s&&(s="each"),o=i;var c=u.$allocate();return c.object=e,c.size=l,c.method=s,c.args=o,c},_.$$arity=-2),t.def(v,"$initialize",p=function(e){var n=p.$$p,r=n||a,i=this;return n&&(p.$$p=null),n&&(p.$$p=null),t.slice.call(arguments,0,arguments.length),u(r)?(i.object=c(s(b,"Generator"),"new",[],r.$to_proc()),i.method="each",i.args=[],i.size=arguments[0]||a,u(i.size)?i.size=s(b,"Opal").$coerce_to(i.size,s(b,"Integer"),"to_int"):a):(i.object=arguments[0],i.method=arguments[1]||"each",i.args=$.call(arguments,2),i.size=a)},p.$$arity=-1),t.def(v,"$each",h=function(n){var r,i,s=h.$$p,o=s||a,$=this;return s&&(h.$$p=null),s&&(h.$$p=null),r=t.slice.call(arguments,0,arguments.length),u(u(i=o["$nil?"]())?r["$empty?"]():i)?$:(r=e($.args,r),u(o["$nil?"]())?c($.$class(),"new",[$.object,$.method].concat(t.to_a(r))):c($.object,"__send__",[$.method].concat(t.to_a(r)),o.$to_proc()))},h.$$arity=-1),t.def(v,"$size",y=function(){return u(s(b,"Proc")["$==="](this.size))?c(this.size,"call",t.to_a(this.args)):this.size},y.$$arity=0),t.def(v,"$with_index",m=function(t){var e,n=m.$$p,r=n||a;if(n&&(m.$$p=null),n&&(m.$$p=null),null==t&&(t=0),t=u(t)?s(b,"Opal").$coerce_to(t,s(b,"Integer"),"to_int"):0,!u(r))return c(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=s(b,"Opal").$destructure(arguments),e=r(t,i);return i++,e},this.$each()},m.$$arity=-1),t.alias(v,"with_object","each_with_object"),t.def(v,"$inspect",g=function(){var t=a;return t="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,u(this.args["$any?"]())&&(t=e(t,"("+this.args.$inspect()["$[]"](s(b,"Range").$new(1,-2))+")")),e(t,">")},g.$$arity=0),function(e,n,r){var i,$,d=l(e,null,"Generator"),f=[d].concat(r);d.$$prototype.block=a,d.$include(s(f,"Enumerable")),t.def(d,"$initialize",i=function(){var t=i.$$p,e=t||a;return t&&(i.$$p=null),t&&(i.$$p=null),u(e)||this.$raise(s(f,"LocalJumpError"),"no block given"),this.block=e},i.$$arity=0),t.def(d,"$each",$=function(e){var n,r=$.$$p,i=r||a,l=this,u=a;r&&($.$$p=null),r&&($.$$p=null),n=t.slice.call(arguments,0,arguments.length),u=c(s(f,"Yielder"),"new",[],i.$to_proc());try{n.unshift(u),t.yieldX(l.block,n)}catch(t){if(t===o)return o.$v;throw t}return l},$.$$arity=-1)}(b[0],0,b),function(e,n,r){var i,s,$,u=l(e,null,"Yielder");[u].concat(r);u.$$prototype.block=a,t.def(u,"$initialize",i=function(){var t=i.$$p,e=t||a;return t&&(i.$$p=null),t&&(i.$$p=null),this.block=e},i.$$arity=0),t.def(u,"$yield",s=function(e){var n,r=this;n=t.slice.call(arguments,0,arguments.length);var i=t.yieldX(r.block,n);if(i===o)throw o;return i},s.$$arity=-1),t.def(u,"$<<",$=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),c(r,"yield",t.to_a(n)),r},$.$$arity=-1)}(b[0],0,b),function(r,i,o){var $,f,_,p,h,y,m,g,v,b,x,w,k,A=l(r,i,"Lazy"),E=[A].concat(o);return A.$$prototype.enumerator=a,function(t,e,n){[l(t,e,"StopLazyError")].concat(n)}(E[0],s(E,"Exception"),E),t.def(A,"$initialize",$=function(e,n){var r,i=$.$$p,o=i||a;return i&&($.$$p=null),i&&($.$$p=null),null==n&&(n=a),o!==a||this.$raise(s(E,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=e,c(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],((r=function(n,i){var $,l,u=r.$$s||this;null==n&&(n=a),$=t.slice.call(arguments,1,arguments.length);try{return c(e,"each",t.to_a($),((l=function(e){var r;l.$$s;(r=t.slice.call(arguments,0,arguments.length)).unshift(n),t.yieldX(o,r)}).$$s=u,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[s(E,"Exception")]))throw e;try{return a}finally{t.pop_exception()}}}).$$s=this,r.$$arity=-2,r))},$.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",f=function(){return this},f.$$arity=0),t.def(A,"$collect",_=function(){var e,n=_.$$p,r=n||a;return n&&(_.$$p=null),n&&(_.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy map without a block"),c(s(E,"Lazy"),"new",[this,this.$enumerator_size()],((e=function(n,i){var s;e.$$s;null==n&&(n=a),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(r,s);n.$yield(o)}).$$s=this,e.$$arity=-2,e))},_.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,n=p.$$p,r=n||a;return n&&(p.$$p=null),n&&(p.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy map without a block"),c(s(E,"Lazy"),"new",[this,a],((e=function(n,i){var o,$,l,u=e.$$s||this;null==n&&(n=a),o=t.slice.call(arguments,1,arguments.length);var d=t.yieldX(r,o);if(d["$respond_to?"]("force")&&d["$respond_to?"]("each"))c(d,"each",[],(($=function(t){$.$$s;return null==t&&(t=a),n.$yield(t)}).$$s=u,$.$$arity=1,$));else{var f=s(E,"Opal").$try_convert(d,s(E,"Array"),"to_ary");f===a?n.$yield(d):c(d,"each",[],((l=function(t){l.$$s;return null==t&&(t=a),n.$yield(t)}).$$s=u,l.$$arity=1,l))}}).$$s=this,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",h=function(r){var i,o,$,l=a;return r=s(E,"Opal").$coerce_to(r,s(E,"Integer"),"to_int"),u(n(r,0))&&this.$raise(s(E,"ArgumentError"),"attempt to drop negative size"),o=this.$enumerator_size(),$=u(s(E,"Integer")["$==="](o))&&u(n(r,o))?r:o,l=0,c(s(E,"Lazy"),"new",[this,$],((i=function(s,o){var $;i.$$s;return null==s&&(s=a),$=t.slice.call(arguments,1,arguments.length),u(n(l,r))?l=e(l,1):c(s,"yield",t.to_a($))}).$$s=this,i.$$arity=-2,i))},h.$$arity=1),t.def(A,"$drop_while",y=function(){var e,n=y.$$p,r=n||a,i=a;return n&&(y.$$p=null),n&&(y.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,c(s(E,"Lazy"),"new",[this,a],((e=function(n,s){var o;e.$$s;if(null==n&&(n=a),o=t.slice.call(arguments,1,arguments.length),!u(i))return c(n,"yield",t.to_a(o));var $=t.yieldX(r,o);d($)&&(i=!1,c(n,"yield",t.to_a(o)))}).$$s=this,e.$$arity=-2,e))},y.$$arity=0),t.def(A,"$enum_for",m=function(e,n){var r,i,s,o=m.$$p,$=o||a,l=this;return o&&(m.$$p=null),o&&(m.$$p=null),(r=t.slice.call(arguments,0,arguments.length)).length>0&&(i=r[0],r.splice(0,1)),null==i&&(i="each"),s=r,c(l.$class(),"for",[l,i].concat(t.to_a(s)),$.$to_proc())},m.$$arity=-1),t.def(A,"$find_all",g=function(){var e,n=g.$$p,r=n||a;return n&&(g.$$p=null),n&&(g.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy select without a block"),c(s(E,"Lazy"),"new",[this,a],((e=function(n,i){var s;e.$$s;null==n&&(n=a),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(r,s);u(o)&&c(n,"yield",t.to_a(s))}).$$s=this,e.$$arity=-2,e))},g.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",v=function(e){var n,r,i=v.$$p,o=i||a;return i&&(v.$$p=null),i&&(v.$$p=null),u(o)?c(s(E,"Lazy"),"new",[this,a],((n=function(r,i){var $;n.$$s;null==r&&(r=a),$=t.slice.call(arguments,1,arguments.length);var l=s(E,"Opal").$destructure($),c=e["$==="](l);u(c)&&(c=t.yield1(o,l),r.$yield(t.yield1(o,l)))}).$$s=this,n.$$arity=-2,n)):c(s(E,"Lazy"),"new",[this,a],((r=function(n,i){var o;r.$$s;null==n&&(n=a),o=t.slice.call(arguments,1,arguments.length);var $=s(E,"Opal").$destructure(o),l=e["$==="]($);u(l)&&n.$yield($)}).$$s=this,r.$$arity=-2,r))},v.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",b=function(){var e,n=b.$$p,r=n||a;return n&&(b.$$p=null),n&&(b.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy reject without a block"),c(s(E,"Lazy"),"new",[this,a],((e=function(n,i){var s;e.$$s;null==n&&(n=a),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(r,s);d(o)&&c(n,"yield",t.to_a(s))}).$$s=this,e.$$arity=-2,e))},b.$$arity=0),t.def(A,"$take",x=function(r){var i,o,$,l=a;return r=s(E,"Opal").$coerce_to(r,s(E,"Integer"),"to_int"),u(n(r,0))&&this.$raise(s(E,"ArgumentError"),"attempt to take negative size"),o=this.$enumerator_size(),$=u(s(E,"Integer")["$==="](o))&&u(n(r,o))?r:o,l=0,c(s(E,"Lazy"),"new",[this,$],((i=function(o,$){var d,f=i.$$s||this;return null==o&&(o=a),d=t.slice.call(arguments,1,arguments.length),u(n(l,r))?(c(o,"yield",t.to_a(d)),l=e(l,1)):f.$raise(s(E,"StopLazyError"))}).$$s=this,i.$$arity=-2,i))},x.$$arity=1),t.def(A,"$take_while",w=function(){var e,n=w.$$p,r=n||a;return n&&(w.$$p=null),n&&(w.$$p=null),u(r)||this.$raise(s(E,"ArgumentError"),"tried to call lazy take_while without a block"),c(s(E,"Lazy"),"new",[this,a],((e=function(n,i){var o,$=e.$$s||this;null==n&&(n=a),o=t.slice.call(arguments,1,arguments.length);var l=t.yieldX(r,o);u(l)?c(n,"yield",t.to_a(o)):$.$raise(s(E,"StopLazyError"))}).$$s=this,e.$$arity=-2,e))},w.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",k=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},k.$$arity=0),a&&"inspect"}(b[0],v,b)}(i[0],0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var a=t.top,s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.klass),c=t.truthy,d=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),a.$require("corelib/comparable"),function(a,s,f){var _,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J=u(a,null,"Numeric"),Z=[J].concat(f);return J.$include(l(Z,"Comparable")),t.def(J,"$coerce",_=function(t){return c(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},_.$$arity=1),t.def(J,"$__coerced__",p=function(e,n){var r,i,a=this,s=o,$=o,u=o;return c(n["$respond_to?"]("coerce"))?(i=n.$coerce(a),s=null==(r=t.to_ary(i))[0]?o:r[0],$=null==r[1]?o:r[1],s.$__send__(e,$)):"+"["$==="](u=e)||"-"["$==="](u)||"*"["$==="](u)||"/"["$==="](u)||"%"["$==="](u)||"&"["$==="](u)||"|"["$==="](u)||"^"["$==="](u)||"**"["$==="](u)?a.$raise(l(Z,"TypeError"),n.$class()+" can't be coerced into Numeric"):">"["$==="](u)||">="["$==="](u)||"<"["$==="](u)||"<="["$==="](u)||"<=>"["$==="](u)?a.$raise(l(Z,"ArgumentError"),"comparison of "+a.$class()+" with "+n.$class()+" failed"):o},p.$$arity=2),t.def(J,"$<=>",h=function(t){return c(this["$equal?"](t))?0:o},h.$$arity=1),t.def(J,"$+@",y=function(){return this},y.$$arity=0),t.def(J,"$-@",m=function(){return e(0,this)},m.$$arity=0),t.def(J,"$%",g=function(t){return e(this,n(t,this.$div(t)))},g.$$arity=1),t.def(J,"$abs",v=function(){return r(this,0)?this["$-@"]():this},v.$$arity=0),t.def(J,"$abs2",b=function(){return n(this,this)},b.$$arity=0),t.def(J,"$angle",x=function(){return r(this,0)?$(l(Z,"Math"),"PI"):0},x.$$arity=0),t.alias(J,"arg","angle"),t.def(J,"$ceil",w=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},w.$$arity=-1),t.def(J,"$conj",k=function(){return this},k.$$arity=0),t.alias(J,"conjugate","conj"),t.def(J,"$denominator",A=function(){return this.$to_r().$denominator()},A.$$arity=0),t.def(J,"$div",E=function(t){return t["$=="](0)&&this.$raise(l(Z,"ZeroDivisionError"),"divided by o"),i(this,t).$floor()},E.$$arity=1),t.def(J,"$divmod",O=function(t){return[this.$div(t),this["$%"](t)]},O.$$arity=1),t.def(J,"$fdiv",S=function(t){return i(this.$to_f(),t)},S.$$arity=1),t.def(J,"$floor",R=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},R.$$arity=-1),t.def(J,"$i",C=function(){return this.$Complex(0,this)},C.$$arity=0),t.def(J,"$imag",I=function(){return 0},I.$$arity=0),t.alias(J,"imaginary","imag"),t.def(J,"$integer?",T=function(){return!1},T.$$arity=0),t.alias(J,"magnitude","abs"),t.alias(J,"modulo","%"),t.def(J,"$nonzero?",L=function(){return c(this["$zero?"]())?o:this},L.$$arity=0),t.def(J,"$numerator",M=function(){return this.$to_r().$numerator()},M.$$arity=0),t.alias(J,"phase","arg"),t.def(J,"$polar",P=function(){return[this.$abs(),this.$arg()]},P.$$arity=0),t.def(J,"$quo",N=function(t){return i(l(Z,"Opal")["$coerce_to!"](this,l(Z,"Rational"),"to_r"),t)},N.$$arity=1),t.def(J,"$real",B=function(){return this},B.$$arity=0),t.def(J,"$real?",D=function(){return!0},D.$$arity=0),t.def(J,"$rect",z=function(){return[this,0]},z.$$arity=0),t.alias(J,"rectangular","rect"),t.def(J,"$round",F=function(t){return this.$to_f().$round(t)},F.$$arity=-1),t.def(J,"$to_c",j=function(){return this.$Complex(this,0)},j.$$arity=0),t.def(J,"$to_int",q=function(){return this.$to_i()},q.$$arity=0),t.def(J,"$truncate",U=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},U.$$arity=-1),t.def(J,"$zero?",H=function(){return this["$=="](0)},H.$$arity=0),t.def(J,"$positive?",Y=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},Y.$$arity=0),t.def(J,"$negative?",G=function(){return r(this,0)},G.$$arity=0),t.def(J,"$dup",W=function(){return this},W.$$arity=0),t.def(J,"$clone",V=function(e){if(null==e)e=d([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},V.$$arity=-1),t.def(J,"$finite?",X=function(){return!0},X.$$arity=0),t.def(J,"$infinite?",K=function(){return o},K.$$arity=0),o&&"infinite?"}(s[0],0,s)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=t.top,r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.klass),$=t.truthy,l=t.hash2,u=t.send,c=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),n.$require("corelib/enumerable"),n.$require("corelib/numeric"),function(n,r,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht,yt,mt,gt,vt,bt,xt,wt,kt,At,Et,Ot,St,Rt,Ct,It,Tt,Lt,Mt,Pt,Nt,Bt,Dt,zt,Ft,jt,qt,Ut,Ht,Yt,Gt,Wt,Vt,Xt,Kt,Jt,Zt=o(n,Array,"Array"),Qt=[Zt].concat(d);function te(e,n){return n.$$name===t.Array?e:n.$allocate().$replace(e.$to_a())}function ee(t,e){return t===e||0===e?1:e>0&&t>e?ee(t-1,e-1)+ee(t-1,e):0}return Zt.$include(s(Qt,"Enumerable")),t.defineProperty(Zt.$$prototype,"$$is_array",!0),t.defs(Zt,"$[]",f=function(e){var n=this;return te(t.slice.call(arguments,0,arguments.length),n)},f.$$arity=-1),t.def(Zt,"$initialize",_=function(t,e){var n,r,o=_.$$p,$=o||i,l=this;if(o&&(_.$$p=null),o&&(_.$$p=null),null==t&&(t=i),null==e&&(e=i),e!==i&&$!==i&&l.$warn("warning: block supersedes default value argument"),t>a(s(Qt,"Integer"),"MAX")&&l.$raise(s(Qt,"ArgumentError"),"array size too big"),arguments.length>2&&l.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return l.splice(0,l.length),l;if(1===arguments.length){if(t.$$is_array)return l.$replace(t.$to_a()),l;if(t["$respond_to?"]("to_ary"))return l.$replace(t.$to_ary()),l}if((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&l.$raise(s(Qt,"ArgumentError"),"negative array size"),l.splice(0,l.length),$===i)for(n=0;n<t;n++)l.push(e);else for(n=0;n<t;n++)r=$(n),l[n]=r;return l},_.$$arity=-1),t.defs(Zt,"$try_convert",p=function(t){return s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Array"),"to_ary")},p.$$arity=1),t.def(Zt,"$&",h=function(e){e=$(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a();var n,r,i,a=[],o=l([],{});for(n=0,r=e.length;n<r;n++)t.hash_put(o,e[n],!0);for(n=0,r=this.length;n<r;n++)i=this[n],void 0!==t.hash_delete(o,i)&&a.push(i);return a},h.$$arity=1),t.def(Zt,"$|",y=function(e){e=$(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a();var n,r,i=l([],{});for(n=0,r=this.length;n<r;n++)t.hash_put(i,this[n],!0);for(n=0,r=e.length;n<r;n++)t.hash_put(i,e[n],!0);return i.$keys()},y.$$arity=1),t.def(Zt,"$*",m=function(t){if($(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),$(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative argument");for(var e=[],n=this.$to_a(),r=0;r<t;r++)e=e.concat(n);return te(e,this.$class())},m.$$arity=1),t.def(Zt,"$+",g=function(t){return t=$(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),this.concat(t)},g.$$arity=1),t.def(Zt,"$-",v=function(e){if(e=$(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a(),$(0===this.length))return[];if($(0===e.length))return this.slice();var n,r,i,a=[],o=l([],{});for(n=0,r=e.length;n<r;n++)t.hash_put(o,e[n],!0);for(n=0,r=this.length;n<r;n++)i=this[n],void 0===t.hash_get(o,i)&&a.push(i);return a},v.$$arity=1),t.def(Zt,"$<<",b=function(t){return this.push(t),this},b.$$arity=1),t.def(Zt,"$<=>",x=function(t){if($(s(Qt,"Array")["$==="](t)))t=t.$to_a();else{if(!$(t["$respond_to?"]("to_ary")))return i;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),n=0;n<e;n++){var r=this[n]["$<=>"](t[n]);if(0!==r)return r}return this.length["$<=>"](t.length)},x.$$arity=1),t.def(Zt,"$==",w=function(t){var e={};return function t(n,r){var i,a,o,$;if(n===r)return!0;if(!r.$$is_array)return!!s(Qt,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](n);if(n.$$constructor!==Array&&(n=n.$to_a()),r.$$constructor!==Array&&(r=r.$to_a()),n.length!==r.length)return!1;for(e[n.$object_id()]=!0,i=0,a=n.length;i<a;i++)if(o=n[i],$=r[i],o.$$is_array){if($.$$is_array&&$.length!==o.length)return!1;if(!e.hasOwnProperty(o.$object_id())&&!t(o,$))return!1}else if(!o["$=="]($))return!1;return!0}(this,t)},w.$$arity=1),t.def(Zt,"$[]",k=function(e,n){return e.$$is_range?function(e,n){var r,a,s,o=e.length;return r=n.excl,a=t.Opal.$coerce_to(n.begin,t.Integer,"to_int"),s=t.Opal.$coerce_to(n.end,t.Integer,"to_int"),a<0&&(a+=o)<0||a>o?i:s<0&&(s+=o)<0?[]:(r||(s+=1),te(e.slice(a,s),e.$class()))}(this,e):function(e,n,r){var a=e.length;return(n=t.Opal.$coerce_to(n,t.Integer,"to_int"))<0&&(n+=a)<0?i:void 0===r?n>=a||n<0?i:e[n]:(r=t.Opal.$coerce_to(r,t.Integer,"to_int"))<0||n>a||n<0?i:te(e.slice(n,n+r),e.$class())}(this,e,n)},k.$$arity=-2),t.def(Zt,"$[]=",A=function(t,e,n){var r,a,o=i,l=i,u=this.length;if($(s(Qt,"Range")["$==="](t))){o=$(s(Qt,"Array")["$==="](e))?e.$to_a():$(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var c=t.excl,d=s(Qt,"Opal").$coerce_to(t.begin,s(Qt,"Integer"),"to_int"),f=s(Qt,"Opal").$coerce_to(t.end,s(Qt,"Integer"),"to_int");if(d<0&&(d+=u)<0&&this.$raise(s(Qt,"RangeError"),t.$inspect()+" out of range"),f<0&&(f+=u),c||(f+=1),d>u)for(r=u;r<d;r++)this[r]=i;return f<0?this.splice.apply(this,[d,0].concat(o)):this.splice.apply(this,[d,f-d].concat(o)),e}if($(void 0===n)?l=1:(l=e,e=n,o=$(s(Qt,"Array")["$==="](e))?e.$to_a():$(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),l=s(Qt,"Opal").$coerce_to(l,s(Qt,"Integer"),"to_int"),t<0&&(a=t,(t+=u)<0&&this.$raise(s(Qt,"IndexError"),"index "+a+" too small for array; minimum "+-this.length)),l<0&&this.$raise(s(Qt,"IndexError"),"negative length ("+l+")"),t>u)for(r=u;r<t;r++)this[r]=i;return void 0===n?this[t]=e:this.splice.apply(this,[t,l].concat(o)),e},A.$$arity=-3),t.def(Zt,"$any?",E=function(e){var n=E.$$p,r=this,a=i,s=i,o=i;for(n&&(E.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return n&&(E.$$p=null),0!==r.length&&u(r,t.find_super_dispatcher(r,"any?",E,!1),a,n)},E.$$arity=-1),t.def(Zt,"$assoc",O=function(t){for(var e,n=0,r=this.length;n<r;n++)if((e=this[n]).length&&e[0]["$=="](t))return e;return i},O.$$arity=1),t.def(Zt,"$at",S=function(t){return(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?i:this[t]},S.$$arity=1),t.def(Zt,"$bsearch_index",R=function(){var e=R.$$p,n=e||i;if(e&&(R.$$p=null),e&&(R.$$p=null),n===i)return this.$enum_for("bsearch_index");for(var r,a,o,$=0,l=this.length,u=!1,c=i;$<l;){if(a=this[r=$+Math.floor((l-$)/2)],!0===(o=t.yield1(n,a)))c=r,u=!0;else if(!1===o||o===i)u=!1;else if(o.$$is_number){if(0===o)return r;u=o<0}else this.$raise(s(Qt,"TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");u?l=r:$=r+1}return c},R.$$arity=0),t.def(Zt,"$bsearch",C=function(){var t,e=C.$$p,n=e||i;return e&&(C.$$p=null),e&&(C.$$p=null),n===i?this.$enum_for("bsearch"):null!=(t=u(this,"bsearch_index",[],n.$to_proc()))&&t.$$is_number?this[t]:t},C.$$arity=0),t.def(Zt,"$cycle",I=function(n){var r,o,l,c,d=I.$$p,f=d||i;if(d&&(I.$$p=null),d&&(I.$$p=null),null==n&&(n=i),f===i)return u(this,"enum_for",["cycle",n],((r=function(){var t,i,o=r.$$s||this;return $(n["$nil?"]())?a(s(Qt,"Float"),"INFINITY"):(n=s(Qt,"Opal")["$coerce_to!"](n,s(Qt,"Integer"),"to_int"),$(e(n,0))?(t=o.$enumerator_size(),i=n,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,r.$$arity=0,r));if($($(o=this["$empty?"]())?o:n["$=="](0)))return i;if(n===i)for(;;)for(l=0,c=this.length;l<c;l++)t.yield1(f,this[l]);else{if((n=s(Qt,"Opal")["$coerce_to!"](n,s(Qt,"Integer"),"to_int"))<=0)return this;for(;n>0;){for(l=0,c=this.length;l<c;l++)t.yield1(f,this[l]);n--}}return this},I.$$arity=-1),t.def(Zt,"$clear",T=function(){return this.splice(0,this.length),this},T.$$arity=0),t.def(Zt,"$count",L=function(e){var n,r=L.$$p,a=r||i,s=this,o=i,l=i,c=i;for(r&&(L.$$p=null),l=0,c=arguments.length,o=new Array(c);l<c;l++)o[l]=arguments[l];return r&&(L.$$p=null),null==e&&(e=i),$($(n=e)?n:a)?u(s,t.find_super_dispatcher(s,"count",L,!1),o,r):s.$size()},L.$$arity=-1),t.def(Zt,"$initialize_copy",M=function(t){return this.$replace(t)},M.$$arity=1),t.def(Zt,"$collect",P=function(){var e,n=P.$$p,r=n||i;if(n&&(P.$$p=null),n&&(P.$$p=null),r===i)return u(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var a=[],s=0,o=this.length;s<o;s++){var $=t.yield1(r,this[s]);a.push($)}return a},P.$$arity=0),t.def(Zt,"$collect!",N=function(){var e,n=N.$$p,r=n||i;if(n&&(N.$$p=null),n&&(N.$$p=null),r===i)return u(this,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var a=0,s=this.length;a<s;a++){var o=t.yield1(r,this[a]);this[a]=o}return this},N.$$arity=0),t.def(Zt,"$combination",B=function(e){var n,r,a,o,$,l,c,d,f,_=B.$$p,p=_||i;if(_&&(B.$$p=null),r=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),p===i)return u(this,"enum_for",["combination",r],((n=function(){return ee((n.$$s||this).length,r)}).$$s=this,n.$$arity=0,n));if(0===r)t.yield1(p,[]);else if(1===r)for(a=0,o=this.length;a<o;a++)t.yield1(p,[this[a]]);else if(r===this.length)t.yield1(p,this.slice());else if(r>=0&&r<this.length){for($=[],a=0;a<=r+1;a++)$.push(0);for(l=[],c=0,d=!1,$[0]=-1;!d;){for(l[c]=this[$[c+1]];c<r-1;)f=$[++c+1]=$[c]+1,l[c]=this[f];t.yield1(p,l.slice()),c++;do{d=0===c,$[c]++,c--}while($[c+1]+r===this.length+c+1)}}return this},B.$$arity=1),t.def(Zt,"$repeated_combination",D=function(e){var n,r,a=D.$$p,o=a||i;if(a&&(D.$$p=null),r=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),o===i)return u(this,"enum_for",["repeated_combination",r],((n=function(){return ee((n.$$s||this).length+r-1,r)}).$$s=this,n.$$arity=0,n));return r>=0&&function e(n,r,i,a){if(i.length!=n)for(var s=r;s<a.length;s++)i.push(a[s]),e(n,s,i,a),i.pop();else{var $=i.slice();t.yield1(o,$)}}(r,0,[],this),this},D.$$arity=1),t.def(Zt,"$compact",z=function(){for(var t,e=[],n=0,r=this.length;n<r;n++)(t=this[n])!==i&&e.push(t);return e},z.$$arity=0),t.def(Zt,"$compact!",F=function(){for(var t=this.length,e=0,n=this.length;e<n;e++)this[e]===i&&(this.splice(e,1),n--,e--);return this.length===t?i:this},F.$$arity=0),t.def(Zt,"$concat",j=function(e){var n,r,a,o,l=this;return n=t.slice.call(arguments,0,arguments.length),r=u(r=n,"map",[],((a=function(t){var e=a.$$s||this;return null==t&&(t=i),t=$(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),$(t["$equal?"](e))&&(t=t.$dup()),t}).$$s=l,a.$$arity=1,a)),u(r,"each",[],((o=function(t){var e=o.$$s||this;null==t&&(t=i);for(var n=0,r=t.length;n<r;n++)e.push(t[n])}).$$s=l,o.$$arity=1,o)),l},j.$$arity=-1),t.def(Zt,"$delete",q=function(e){var n=q.$$p,r=n||i;n&&(q.$$p=null);for(var a=this.length,s=0,o=a;s<o;s++)this[s]["$=="](e)&&(this.splice(s,1),o--,s--);return this.length===a?r!==i?t.yieldX(r,[]):i:e},q.$$arity=1),t.def(Zt,"$delete_at",U=function(t){if((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return i;var e=this[t];return this.splice(t,1),e},U.$$arity=1),t.def(Zt,"$delete_if",H=function(){var t,e=H.$$p,n=e||i;if(e&&(H.$$p=null),e&&(H.$$p=null),n===i)return u(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,a=0,s=this.length;a<s;a++)!1!==(r=n(this[a]))&&r!==i&&(this.splice(a,1),s--,a--);return this},H.$$arity=0),t.def(Zt,"$dig",Y=function(e,n){var r,a=this,o=i;return r=t.slice.call(arguments,1,arguments.length),(o=a["$[]"](e))===i||0===r.length?o:($(o["$respond_to?"]("dig"))||a.$raise(s(Qt,"TypeError"),o.$class()+" does not have #dig method"),u(o,"dig",t.to_a(r)))},Y.$$arity=-2),t.def(Zt,"$drop",G=function(t){return t<0&&this.$raise(s(Qt,"ArgumentError")),this.slice(t)},G.$$arity=1),t.def(Zt,"$dup",W=function(){var e=W.$$p,n=this,r=i,a=i,s=i;for(e&&(W.$$p=null),a=0,s=arguments.length,r=new Array(s);a<s;a++)r[a]=arguments[a];return n.$$class===t.Array&&n.$$class.$allocate.$$pristine&&n.$copy_instance_variables.$$pristine&&n.$initialize_dup.$$pristine?n.slice(0):u(n,t.find_super_dispatcher(n,"dup",W,!1),r,e)},W.$$arity=0),t.def(Zt,"$each",V=function(){var e,n=V.$$p,r=n||i;if(n&&(V.$$p=null),n&&(V.$$p=null),r===i)return u(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var a=0,s=this.length;a<s;a++)t.yield1(r,this[a]);return this},V.$$arity=0),t.def(Zt,"$each_index",X=function(){var e,n=X.$$p,r=n||i;if(n&&(X.$$p=null),n&&(X.$$p=null),r===i)return u(this,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var a=0,s=this.length;a<s;a++)t.yield1(r,a);return this},X.$$arity=0),t.def(Zt,"$empty?",K=function(){return 0===this.length},K.$$arity=0),t.def(Zt,"$eql?",J=function(t){var e={};return function t(n,r){var i,a,s,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),n.length!==r.length)return!1;for(e[n.$object_id()]=!0,i=0,a=n.length;i<a;i++)if(s=n[i],o=r[i],s.$$is_array){if(o.$$is_array&&o.length!==s.length)return!1;if(!e.hasOwnProperty(s.$object_id())&&!t(s,o))return!1}else if(!s["$eql?"](o))return!1;return!0}(this,t)},J.$$arity=1),t.def(Zt,"$fetch",Z=function(t,e){var n=Z.$$p,r=n||i;n&&(Z.$$p=null),n&&(Z.$$p=null);var a=t;return(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t>=0&&t<this.length?this[t]:(r!==i&&null!=e&&this.$warn("warning: block supersedes default value argument"),r!==i?r(a):null!=e?e:void(0===this.length?this.$raise(s(Qt,"IndexError"),"index "+a+" outside of array bounds: 0...0"):this.$raise(s(Qt,"IndexError"),"index "+a+" outside of array bounds: -"+this.length+"..."+this.length)))},Z.$$arity=-2),t.def(Zt,"$fill",Q=function(e){var n,r,a,o,l,u=Q.$$p,c=u||i,d=this,f=i,_=i,p=i,h=i,y=i;if(u&&(Q.$$p=null),u&&(Q.$$p=null),n=t.slice.call(arguments,0,arguments.length),$(c)?($(n.length>2)&&d.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+n.$length()+" for 0..2)"),a=n,f=null==(r=t.to_ary(a))[0]?i:r[0],_=null==r[1]?i:r[1]):($(0==n.length)?d.$raise(s(Qt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):$(n.length>3)&&d.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+n.$length()+" for 1..3)"),a=n,p=null==(r=t.to_ary(a))[0]?i:r[0],f=null==r[1]?i:r[1],_=null==r[2]?i:r[2]),$(s(Qt,"Range")["$==="](f))){if($(_)&&d.$raise(s(Qt,"TypeError"),"length invalid with range"),h=s(Qt,"Opal").$coerce_to(f.$begin(),s(Qt,"Integer"),"to_int"),$(h<0)&&(h+=this.length),$(h<0)&&d.$raise(s(Qt,"RangeError"),f.$inspect()+" out of range"),y=s(Qt,"Opal").$coerce_to(f.$end(),s(Qt,"Integer"),"to_int"),$(y<0)&&(y+=this.length),$(f["$exclude_end?"]())||(y+=1),$(y<=h))return d}else if($(f))if(h=s(Qt,"Opal").$coerce_to(f,s(Qt,"Integer"),"to_int"),$(h<0)&&(h+=this.length),$(h<0)&&(h=0),$(_)){if(y=s(Qt,"Opal").$coerce_to(_,s(Qt,"Integer"),"to_int"),$(0==y))return d;y+=h}else y=this.length;else h=0,y=this.length;if($(h>this.length))for(o=this.length;o<y;o++)d[o]=i;if($(y>this.length)&&(this.length=y),$(c))for(this.length;h<y;h++)l=c(h),d[h]=l;else for(this.length;h<y;h++)d[h]=p;return d},Q.$$arity=-1),t.def(Zt,"$first",tt=function(t){return null==t?0===this.length?i:this[0]:((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),this.slice(0,t))},tt.$$arity=-1),t.def(Zt,"$flatten",et=function(t){var e=this;return void 0!==t&&(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int")),te(function t(n,r){var a,o,$,l,u=[];for(a=0,o=(n=n.$to_a()).length;a<o;a++)if($=n[a],s(Qt,"Opal")["$respond_to?"]($,"to_ary",!0))if((l=$.$to_ary())!==i)switch(l.$$is_array||e.$raise(s(Qt,"TypeError")),l===e&&e.$raise(s(Qt,"ArgumentError")),r){case void 0:u=u.concat(t(l));break;case 0:u.push(l);break;default:u.push.apply(u,t(l,r-1))}else u.push($);else u.push($);return u}(e,t),e.$class())},et.$$arity=-1),t.def(Zt,"$flatten!",nt=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var n=0,r=this.length;n<r&&this[n]===e[n];n++);if(n==r)return i}return this.$replace(e),this},nt.$$arity=-1),t.def(Zt,"$hash",rt=function(){var e,n,r,i=void 0===t.hash_ids,a=["A"],s=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[s])return"self";for(r in t.hash_ids)if(e=t.hash_ids[r],this["$eql?"](e))return"self";for(t.hash_ids[s]=this,n=0;n<this.length;n++)e=this[n],a.push(e.$hash());return a.join(",")}finally{i&&(t.hash_ids=void 0)}},rt.$$arity=0),t.def(Zt,"$include?",it=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return!0;return!1},it.$$arity=1),t.def(Zt,"$index",at=function(t){var e,n,r,a=at.$$p,s=a||i;if(a&&(at.$$p=null),a&&(at.$$p=null),null!=t&&s!==i&&this.$warn("warning: given block not used"),null!=t){for(e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return e}else{if(s===i)return this.$enum_for("index");for(e=0,n=this.length;e<n;e++)if(!1!==(r=s(this[e]))&&r!==i)return e}return i},at.$$arity=-1),t.def(Zt,"$insert",st=function(e,n){var r,a=this;if(r=t.slice.call(arguments,1,arguments.length),e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"),r.length>0){if(e<0&&(e+=a.length+1)<0&&a.$raise(s(Qt,"IndexError"),e+" is out of bounds"),e>a.length)for(var o=a.length;o<e;o++)a.push(i);a.splice.apply(a,[e,0].concat(r))}return a},st.$$arity=-2),t.def(Zt,"$inspect",ot=function(){for(var t=[],e=this.$__id__(),n=0,r=this.length;n<r;n++){var i=this["$[]"](n);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},ot.$$arity=0),t.def(Zt,"$join",$t=function(e){if(null==c[","]&&(c[","]=i),null==e&&(e=i),$(0===this.length))return"";$(e===i)&&(e=c[","]);var n,r,a,o,l=[];for(n=0,r=this.length;n<r;n++)a=this[n],s(Qt,"Opal")["$respond_to?"](a,"to_str")&&(o=a.$to_str())!==i?l.push(o.$to_s()):s(Qt,"Opal")["$respond_to?"](a,"to_ary")&&((o=a.$to_ary())===this&&this.$raise(s(Qt,"ArgumentError")),o!==i)?l.push(o.$join(e)):s(Qt,"Opal")["$respond_to?"](a,"to_s")&&(o=a.$to_s())!==i?l.push(o):this.$raise(s(Qt,"NoMethodError").$new(t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?l.join(""):l.join(s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"String"),"to_str").$to_s())},$t.$$arity=-1),t.def(Zt,"$keep_if",lt=function(){var t,e=lt.$$p,n=e||i;if(e&&(lt.$$p=null),e&&(lt.$$p=null),n===i)return u(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,a=0,s=this.length;a<s;a++)!1!==(r=n(this[a]))&&r!==i||(this.splice(a,1),s--,a--);return this},lt.$$arity=0),t.def(Zt,"$last",ut=function(t){return null==t?0===this.length?i:this[this.length-1]:((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},ut.$$arity=-1),t.def(Zt,"$length",ct=function(){return this.length},ct.$$arity=0),t.alias(Zt,"map","collect"),t.alias(Zt,"map!","collect!"),t.def(Zt,"$max",dt=function(t){var e=dt.$$p,n=e||i;return e&&(dt.$$p=null),e&&(dt.$$p=null),u(this.$each(),"max",[t],n.$to_proc())},dt.$$arity=-1),t.def(Zt,"$min",ft=function(){var t=ft.$$p,e=t||i;return t&&(ft.$$p=null),t&&(ft.$$p=null),u(this.$each(),"min",[],e.$to_proc())},ft.$$arity=0),t.def(Zt,"$permutation",_t=function(e){var n,r,a,o,$=_t.$$p,l=$||i,c=this,d=i,f=i;if($&&(_t.$$p=null),$&&(_t.$$p=null),l===i)return u(c,"enum_for",["permutation",e],((n=function(){var t=n.$$s||this;return function(t,e){for(var n=e>=0?1:0;e;)n*=t,t--,e--;return n}(t.length,void 0===e?t.length:e)}).$$s=c,n.$$arity=0,n));if((e=void 0===e?c.length:s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"))<0||c.length<e);else if(0===e)t.yield1(l,[]);else if(1===e)for(var _=0;_<c.length;_++)t.yield1(l,[c[_]]);else d=s(Qt,"Array").$new(e),f=s(Qt,"Array").$new(c.length,!1),r=function(e,n,i,a,s){c=this;for(var $=0;$<c.length;$++)if(a["$[]"]($)["$!"]())if(n[i]=$,i<e-1)a[$]=!0,r.call(c,e,n,i+1,a,s),a[$]=!1;else{o=[];for(var l=0;l<n.length;l++)o.push(c[n[l]]);t.yield1(s,o)}},l!==i?(a=c.slice(),r.call(a,e,d,0,f,l)):r.call(c,e,d,0,f,l);return c},_t.$$arity=-1),t.def(Zt,"$repeated_permutation",pt=function(e){var n,r,a=pt.$$p,o=a||i;if(a&&(pt.$$p=null),r=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),o===i)return u(this,"enum_for",["repeated_permutation",r],((n=function(){var t,e,i=n.$$s||this;return $((e=0,"number"==typeof(t=r)&&"number"==typeof e?t>=e:t["$>="](e)))?i.$size()["$**"](r):0}).$$s=this,n.$$arity=0,n));return function e(n,r,i){if(r.length!=n)for(var a=0;a<i.length;a++)r.push(i[a]),e(n,r,i),r.pop();else{var s=r.slice();t.yield1(o,s)}}(r,[],this.slice()),this},pt.$$arity=1),t.def(Zt,"$pop",ht=function(t){return $(void 0===t)?$(0===this.length)?i:this.pop():(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),$(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),$(0===this.length)?[]:$(t>this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length))},ht.$$arity=-1),t.def(Zt,"$product",yt=function(e){var n,r,a=yt.$$p,o=a||i,$=this;a&&(yt.$$p=null),a&&(yt.$$p=null),n=t.slice.call(arguments,0,arguments.length);var l,u,c,d,f=o!==i?null:[],_=(r=n).length+1,p=new Array(_),h=new Array(_),y=new Array(_),m=1;for(y[0]=$,l=1;l<_;l++)y[l]=s(Qt,"Opal").$coerce_to(r[l-1],s(Qt,"Array"),"to_ary");for(l=0;l<_;l++){if(0===(d=y[l].length))return f||$;(m*=d)>2147483647&&$.$raise(s(Qt,"RangeError"),"too big to product"),h[l]=d,p[l]=0}t:for(;;){for(c=[],l=0;l<_;l++)c.push(y[l][p[l]]);for(f?f.push(c):t.yield1(o,c),p[u=_-1]++;p[u]===h[u];){if(p[u]=0,--u<0)break t;p[u]++}}return f||$},yt.$$arity=-1),t.def(Zt,"$push",mt=function(e){for(var n,r=this,i=0,a=(n=t.slice.call(arguments,0,arguments.length)).length;i<a;i++)r.push(n[i]);return r},mt.$$arity=-1),t.alias(Zt,"append","push"),t.def(Zt,"$rassoc",gt=function(t){for(var e,n=0,r=this.length;n<r;n++)if((e=this[n]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},gt.$$arity=1),t.def(Zt,"$reject",vt=function(){var t,e=vt.$$p,n=e||i;if(e&&(vt.$$p=null),e&&(vt.$$p=null),n===i)return u(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,a=[],s=0,o=this.length;s<o;s++)!1!==(r=n(this[s]))&&r!==i||a.push(this[s]);return a},vt.$$arity=0),t.def(Zt,"$reject!",bt=function(){var t,e,n=bt.$$p,r=n||i;return n&&(bt.$$p=null),n&&(bt.$$p=null),r===i?u(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),u(this,"delete_if",[],r.$to_proc()),this.$length()["$=="](e)?i:this)},bt.$$arity=0),t.def(Zt,"$replace",xt=function(t){return t=$(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},xt.$$arity=1),t.def(Zt,"$reverse",wt=function(){return this.slice(0).reverse()},wt.$$arity=0),t.def(Zt,"$reverse!",kt=function(){return this.reverse()},kt.$$arity=0),t.def(Zt,"$reverse_each",At=function(){var t,e=At.$$p,n=e||i;return e&&(At.$$p=null),e&&(At.$$p=null),n===i?u(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(u(this.$reverse(),"each",[],n.$to_proc()),this)},At.$$arity=0),t.def(Zt,"$rindex",Et=function(t){var e,n,r=Et.$$p,a=r||i;if(r&&(Et.$$p=null),r&&(Et.$$p=null),null!=t&&a!==i&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(a!==i){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(!1!==(n=a(this[e]))&&n!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},Et.$$arity=-1),t.def(Zt,"$rotate",Ot=function(t){var e,n,r,i;return null==t&&(t=1),t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(n=t%(e=this.slice()).length,r=e.slice(n),i=e.slice(0,n),r.concat(i))},Ot.$$arity=-1),t.def(Zt,"$rotate!",St=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},St.$$arity=-1),function(e,n,r){var a,l,u=o(e,null,"SampleRandom"),c=[u].concat(r);u.$$prototype.rng=i,t.def(u,"$initialize",a=function(t){return this.rng=t},a.$$arity=1),t.def(u,"$rand",l=function(t){var e;return e=s(c,"Opal").$coerce_to(this.rng.$rand(t),s(c,"Integer"),"to_int"),$(e<0)&&this.$raise(s(c,"RangeError"),"random value must be >= 0"),$(e<t)||this.$raise(s(c,"RangeError"),"random value must be less than Array size"),e},l.$$arity=1)}(Qt[0],0,Qt),t.def(Zt,"$sample",Rt=function(t,e){var n,r,a,o,l,u,c,d,f,_=i,p=i;if($(void 0===t))return this.$at(s(Qt,"Kernel").$rand(this.length));if($(void 0===e)?$(_=s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Hash"),"to_hash"))?(e=_,t=i):(e=i,t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int")):(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Hash"),"to_hash")),$($(n=t)?t<0:n)&&this.$raise(s(Qt,"ArgumentError"),"count must be greater than 0"),$(e)&&(p=e["$[]"]("random")),p=$($(n=p)?p["$respond_to?"]("rand"):n)?s(Qt,"SampleRandom").$new(p):s(Qt,"Kernel"),!$(t))return this[p.$rand(this.length)];switch(t>this.length&&(t=this.length),t){case 0:return[];case 1:return[this[p.$rand(this.length)]];case 2:return(l=p.$rand(this.length))===(u=p.$rand(this.length))&&(u=0===l?l+1:l-1),[this[l],this[u]];default:if(this.length/t>3){for(r=!1,a=0,l=1,(o=s(Qt,"Array").$new(t))[0]=p.$rand(this.length);l<t;){for(c=p.$rand(this.length),u=0;u<l;){for(;c===o[u];){if(++a>100){r=!0;break}c=p.$rand(this.length)}if(r)break;u++}if(r)break;o[l]=c,l++}if(!r){for(l=0;l<t;)o[l]=this[o[l]],l++;return o}}o=this.slice();for(var h=0;h<t;h++)d=p.$rand(this.length),f=o[h],o[h]=o[d],o[d]=f;return t===this.length?o:o["$[]"](0,t)}},Rt.$$arity=-1),t.def(Zt,"$select",Ct=function(){var e,n=Ct.$$p,r=n||i;if(n&&(Ct.$$p=null),n&&(Ct.$$p=null),r===i)return u(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var a,s,o=[],$=0,l=this.length;$<l;$++)a=this[$],s=t.yield1(r,a),t.truthy(s)&&o.push(a);return o},Ct.$$arity=0),t.def(Zt,"$select!",It=function(){var t,e=It.$$p,n=e||i;if(e&&(It.$$p=null),e&&(It.$$p=null),n===i)return u(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var r=this.length;return u(this,"keep_if",[],n.$to_proc()),this.length===r?i:this},It.$$arity=0),t.def(Zt,"$shift",Tt=function(t){return $(void 0===t)?$(0===this.length)?i:this.shift():(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),$(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),$(0===this.length)?[]:this.splice(0,t))},Tt.$$arity=-1),t.alias(Zt,"size","length"),t.def(Zt,"$shuffle",Lt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Lt.$$arity=-1),t.def(Zt,"$shuffle!",Mt=function(t){var e,n,r,a=this.length;for(void 0!==t&&(t=s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Hash"),"to_hash"))!==i&&(t=t["$[]"]("random"))!==i&&t["$respond_to?"]("rand")&&(e=t);a;)e?((n=e.$rand(a).$to_int())<0&&this.$raise(s(Qt,"RangeError"),"random number too small "+n),n>=a&&this.$raise(s(Qt,"RangeError"),"random number too big "+n)):n=this.$rand(a),r=this[--a],this[a]=this[n],this[n]=r;return this},Mt.$$arity=-1),t.alias(Zt,"slice","[]"),t.def(Zt,"$slice!",Pt=function(t,e){var n=i,r=i,a=i,o=i,l=i;if(n=i,$(void 0===e))if($(s(Qt,"Range")["$==="](t))){r=t,n=this["$[]"](r),a=s(Qt,"Opal").$coerce_to(r.$begin(),s(Qt,"Integer"),"to_int"),o=s(Qt,"Opal").$coerce_to(r.$end(),s(Qt,"Integer"),"to_int"),a<0&&(a+=this.length),o<0?o+=this.length:o>=this.length&&(o=this.length-1,r.excl&&(o+=1));var u=o-a;r.excl?o-=1:u+=1,a<this.length&&a>=0&&o<this.length&&o>=0&&u>0&&this.splice(a,u)}else{if((l=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(l+=this.length),l<0||l>=this.length)return i;n=this[l],0===l?this.shift():this.splice(l,1)}else{if(l=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),(e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"))<0)return i;n=this["$[]"](l,e),l<0&&(l+=this.length),l+e>this.length&&(e=this.length-l),l<this.length&&l>=0&&this.splice(l,e)}return n},Pt.$$arity=-2),t.def(Zt,"$sort",Nt=function(){var t=Nt.$$p,n=t||i,r=this;return t&&(Nt.$$p=null),t&&(Nt.$$p=null),$(r.length>1)?(n===i&&(n=function(t,e){return t["$<=>"](e)}),r.slice().sort((function(t,a){var o,$,l=n(t,a);return l===i&&r.$raise(s(Qt,"ArgumentError"),"comparison of "+t.$inspect()+" with "+a.$inspect()+" failed"),e(l,0)?1:($=0,("number"==typeof(o=l)&&"number"==typeof $?o<$:o["$<"]($))?-1:0)}))):r},Nt.$$arity=0),t.def(Zt,"$sort!",Bt=function(){var t,e=Bt.$$p,n=e||i;e&&(Bt.$$p=null),e&&(Bt.$$p=null),t=n!==i?u(this.slice(),"sort",[],n.$to_proc()):this.slice().$sort(),this.length=0;for(var r=0,a=t.length;r<a;r++)this.push(t[r]);return this},Bt.$$arity=0),t.def(Zt,"$sort_by!",Dt=function(){var t,e=Dt.$$p,n=e||i;return e&&(Dt.$$p=null),e&&(Dt.$$p=null),n===i?u(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(u(this,"sort_by",[],n.$to_proc()))},Dt.$$arity=0),t.def(Zt,"$take",zt=function(t){return t<0&&this.$raise(s(Qt,"ArgumentError")),this.slice(0,t)},zt.$$arity=1),t.def(Zt,"$take_while",Ft=function(){var t=Ft.$$p,e=t||i;t&&(Ft.$$p=null),t&&(Ft.$$p=null);for(var n,r,a=[],s=0,o=this.length;s<o;s++){if(!1===(r=e(n=this[s]))||r===i)return a;a.push(n)}return a},Ft.$$arity=0),t.def(Zt,"$to_a",jt=function(){return this},jt.$$arity=0),t.alias(Zt,"to_ary","to_a"),t.def(Zt,"$to_h",qt=function(){var e,n,r,i,a=this.length,o=l([],{});for(e=0;e<a;e++)(n=s(Qt,"Opal")["$coerce_to?"](this[e],s(Qt,"Array"),"to_ary")).$$is_array||this.$raise(s(Qt,"TypeError"),"wrong element type "+n.$class()+" at "+e+" (expected array)"),2!==n.length&&this.$raise(s(Qt,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+n.$length()+")"),r=n[0],i=n[1],t.hash_put(o,r,i);return o},qt.$$arity=0),t.alias(Zt,"to_s","inspect"),t.def(Zt,"$transpose",Ut=function(){var e,n=i,r=i;return $(this["$empty?"]())?[]:(n=[],r=i,u(this,"each",[],((e=function(a){var o,l,c=e.$$s||this;return null==a&&(a=i),a=$(s(Qt,"Array")["$==="](a))?a.$to_a():s(Qt,"Opal").$coerce_to(a,s(Qt,"Array"),"to_ary").$to_a(),r=$(o=r)?o:a.length,$(a.length["$!="](r))&&c.$raise(s(Qt,"IndexError"),"element size differs ("+a.length+" should be "+r+")"),u(a.length,"times",[],((l=function(e){l.$$s;var r,s,o,c=i;return null==e&&(e=i),($(r=n["$[]"](e))?r:(c=[e,[]],u(n,"[]=",t.to_a(c)),c[(s=c.length,o=1,"number"==typeof s&&"number"==typeof o?s-o:s["$-"](o))]))["$<<"](a.$at(e))}).$$s=c,l.$$arity=1,l))}).$$s=this,e.$$arity=1,e)),n)},Ut.$$arity=0),t.def(Zt,"$uniq",Ht=function(){var e=Ht.$$p,n=e||i;e&&(Ht.$$p=null),e&&(Ht.$$p=null);var r,a,s,o,$=l([],{});if(n===i)for(r=0,a=this.length;r<a;r++)s=this[r],void 0===t.hash_get($,s)&&t.hash_put($,s,s);else for(r=0,a=this.length;r<a;r++)s=this[r],o=t.yield1(n,s),void 0===t.hash_get($,o)&&t.hash_put($,o,s);return te($.$values(),this.$class())},Ht.$$arity=0),t.def(Zt,"$uniq!",Yt=function(){var e=Yt.$$p,n=e||i;e&&(Yt.$$p=null),e&&(Yt.$$p=null);var r,a,s,o,$=this.length,u=l([],{});for(r=0,a=$;r<a;r++)s=this[r],o=n===i?s:t.yield1(n,s),void 0!==t.hash_get(u,o)?(this.splice(r,1),a--,r--):t.hash_put(u,o,s);return this.length===$?i:this},Yt.$$arity=0),t.def(Zt,"$unshift",Gt=function(e){for(var n,r=this,i=(n=t.slice.call(arguments,0,arguments.length)).length-1;i>=0;i--)r.unshift(n[i]);return r},Gt.$$arity=-1),t.alias(Zt,"prepend","unshift"),t.def(Zt,"$values_at",Wt=function(e){var n,r,a=this,o=i;return n=t.slice.call(arguments,0,arguments.length),o=[],u(n,"each",[],((r=function(t){var e,n=r.$$s||this,a=i,l=i,c=i;return null==t&&(t=i),$(t["$is_a?"](s(Qt,"Range")))?(a=s(Qt,"Opal").$coerce_to(t.$last(),s(Qt,"Integer"),"to_int"),(l=s(Qt,"Opal").$coerce_to(t.$first(),s(Qt,"Integer"),"to_int"))<0?(l+=n.length,i):(a<0&&(a+=n.length),t["$exclude_end?"]()&&a--,a<l?i:u(l,"upto",[a],((e=function(t){var n=e.$$s||this;return null==t&&(t=i),o["$<<"](n.$at(t))}).$$s=n,e.$$arity=1,e)))):(c=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),o["$<<"](n.$at(c)))}).$$s=a,r.$$arity=1,r)),o},Wt.$$arity=-1),t.def(Zt,"$zip",Vt=function(e){var n,r,a=Vt.$$p,o=a||i,l=this;a&&(Vt.$$p=null),a&&(Vt.$$p=null),n=t.slice.call(arguments,0,arguments.length);var u,c,d,f,_,p=[],h=l.length;for(f=0,_=n.length;f<_;f++)(c=n[f]).$$is_array||(c.$$is_enumerator?c.$size()===1/0?n[f]=c.$take(h):n[f]=c.$to_a():n[f]=($(r=s(Qt,"Opal")["$coerce_to?"](c,s(Qt,"Array"),"to_ary"))?r:s(Qt,"Opal")["$coerce_to!"](c,s(Qt,"Enumerator"),"each")).$to_a());for(d=0;d<h;d++){for(u=[l[d]],f=0,_=n.length;f<_;f++)null==(c=n[f][d])&&(c=i),u[f+1]=c;p[d]=u}if(o!==i){for(d=0;d<h;d++)o(p[d]);return i}return p},Vt.$$arity=-1),t.defs(Zt,"$inherited",Xt=function(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Xt.$$arity=1),t.def(Zt,"$instance_variables",Kt=function(){var e,n=Kt.$$p,r=this,a=i,s=i,o=i;for(n&&(Kt.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return u(u(r,t.find_super_dispatcher(r,"instance_variables",Kt,!1),a,n),"reject",[],((e=function(t){var n;e.$$s;return null==t&&(t=i),$(n=/^@\d+$/.test(t))?n:t["$=="]("@length")}).$$s=r,e.$$arity=1,e))},Kt.$$arity=0),s(Qt,"Opal").$pristine(Zt.$singleton_class(),"allocate"),s(Qt,"Opal").$pristine(Zt,"copy_instance_variables","initialize_dup"),t.def(Zt,"$pack",Jt=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Jt.$$arity=-1),i&&"pack"}(r[0],0,r)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),$=t.send,l=t.hash2,u=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),r.$require("corelib/enumerable"),function(r,i,c){var d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht,yt,mt,gt,vt,bt=o(r,null,"Hash"),xt=[bt].concat(c);return bt.$include(s(xt,"Enumerable")),bt.$$prototype.$$is_hash=!0,t.defs(bt,"$[]",d=function(e){var n,r,i,o=this,$=(n=t.slice.call(arguments,0,arguments.length)).length;if(1===$){if((r=s(xt,"Opal")["$coerce_to?"](n["$[]"](0),s(xt,"Hash"),"to_hash"))!==a)return o.$allocate()["$merge!"](r);for((n=s(xt,"Opal")["$coerce_to?"](n["$[]"](0),s(xt,"Array"),"to_ary"))===a&&o.$raise(s(xt,"ArgumentError"),"odd number of arguments for Hash"),$=n.length,r=o.$allocate(),i=0;i<$;i++)if(n[i].$$is_array)switch(n[i].length){case 1:r.$store(n[i][0],a);break;case 2:r.$store(n[i][0],n[i][1]);break;default:o.$raise(s(xt,"ArgumentError"),"invalid number of elements ("+n[i].length+" for 1..2)")}return r}for($%2!=0&&o.$raise(s(xt,"ArgumentError"),"odd number of arguments for Hash"),r=o.$allocate(),i=0;i<$;i+=2)r.$store(n[i],n[i+1]);return r},d.$$arity=-1),t.defs(bt,"$allocate",f=function(){var e=new this.$$constructor;return t.hash_init(e),e.$$none=a,e.$$proc=a,e},f.$$arity=0),t.defs(bt,"$try_convert",_=function(t){return s(xt,"Opal")["$coerce_to?"](t,s(xt,"Hash"),"to_hash")},_.$$arity=1),t.def(bt,"$initialize",p=function(t){var e=p.$$p,n=e||a;return e&&(p.$$p=null),e&&(p.$$p=null),void 0!==t&&n!==a&&this.$raise(s(xt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?a:t,this.$$proc=n,this},p.$$arity=-1),t.def(bt,"$==",h=function(e){if(this===e)return!0;if(!e.$$is_hash)return!1;if(this.$$keys.length!==e.$$keys.length)return!1;for(var n,r,i,a=0,s=this.$$keys,o=s.length;a<o;a++)if((n=s[a]).$$is_string?(r=this.$$smap[n],i=e.$$smap[n]):(r=n.value,i=t.hash_get(e,n.key)),void 0===i||!r["$eql?"](i))return!1;return!0},h.$$arity=1),t.def(bt,"$>=",y=function(t){var e,n=a;return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(n=!0,$(t,"each",[],((e=function(t,r){var i,s=e.$$s||this;null==t&&(t=a),null==r&&(r=a),null!=(i=s.$fetch(t,null))&&i===r||(n=!1)}).$$s=this,e.$$arity=2,e)),n)},y.$$arity=1),t.def(bt,"$>",m=function(t){return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},m.$$arity=1),t.def(bt,"$<",g=function(t){var e,n;return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),n=this,"number"==typeof(e=t)&&"number"==typeof n?e>n:e["$>"](n)},g.$$arity=1),t.def(bt,"$<=",v=function(t){return e(t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),this)},v.$$arity=1),t.def(bt,"$[]",b=function(e){var n=t.hash_get(this,e);return void 0!==n?n:this.$default(e)},b.$$arity=1),t.def(bt,"$[]=",x=function(e,n){return t.hash_put(this,e,n),n},x.$$arity=2),t.def(bt,"$assoc",w=function(t){for(var e,n=0,r=this.$$keys,i=r.length;n<i;n++)if((e=r[n]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return a},w.$$arity=1),t.def(bt,"$clear",k=function(){return t.hash_init(this),this},k.$$arity=0),t.def(bt,"$clone",A=function(){var e=new this.$$class;return t.hash_init(e),t.hash_clone(this,e),e},A.$$arity=0),t.def(bt,"$compact",E=function(){for(var e,n,r=t.hash(),i=0,s=this.$$keys,o=s.length;i<o;i++)(e=s[i]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n!==a&&t.hash_put(r,e,n);return r},E.$$arity=0),t.def(bt,"$compact!",O=function(){for(var e,n,r=!1,i=0,s=this.$$keys,o=s.length;i<o;i++)(e=s[i]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n===a&&void 0!==t.hash_delete(this,e)&&(r=!0,o--,i--);return r?this:a},O.$$arity=0),t.def(bt,"$compare_by_identity",S=function(){var e,n,r,i,a=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(i=l([],{}).$compare_by_identity(),e=0,n=a.length;e<n;e++)(r=a[e]).$$is_string||(r=r.key),t.hash_put(i,r,t.hash_get(this,r));return this.$$by_identity=!0,this.$$map=i.$$map,this.$$smap=i.$$smap,this},S.$$arity=0),t.def(bt,"$compare_by_identity?",R=function(){return!0===this.$$by_identity},R.$$arity=0),t.def(bt,"$default",C=function(t){return void 0!==t&&this.$$proc!==a&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?a:this.$$none},C.$$arity=-1),t.def(bt,"$default=",I=function(t){return this.$$proc=a,this.$$none=t,t},I.$$arity=1),t.def(bt,"$default_proc",T=function(){return void 0!==this.$$proc?this.$$proc:a},T.$$arity=0),t.def(bt,"$default_proc=",L=function(t){var e=t;return e!==a&&(e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(s(xt,"TypeError"),"default_proc takes two arguments"),this.$$none=a,this.$$proc=e,t},L.$$arity=1),t.def(bt,"$delete",M=function(e){var n=M.$$p,r=n||a;n&&(M.$$p=null),n&&(M.$$p=null);var i=t.hash_delete(this,e);return void 0!==i?i:r!==a?t.yield1(r,e):a},M.$$arity=1),t.def(bt,"$delete_if",P=function(){var e,n=P.$$p,r=n||a;if(n&&(P.$$p=null),n&&(P.$$p=null),!u(r))return $(this,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=0,c=this.$$keys,d=c.length;l<d;l++)(i=c[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a&&void 0!==t.hash_delete(this,i)&&(d--,l--);return this},P.$$arity=0),t.alias(bt,"dup","clone"),t.def(bt,"$dig",N=function(e,n){var r,i=this,o=a;return r=t.slice.call(arguments,1,arguments.length),(o=i["$[]"](e))===a||0===r.length?o:(u(o["$respond_to?"]("dig"))||i.$raise(s(xt,"TypeError"),o.$class()+" does not have #dig method"),$(o,"dig",t.to_a(r)))},N.$$arity=-2),t.def(bt,"$each",B=function(){var e,n=B.$$p,r=n||a;if(n&&(B.$$p=null),n&&(B.$$p=null),!u(r))return $(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=0,l=this.$$keys,c=l.length;o<c;o++)(i=l[o]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),t.yield1(r,[i,s]);return this},B.$$arity=0),t.def(bt,"$each_key",D=function(){var t,e=D.$$p,n=e||a;if(e&&(D.$$p=null),e&&(D.$$p=null),!u(n))return $(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,i=0,s=this.$$keys,o=s.length;i<o;i++)n((r=s[i]).$$is_string?r:r.key);return this},D.$$arity=0),t.alias(bt,"each_pair","each"),t.def(bt,"$each_value",z=function(){var t,e=z.$$p,n=e||a;if(e&&(z.$$p=null),e&&(z.$$p=null),!u(n))return $(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var r,i=0,s=this.$$keys,o=s.length;i<o;i++)n((r=s[i]).$$is_string?this.$$smap[r]:r.value);return this},z.$$arity=0),t.def(bt,"$empty?",F=function(){return 0===this.$$keys.length},F.$$arity=0),t.alias(bt,"eql?","=="),t.def(bt,"$fetch",j=function(e,n){var r=j.$$p,i=r||a;r&&(j.$$p=null),r&&(j.$$p=null);var o=t.hash_get(this,e);return void 0!==o?o:i!==a?i(e):void 0!==n?n:this.$raise(s(xt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:this})))},j.$$arity=-2),t.def(bt,"$fetch_values",q=function(e){var n,r,i=q.$$p,s=i||a,o=this;return i&&(q.$$p=null),i&&(q.$$p=null),n=t.slice.call(arguments,0,arguments.length),$(n,"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=a),$(e,"fetch",[t],s.$to_proc())}).$$s=o,r.$$arity=1,r))},q.$$arity=-1),t.def(bt,"$flatten",U=function(t){null==t&&(t=1),t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Integer"),"to_int");for(var e,n,r=[],i=0,a=this.$$keys,o=a.length;i<o;i++)if((e=a[i]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),r.push(e),n.$$is_array){if(1===t){r.push(n);continue}r=r.concat(n.$flatten(t-2))}else r.push(n);return r},U.$$arity=-1),t.def(bt,"$has_key?",H=function(e){return void 0!==t.hash_get(this,e)},H.$$arity=1),t.def(bt,"$has_value?",Y=function(t){for(var e,n=0,r=this.$$keys,i=r.length;n<i;n++)if(((e=r[n]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},Y.$$arity=1),t.def(bt,"$hash",G=function(){var e,n,r=void 0===t.hash_ids,i=this.$object_id(),a=["Hash"];try{if(r&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(n=t.hash_ids[e],this["$eql?"](n))return"self";t.hash_ids[i]=this;for(var s=0,o=this.$$keys,$=o.length;s<$;s++)(e=o[s]).$$is_string?a.push([e,this.$$smap[e].$hash()]):a.push([e.key_hash,e.value.$hash()]);return a.sort().join()}finally{r&&(t.hash_ids=void 0)}},G.$$arity=0),t.alias(bt,"include?","has_key?"),t.def(bt,"$index",W=function(t){for(var e,n,r=0,i=this.$$keys,s=i.length;r<s;r++)if((e=i[r]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return e;return a},W.$$arity=1),t.def(bt,"$indexes",V=function(e){for(var n,r,i,a=this,s=[],o=0,$=(n=t.slice.call(arguments,0,arguments.length)).length;o<$;o++)r=n[o],void 0!==(i=t.hash_get(a,r))?s.push(i):s.push(a.$default());return s},V.$$arity=-1),t.alias(bt,"indices","indexes"),t.def(bt,"$inspect",X=function(){var t=void 0===vt,e=this.$object_id(),n=[];try{if(t&&(vt={}),vt.hasOwnProperty(e))return"{...}";vt[e]=!0;for(var r,i,a=0,s=this.$$keys,o=s.length;a<o;a++)(r=s[a]).$$is_string?i=this.$$smap[r]:(i=r.value,r=r.key),n.push(r.$inspect()+"=>"+i.$inspect());return"{"+n.join(", ")+"}"}finally{t&&(vt=void 0)}},X.$$arity=0),t.def(bt,"$invert",K=function(){for(var e,n,r=t.hash(),i=0,a=this.$$keys,s=a.length;i<s;i++)(e=a[i]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),t.hash_put(r,n,e);return r},K.$$arity=0),t.def(bt,"$keep_if",J=function(){var e,n=J.$$p,r=n||a;if(n&&(J.$$p=null),n&&(J.$$p=null),!u(r))return $(this,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=0,c=this.$$keys,d=c.length;l<d;l++)(i=c[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a||void 0!==t.hash_delete(this,i)&&(d--,l--);return this},J.$$arity=0),t.alias(bt,"key","index"),t.alias(bt,"key?","has_key?"),t.def(bt,"$keys",Z=function(){for(var t,e=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(t=r[n]).$$is_string?e.push(t):e.push(t.key);return e},Z.$$arity=0),t.def(bt,"$length",Q=function(){return this.$$keys.length},Q.$$arity=0),t.alias(bt,"member?","has_key?"),t.def(bt,"$merge",tt=function(t){var e=tt.$$p,n=e||a;return e&&(tt.$$p=null),e&&(tt.$$p=null),$(this.$dup(),"merge!",[t],n.$to_proc())},tt.$$arity=1),t.def(bt,"$merge!",et=function(e){var n=et.$$p,r=n||a;n&&(et.$$p=null),n&&(et.$$p=null),e.$$is_hash||(e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Hash"),"to_hash"));var i,o,$,l,u=e.$$keys,c=u.length;if(r===a){for(i=0;i<c;i++)(o=u[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(this,o,l);return this}for(i=0;i<c;i++)(o=u[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),void 0!==($=t.hash_get(this,o))?t.hash_put(this,o,r(o,$,l)):t.hash_put(this,o,l);return this},et.$$arity=1),t.def(bt,"$rassoc",nt=function(t){for(var e,n,r=0,i=this.$$keys,s=i.length;r<s;r++)if((e=i[r]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return[e,n];return a},nt.$$arity=1),t.def(bt,"$rehash",rt=function(){return t.hash_rehash(this),this},rt.$$arity=0),t.def(bt,"$reject",it=function(){var e,n=it.$$p,r=n||a;if(n&&(it.$$p=null),n&&(it.$$p=null),!u(r))return $(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=t.hash(),c=0,d=this.$$keys,f=d.length;c<f;c++)(i=d[c]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a||t.hash_put(l,i,s);return l},it.$$arity=0),t.def(bt,"$reject!",at=function(){var e,n=at.$$p,r=n||a;if(n&&(at.$$p=null),n&&(at.$$p=null),!u(r))return $(this,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=!1,c=0,d=this.$$keys,f=d.length;c<f;c++)(i=d[c]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a&&void 0!==t.hash_delete(this,i)&&(l=!0,f--,c--);return l?this:a},at.$$arity=0),t.def(bt,"$replace",st=function(e){var r=a;e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Hash"),"to_hash"),t.hash_init(this);for(var i,o,l=0,c=e.$$keys,d=c.length;l<d;l++)(i=c[l]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),t.hash_put(this,i,o);return u(e.$default_proc())?(r=[e.$default_proc()],$(this,"default_proc=",t.to_a(r)),r[n(r.length,1)]):(r=[e.$default()],$(this,"default=",t.to_a(r)),r[n(r.length,1)]),this},st.$$arity=1),t.def(bt,"$select",ot=function(){var e,n=ot.$$p,r=n||a;if(n&&(ot.$$p=null),n&&(ot.$$p=null),!u(r))return $(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=t.hash(),c=0,d=this.$$keys,f=d.length;c<f;c++)(i=d[c]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a&&t.hash_put(l,i,s);return l},ot.$$arity=0),t.def(bt,"$select!",$t=function(){var e,n=$t.$$p,r=n||a;if(n&&($t.$$p=null),n&&($t.$$p=null),!u(r))return $(this,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=a,c=0,d=this.$$keys,f=d.length;c<f;c++)(i=d[c]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=r(i,s))&&o!==a||(void 0!==t.hash_delete(this,i)&&(f--,c--),l=this);return l},$t.$$arity=0),t.def(bt,"$shift",lt=function(){var e,n=this.$$keys;return n.length>0?[e=(e=n[0]).$$is_string?e:e.key,t.hash_delete(this,e)]:this.$default(a)},lt.$$arity=0),t.alias(bt,"size","length"),t.def(bt,"$slice",ut=function(e){var n,r=this;n=t.slice.call(arguments,0,arguments.length);for(var i=t.hash(),a=0,s=n.length;a<s;a++){var o=n[a],$=t.hash_get(r,o);void 0!==$&&t.hash_put(i,o,$)}return i},ut.$$arity=-1),t.alias(bt,"store","[]="),t.def(bt,"$to_a",ct=function(){for(var t,e,n=[],r=0,i=this.$$keys,a=i.length;r<a;r++)(t=i[r]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},ct.$$arity=0),t.def(bt,"$to_h",dt=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash;return t.hash_init(e),t.hash_clone(this,e),e},dt.$$arity=0),t.def(bt,"$to_hash",ft=function(){return this},ft.$$arity=0),t.def(bt,"$to_proc",_t=function(){var t;return $(this,"proc",[],((t=function(e){var n=t.$$s||this;return null==e&&n.$raise(s(xt,"ArgumentError"),"no key given"),n["$[]"](e)}).$$s=this,t.$$arity=-1,t))},_t.$$arity=0),t.alias(bt,"to_s","inspect"),t.def(bt,"$transform_keys",pt=function(){var e,n=pt.$$p,r=n||a;if(n&&(pt.$$p=null),n&&(pt.$$p=null),!u(r))return $(this,"enum_for",["transform_keys"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=t.hash(),l=0,c=this.$$keys,d=c.length;l<d;l++)(i=c[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),i=t.yield1(r,i),t.hash_put(o,i,s);return o},pt.$$arity=0),t.def(bt,"$transform_keys!",ht=function(){var e,n=ht.$$p,r=n||a;if(n&&(ht.$$p=null),n&&(ht.$$p=null),!u(r))return $(this,"enum_for",["transform_keys!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i,s,o,l,c=t.slice.call(this.$$keys),d=c.length;for(i=0;i<d;i++)(s=c[i]).$$is_string?o=this.$$smap[s]:(o=s.value,s=s.key),l=t.yield1(r,s),t.hash_delete(this,s),t.hash_put(this,l,o);return this},ht.$$arity=0),t.def(bt,"$transform_values",yt=function(){var e,n=yt.$$p,r=n||a;if(n&&(yt.$$p=null),n&&(yt.$$p=null),!u(r))return $(this,"enum_for",["transform_values"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=t.hash(),l=0,c=this.$$keys,d=c.length;l<d;l++)(i=c[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),s=t.yield1(r,s),t.hash_put(o,i,s);return o},yt.$$arity=0),t.def(bt,"$transform_values!",mt=function(){var e,n=mt.$$p,r=n||a;if(n&&(mt.$$p=null),n&&(mt.$$p=null),!u(r))return $(this,"enum_for",["transform_values!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=0,l=this.$$keys,c=l.length;o<c;o++)(i=l[o]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),s=t.yield1(r,s),t.hash_put(this,i,s);return this},mt.$$arity=0),t.alias(bt,"update","merge!"),t.alias(bt,"value?","has_value?"),t.alias(bt,"values_at","indexes"),t.def(bt,"$values",gt=function(){for(var t,e=[],n=0,r=this.$$keys,i=r.length;n<i;n++)(t=r[n]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},gt.$$arity=0),a&&"values"}(i[0],0,i)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var o=t.top,$=[],l=t.nil,u=t.const_get_qualified,c=t.const_get_relative,d=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.send,p=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),o.$require("corelib/numeric"),function(o,$,h){var y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht,yt,mt,gt,vt,bt,xt,wt,kt,At,Et,Ot,St,Rt,Ct,It,Tt,Lt,Mt,Pt=d(o,$,"Number"),Nt=[Pt].concat(h);c(Nt,"Opal").$bridge(Number,Pt),t.defineProperty(Pt.$$prototype,"$$is_number",!0),Pt.$$is_number_class=!0,function(e,n){var r,i=[e].concat(n);t.def(e,"$allocate",r=function(){return this.$raise(c(i,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(Pt),Nt),t.def(Pt,"$coerce",y=function(t){if(t===l)this.$raise(c(Nt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(c(Nt,"TypeError"),"can't convert "+t.$class()+" into Float")}},y.$$arity=1),t.def(Pt,"$__id__",m=function(){return 2*this+1},m.$$arity=0),t.alias(Pt,"object_id","__id__"),t.def(Pt,"$+",g=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},g.$$arity=1),t.def(Pt,"$-",v=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},v.$$arity=1),t.def(Pt,"$*",b=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},b.$$arity=1),t.def(Pt,"$/",x=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},x.$$arity=1),t.alias(Pt,"fdiv","/"),t.def(Pt,"$%",w=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(c(Nt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},w.$$arity=1),t.def(Pt,"$&",k=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},k.$$arity=1),t.def(Pt,"$|",A=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},A.$$arity=1),t.def(Pt,"$^",E=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},E.$$arity=1),t.def(Pt,"$<",O=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},O.$$arity=1),t.def(Pt,"$<=",S=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},S.$$arity=1),t.def(Pt,"$>",R=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},R.$$arity=1),t.def(Pt,"$>=",C=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},C.$$arity=1);t.def(Pt,"$<=>",I=function(e){try{return function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?l:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)}(this,e)}catch(e){if(!t.rescue(e,[c(Nt,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},I.$$arity=1),t.def(Pt,"$<<",T=function(t){return(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int"))>0?this<<t:this>>-t},T.$$arity=1),t.def(Pt,"$>>",L=function(t){return(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int"))>0?this>>t:this<<-t},L.$$arity=1),t.def(Pt,"$[]",M=function(t){return(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1},M.$$arity=1),t.def(Pt,"$+@",P=function(){return+this},P.$$arity=0),t.def(Pt,"$-@",N=function(){return-this},N.$$arity=0),t.def(Pt,"$~",B=function(){return~this},B.$$arity=0),t.def(Pt,"$**",D=function(t){var r,i;return f(c(Nt,"Integer")["$==="](t))?f(f(r=c(Nt,"Integer")["$==="](this)["$!"]())?r:e(t,0))?Math.pow(this,t):c(Nt,"Rational").$new(this,1)["$**"](t):f((r=n(this,0))?f(i=c(Nt,"Float")["$==="](t))?i:c(Nt,"Rational")["$==="](t):n(this,0))?c(Nt,"Complex").$new(this,0)["$**"](t.$to_f()):f(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},D.$$arity=1),t.def(Pt,"$===",z=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},z.$$arity=1),t.def(Pt,"$==",F=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},F.$$arity=1),t.def(Pt,"$abs",j=function(){return Math.abs(this)},j.$$arity=0),t.def(Pt,"$abs2",q=function(){return Math.abs(this*this)},q.$$arity=0),t.def(Pt,"$allbits?",U=function(t){return(this&(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int")))==t},U.$$arity=1),t.def(Pt,"$anybits?",H=function(t){return 0!=(this&(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int")))},H.$$arity=1),t.def(Pt,"$angle",Y=function(){return f(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0},Y.$$arity=0),t.alias(Pt,"arg","angle"),t.alias(Pt,"phase","angle"),t.def(Pt,"$bit_length",G=function(){if(f(c(Nt,"Integer")["$==="](this))||this.$raise(c(Nt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},G.$$arity=0),t.def(Pt,"$ceil",W=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var n=Math.pow(10,t),r=Math.ceil(e*n)/n;return e%1==0&&(r=Math.round(r)),r},W.$$arity=-1),t.def(Pt,"$chr",V=function(t){return String.fromCharCode(this)},V.$$arity=-1),t.def(Pt,"$denominator",X=function(){var e,n=X.$$p,r=this,i=l,a=l,s=l;for(n&&(X.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return f(f(e=r["$nan?"]())?e:r["$infinite?"]())?1:_(r,t.find_super_dispatcher(r,"denominator",X,!1),i,n)},X.$$arity=0),t.def(Pt,"$downto",K=function(t){var n,a=K.$$p,s=a||l;if(a&&(K.$$p=null),a&&(K.$$p=null),s===l)return _(this,"enum_for",["downto",t],((n=function(){var a=n.$$s||this;return f(c(Nt,"Numeric")["$==="](t))||a.$raise(c(Nt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),f(e(t,a))?0:r(i(a,t),1)}).$$s=this,n.$$arity=0,n));t.$$is_number||this.$raise(c(Nt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o>=t;o--)s(o);return this},K.$$arity=1),t.alias(Pt,"eql?","=="),t.def(Pt,"$equal?",J=function(t){var e;return f(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},J.$$arity=1),t.def(Pt,"$even?",Z=function(){return this%2==0},Z.$$arity=0),t.def(Pt,"$floor",Q=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var n=Math.pow(10,t),r=Math.floor(e*n)/n;return e%1==0&&(r=Math.round(r)),r},Q.$$arity=-1),t.def(Pt,"$gcd",tt=function(t){f(c(Nt,"Integer")["$==="](t))||this.$raise(c(Nt,"TypeError"),"not an integer");for(var e=Math.abs(this),n=Math.abs(t);e>0;){var r=e;e=n%e,n=r}return n},tt.$$arity=1),t.def(Pt,"$gcdlcm",et=function(t){return[this.$gcd(),this.$lcm()]},et.$$arity=1),t.def(Pt,"$integer?",nt=function(){return this%1==0},nt.$$arity=0),t.def(Pt,"$is_a?",rt=function(e){var n=rt.$$p,r=this,i=l,a=l,s=l;for(n&&(rt.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return!!f(e["$=="](c(Nt,"Integer"))?c(Nt,"Integer")["$==="](r):e["$=="](c(Nt,"Integer")))||(!!f(e["$=="](c(Nt,"Integer"))?c(Nt,"Integer")["$==="](r):e["$=="](c(Nt,"Integer")))||(!!f(e["$=="](c(Nt,"Float"))?c(Nt,"Float")["$==="](r):e["$=="](c(Nt,"Float")))||_(r,t.find_super_dispatcher(r,"is_a?",rt,!1),i,n)))},rt.$$arity=1),t.alias(Pt,"kind_of?","is_a?"),t.def(Pt,"$instance_of?",it=function(e){var n=it.$$p,r=this,i=l,a=l,s=l;for(n&&(it.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return!!f(e["$=="](c(Nt,"Integer"))?c(Nt,"Integer")["$==="](r):e["$=="](c(Nt,"Integer")))||(!!f(e["$=="](c(Nt,"Integer"))?c(Nt,"Integer")["$==="](r):e["$=="](c(Nt,"Integer")))||(!!f(e["$=="](c(Nt,"Float"))?c(Nt,"Float")["$==="](r):e["$=="](c(Nt,"Float")))||_(r,t.find_super_dispatcher(r,"instance_of?",it,!1),i,n)))},it.$$arity=1),t.def(Pt,"$lcm",at=function(t){return f(c(Nt,"Integer")["$==="](t))||this.$raise(c(Nt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},at.$$arity=1),t.alias(Pt,"magnitude","abs"),t.alias(Pt,"modulo","%"),t.def(Pt,"$next",st=function(){return this+1},st.$$arity=0),t.def(Pt,"$nobits?",ot=function(t){return 0==(this&(t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int")))},ot.$$arity=1),t.def(Pt,"$nonzero?",$t=function(){return 0==this?l:this},$t.$$arity=0),t.def(Pt,"$numerator",lt=function(){var e,n=lt.$$p,r=this,i=l,a=l,s=l;for(n&&(lt.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return f(f(e=r["$nan?"]())?e:r["$infinite?"]())?r:_(r,t.find_super_dispatcher(r,"numerator",lt,!1),i,n)},lt.$$arity=0),t.def(Pt,"$odd?",ut=function(){return this%2!=0},ut.$$arity=0),t.def(Pt,"$ord",ct=function(){return this},ct.$$arity=0),t.def(Pt,"$pow",dt=function(t,e){return 0==this&&this.$raise(c(Nt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(c(Nt,"Integer")["$==="](t)||this.$raise(c(Nt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(c(Nt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),c(Nt,"Integer")["$==="](e)||this.$raise(c(Nt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(c(Nt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},dt.$$arity=-2),t.def(Pt,"$pred",ft=function(){return this-1},ft.$$arity=0),t.def(Pt,"$quo",_t=function(e){var n=_t.$$p,r=this,i=l,s=l,o=l;for(n&&(_t.$$p=null),s=0,o=arguments.length,i=new Array(o);s<o;s++)i[s]=arguments[s];return f(c(Nt,"Integer")["$==="](r))?_(r,t.find_super_dispatcher(r,"quo",_t,!1),i,n):a(r,e)},_t.$$arity=1),t.def(Pt,"$rationalize",pt=function(e){var n,r,a=this,o=l,$=l;return arguments.length>1&&a.$raise(c(Nt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f(c(Nt,"Integer")["$==="](a))?c(Nt,"Rational").$new(a,1):f(a["$infinite?"]())?a.$raise(c(Nt,"FloatDomainError"),"Infinity"):f(a["$nan?"]())?a.$raise(c(Nt,"FloatDomainError"),"NaN"):f(null==e)?(r=c(Nt,"Math").$frexp(a),o=null==(n=t.to_ary(r))[0]?l:n[0],$=null==n[1]?l:n[1],o=c(Nt,"Math").$ldexp(o,u(c(Nt,"Float"),"MANT_DIG")).$to_i(),$=i($,u(c(Nt,"Float"),"MANT_DIG")),c(Nt,"Rational").$new(s(2,o),1["$<<"](i(1,$))).$rationalize(c(Nt,"Rational").$new(1,1["$<<"](i(1,$))))):a.$to_r().$rationalize(e)},pt.$$arity=-1),t.def(Pt,"$remainder",ht=function(t){return i(this,s(t,a(this,t).$truncate()))},ht.$$arity=1),t.def(Pt,"$round",yt=function(s){var o,$,d,_,p=l;if(f(c(Nt,"Integer")["$==="](this))){if(f(null==s))return this;if(f(f(o=c(Nt,"Float")["$==="](s))?s["$infinite?"]():o)&&this.$raise(c(Nt,"RangeError"),"Infinity"),s=c(Nt,"Opal")["$coerce_to!"](s,c(Nt,"Integer"),"to_int"),f(n(s,u(c(Nt,"Integer"),"MIN")))&&this.$raise(c(Nt,"RangeError"),"out of bounds"),f(s>=0))return this;if(.415241*(s=s["$-@"]())-.125>this.$size())return 0;var h=Math.pow(10,s),y=Math.floor((Math.abs(y)+h/2)/h)*h;return this<0?-y:y}if(f(f(o=this["$nan?"]())?null==s:o)&&this.$raise(c(Nt,"FloatDomainError"),"NaN"),s=c(Nt,"Opal")["$coerce_to!"](s||0,c(Nt,"Integer"),"to_int"),f((_=0,"number"==typeof(d=s)&&"number"==typeof _?d<=_:d["$<="](_))))f(this["$nan?"]())?this.$raise(c(Nt,"RangeError"),"NaN"):f(this["$infinite?"]())&&this.$raise(c(Nt,"FloatDomainError"),"Infinity");else{if(s["$=="](0))return Math.round(this);if(f(f(o=this["$nan?"]())?o:this["$infinite?"]()))return this}return $=c(Nt,"Math").$frexp(this),null==(o=t.to_ary($))[0]?l:o[0],p=null==o[1]?l:o[1],f(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(s,i(r(u(c(Nt,"Float"),"DIG"),2),f(e(p,0))?a(p,4):i(a(p,3),1))))?this:f(n(s,(f(e(p,0))?r(a(p,3),1):a(p,4))["$-@"]()))?0:Math.round(this*Math.pow(10,s))/Math.pow(10,s)},yt.$$arity=-1),t.def(Pt,"$step",mt=function(e,n,r){var i,a,s,o,$,d,f,h=mt.$$p,y=h||l,m=this,g=l,v=l;if(h&&(mt.$$p=null),h&&(mt.$$p=null),i=t.slice.call(arguments,0,arguments.length),null==(a=t.extract_kwargs(i)))a=p([],{});else if(!a.$$is_hash)throw t.ArgumentError.$new("expected kwargs");function b(){void 0!==$&&(s=$),void 0===s&&(s=l),o===l&&m.$raise(c(Nt,"TypeError"),"step must be numeric"),0===o&&m.$raise(c(Nt,"ArgumentError"),"step can't be 0"),void 0!==d&&(o=d),o!==l&&null!=o||(o=1);var t=o["$<=>"](0);t===l&&m.$raise(c(Nt,"ArgumentError"),"0 can't be coerced into "+o.$class()),s!==l&&null!=s||(s=t>0?u(c(Nt,"Float"),"INFINITY"):u(c(Nt,"Float"),"INFINITY")["$-@"]()),c(Nt,"Opal").$compare(m,s)}function x(){if(o>0&&m>s||o<0&&m<s)return 0;if(o===1/0||o===-1/0)return 1;var t=Math.abs,e=Math.floor,n=(t(m)+t(s)+t(s-m))/t(o)*u(c(Nt,"Float"),"EPSILON");return n===1/0||n===-1/0?0:(n>.5&&(n=.5),e((s-m)/o+n)+1)}function w(){if(b(),0===o)return 1/0;if(o%1!=0)return x();if(o>0&&m>s||o<0&&m<s)return 0;var t=Math.ceil,e=Math.abs;return t((e(m-s)+1)/e(o))}if(i.length>0&&(s=i[0],i.splice(0,1)),i.length>0&&(o=i[0],i.splice(0,1)),$=a.$$smap.to,d=a.$$smap.by,void 0!==s&&void 0!==$&&m.$raise(c(Nt,"ArgumentError"),"to is given twice"),void 0!==o&&void 0!==d&&m.$raise(c(Nt,"ArgumentError"),"step is given twice"),y===l)return g=[],v=p([],{}),void 0!==s&&g.push(s),void 0!==o&&g.push(o),void 0!==$&&t.hash_put(v,"to",$),void 0!==d&&t.hash_put(v,"by",d),v["$any?"]()&&g.push(v),_(m,"enum_for",["step"].concat(t.to_a(g)),((f=function(){f.$$s;return w()}).$$s=m,f.$$arity=0,f));if(b(),0===o)for(;;)y(m);if(m%1!=0||s%1!=0||o%1!=0){var k=x();if(k>0)if(o===1/0||o===-1/0)y(m);else{var A,E=0;if(o>0)for(;E<k;)s<(A=E*o+m)&&(A=s),y(A),E+=1;else for(;E<k;)s>(A=E*o+m)&&(A=s),y(A),E+=1}}else{var O=m;if(o>0)for(;O<=s;)y(O),O+=o;else for(;O>=s;)y(O),O+=o}return m},mt.$$arity=-1),t.alias(Pt,"succ","next"),t.def(Pt,"$times",gt=function(){var t,e=gt.$$p,n=e||l;if(e&&(gt.$$p=null),e&&(gt.$$p=null),!f(n))return _(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var r=0;r<this;r++)n(r);return this},gt.$$arity=0),t.def(Pt,"$to_f",vt=function(){return this},vt.$$arity=0),t.def(Pt,"$to_i",bt=function(){return parseInt(this,10)},bt.$$arity=0),t.alias(Pt,"to_int","to_i"),t.def(Pt,"$to_r",xt=function(){var e,n,r=l,a=l;return f(c(Nt,"Integer")["$==="](this))?c(Nt,"Rational").$new(this,1):(n=c(Nt,"Math").$frexp(this),r=null==(e=t.to_ary(n))[0]?l:e[0],a=null==e[1]?l:e[1],r=c(Nt,"Math").$ldexp(r,u(c(Nt,"Float"),"MANT_DIG")).$to_i(),a=i(a,u(c(Nt,"Float"),"MANT_DIG")),s(r,u(c(Nt,"Float"),"RADIX")["$**"](a)).$to_r())},xt.$$arity=0),t.def(Pt,"$to_s",wt=function(t){var r;return null==t&&(t=10),t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int"),f(f(r=n(t,2))?r:e(t,36))&&this.$raise(c(Nt,"ArgumentError"),"invalid radix "+t),this.toString(t)},wt.$$arity=-1),t.def(Pt,"$truncate",kt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var n=Math.pow(10,t),r=parseInt(e*n,10)/n;return e%1==0&&(r=Math.round(r)),r},kt.$$arity=-1),t.alias(Pt,"inspect","to_s"),t.def(Pt,"$digits",At=function(t){null==t&&(t=10),n(this,0)&&this.$raise(u(c(Nt,"Math"),"DomainError"),"out of domain"),t=c(Nt,"Opal")["$coerce_to!"](t,c(Nt,"Integer"),"to_int"),f(n(t,2))&&this.$raise(c(Nt,"ArgumentError"),"invalid radix "+t);for(var e=this,r=[];0!==e;)r.push(e%t),e=parseInt(e/t,10);return r},At.$$arity=-1),t.def(Pt,"$divmod",Et=function(e){var n,r=Et.$$p,i=this,a=l,s=l,o=l;for(r&&(Et.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return f(f(n=i["$nan?"]())?n:e["$nan?"]())?i.$raise(c(Nt,"FloatDomainError"),"NaN"):f(i["$infinite?"]())?i.$raise(c(Nt,"FloatDomainError"),"Infinity"):_(i,t.find_super_dispatcher(i,"divmod",Et,!1),a,r)},Et.$$arity=1),t.def(Pt,"$upto",Ot=function(t){var e,a=Ot.$$p,s=a||l;if(a&&(Ot.$$p=null),a&&(Ot.$$p=null),s===l)return _(this,"enum_for",["upto",t],((e=function(){var a=e.$$s||this;return f(c(Nt,"Numeric")["$==="](t))||a.$raise(c(Nt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),f(n(t,a))?0:r(i(t,a),1)}).$$s=this,e.$$arity=0,e));t.$$is_number||this.$raise(c(Nt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o<=t;o++)s(o);return this},Ot.$$arity=1),t.def(Pt,"$zero?",St=function(){return 0==this},St.$$arity=0),t.def(Pt,"$size",Rt=function(){return 4},Rt.$$arity=0),t.def(Pt,"$nan?",Ct=function(){return isNaN(this)},Ct.$$arity=0),t.def(Pt,"$finite?",It=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},It.$$arity=0),t.def(Pt,"$infinite?",Tt=function(){return this==1/0?1:this==-1/0?-1:l},Tt.$$arity=0),t.def(Pt,"$positive?",Lt=function(){return 0!=this&&(this==1/0||1/this>0)},Lt.$$arity=0),t.def(Pt,"$negative?",Mt=function(){return this==-1/0||1/this<0},Mt.$$arity=0)}($[0],c($,"Numeric"),$),t.const_set($[0],"Fixnum",c($,"Number")),function(e,n,r){var i=d(e,n,"Integer"),a=[i].concat(r);i.$$is_number_class=!0,function(e,n){var r,i,a,s=[e].concat(n);t.def(e,"$allocate",r=function(){return this.$raise(c(s,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1==0},i.$$arity=1),t.def(e,"$sqrt",a=function(t){return(t=c(s,"Opal")["$coerce_to!"](t,c(s,"Integer"),"to_int"))<0&&this.$raise(u(c(s,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},a.$$arity=1)}(t.get_singleton_class(i),a),t.const_set(a[0],"MAX",Math.pow(2,30)-1),t.const_set(a[0],"MIN",-Math.pow(2,30))}($[0],c($,"Numeric"),$),function(e,n,r){var i=d(e,n,"Float"),a=[i].concat(r);return i.$$is_number_class=!0,function(e,n){var r,i,a=[e].concat(n);t.def(e,"$allocate",r=function(){return this.$raise(c(a,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1)}(t.get_singleton_class(i),a),t.const_set(a[0],"INFINITY",1/0),t.const_set(a[0],"MAX",Number.MAX_VALUE),t.const_set(a[0],"MIN",Number.MIN_VALUE),t.const_set(a[0],"NAN",NaN),t.const_set(a[0],"DIG",15),t.const_set(a[0],"MANT_DIG",53),t.const_set(a[0],"RADIX",2),t.const_set(a[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}($[0],c($,"Numeric"),$)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.klass),c=t.truthy,d=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),a.$require("corelib/enumerable"),function(a,s,f){var _,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T=u(a,null,"Range"),L=[T].concat(f);return T.$$prototype.begin=T.$$prototype.end=T.$$prototype.excl=o,T.$include(l(L,"Enumerable")),T.$$prototype.$$is_range=!0,T.$attr_reader("begin","end"),t.def(T,"$initialize",_=function(t,e,n){return null==n&&(n=!1),c(this.begin)&&this.$raise(l(L,"NameError"),"'initialize' called twice"),c(t["$<=>"](e))||this.$raise(l(L,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=n},_.$$arity=-3),t.def(T,"$==",p=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},p.$$arity=1),t.def(T,"$===",h=function(t){return this["$include?"](t)},h.$$arity=1),t.def(T,"$cover?",y=function(t){var r,i,a;return i=this.begin["$<=>"](t),!!c(c(r=i)?e(i,0):r)&&(a=t["$<=>"](this.end),c(this.excl)?c(r=a)?n(a,0):r:c(r=a)?e(a,0):r)},y.$$arity=1),t.def(T,"$each",m=function(){var e,r,i,a,s=m.$$p,$=s||o,u=this,f=o;if(s&&(m.$$p=null),s&&(m.$$p=null),$===o)return u.$enum_for("each");if(u.begin.$$is_number&&u.end.$$is_number){for(u.begin%1==0&&u.end%1==0||u.$raise(l(L,"TypeError"),"can't iterate from Float"),i=u.begin,a=u.end+(c(u.excl)?0:1);i<a;i++)$(i);return u}if(u.begin.$$is_string&&u.end.$$is_string)return d(u.begin,"upto",[u.end,u.excl],$.$to_proc()),u;for(f=u.begin,r=u.end,c(f["$respond_to?"]("succ"))||u.$raise(l(L,"TypeError"),"can't iterate from "+f.$class());c(n(f["$<=>"](r),0));)t.yield1($,f),f=f.$succ();return c(c(e=u.excl["$!"]())?f["$=="](r):e)&&t.yield1($,f),u},m.$$arity=0),t.def(T,"$eql?",g=function(t){var e,n;return!!c(l(L,"Range")["$==="](t))&&(c(e=c(n=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):n)?this.end["$eql?"](t.$end()):e)},g.$$arity=1),t.def(T,"$exclude_end?",v=function(){return this.excl},v.$$arity=0),t.def(T,"$first",b=function(e){var n=b.$$p,r=this,i=o,a=o,s=o;for(n&&(b.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return c(null==e)?r.begin:d(r,t.find_super_dispatcher(r,"first",b,!1),i,n)},b.$$arity=-1),t.alias(T,"include?","cover?"),t.def(T,"$last",x=function(t){return c(null==t)?this.end:this.$to_a().$last(t)},x.$$arity=-1),t.def(T,"$max",w=function(){var e,n=w.$$p,i=n||o,a=this,s=o,$=o,l=o;for(n&&(w.$$p=null),$=0,l=arguments.length,s=new Array(l);$<l;$++)s[$]=arguments[$];return i!==o?d(a,t.find_super_dispatcher(a,"max",w,!1),s,n):c(r(a.begin,a.end))||c(c(e=a.excl)?a.begin["$=="](a.end):e)?o:a.excl?a.end-1:a.end},w.$$arity=0),t.alias(T,"member?","cover?"),t.def(T,"$min",k=function(){var e,n=k.$$p,i=n||o,a=this,s=o,$=o,l=o;for(n&&(k.$$p=null),$=0,l=arguments.length,s=new Array(l);$<l;$++)s[$]=arguments[$];return i!==o?d(a,t.find_super_dispatcher(a,"min",k,!1),s,n):c(r(a.begin,a.end))||c(c(e=a.excl)?a.begin["$=="](a.end):e)?o:a.begin},k.$$arity=0),t.def(T,"$size",A=function(){var t,e,r,i,a=o,s=o;return a=this.begin,s=this.end,c(this.excl)&&(i=1,s="number"==typeof(r=s)&&"number"==typeof i?r-i:r["$-"](i)),c(c(t=l(L,"Numeric")["$==="](a))?l(L,"Numeric")["$==="](s):t)?c(n(s,a))?0:(e=$(l(L,"Float"),"INFINITY"),c([a.$abs(),s.$abs()]["$include?"](e))?e:(Math.abs(s-a)+1).$to_i()):o},A.$$arity=0),t.def(T,"$step",E=function(e){var n,a,s,u=E.$$p,f=u||o,_=this,p=o;function h(){e.$$is_number||(e=l(L,"Opal")["$coerce_to!"](e,l(L,"Integer"),"to_int")),e<0?_.$raise(l(L,"ArgumentError"),"step can't be negative"):0===e&&_.$raise(l(L,"ArgumentError"),"step can't be 0")}function y(){if(!_.begin["$respond_to?"]("succ"))return o;if(_.begin.$$is_string&&_.end.$$is_string)return o;if(e%1==0)return(n=_.$size(),r=e,"number"==typeof n&&"number"==typeof r?n/r:n["$/"](r)).$ceil();var t,n,r,i=_.begin,a=_.end,s=Math.abs,u=Math.floor,c=(s(i)+s(a)+s(a-i))/s(e)*$(l(L,"Float"),"EPSILON");return c>.5&&(c=.5),_.excl?(t=u((a-i)/e-c))*e+i<a&&t++:t=u((a-i)/e+c)+1,t}return u&&(E.$$p=null),null==e&&(e=1),f===o?d(_,"enum_for",["step",e],((n=function(){n.$$s;return h(),y()}).$$s=_,n.$$arity=0,n)):(h(),c(_.begin.$$is_number&&_.end.$$is_number)?(p=0,function(){var n=t.new_brk();try{d(_,"loop",[],((a=function(){var s,$,l,u=a.$$s||this;return null==u.begin&&(u.begin=o),null==u.excl&&(u.excl=o),null==u.end&&(u.end=o),s=i(u.begin,(l=e,"number"==typeof($=p)&&"number"==typeof l?$*l:$["$*"](l))),c(u.excl)?c(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(s,u.end))&&t.brk(o,n):c(r(s,u.end))&&t.brk(o,n),t.yield1(f,s),p=i(p,1)}).$$s=_,a.$$brk=n,a.$$arity=0,a))}catch(t){if(t===n)return t.$v;throw t}}()):(_.begin.$$is_string&&_.end.$$is_string&&e%1!=0&&_.$raise(l(L,"TypeError"),"no implicit conversion to float from string"),d(_,"each_with_index",[],((s=function(n,r){s.$$s;return null==n&&(n=o),null==r&&(r=o),r["$%"](e)["$=="](0)?t.yield1(f,n):o}).$$s=_,s.$$arity=2,s))),_)},E.$$arity=-1),t.def(T,"$bsearch",O=function(){var t=O.$$p,e=t||o;return t&&(O.$$p=null),t&&(O.$$p=null),e===o?this.$enum_for("bsearch"):(c(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(l(L,"TypeError"),"can't do binary search for "+this.begin.$class()),d(this.$to_a(),"bsearch",[],e.$to_proc()))},O.$$arity=0),t.def(T,"$to_s",S=function(){var t=this;return t.begin+(c(t.excl)?"...":"..")+t.end},S.$$arity=0),t.def(T,"$inspect",R=function(){var t=this;return t.begin.$inspect()+(c(t.excl)?"...":"..")+t.end.$inspect()},R.$$arity=0),t.def(T,"$marshal_load",C=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},C.$$arity=1),t.def(T,"$hash",I=function(){return[this.begin,this.end,this.excl].$hash()},I.$$arity=0),o&&"hash"}(s[0],0,s)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),a=t.klass,s=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,$){var l,u,c,d,f,_,p,h,y,m,g=a(e,Function,"Proc"),v=[g].concat($);return t.defineProperty(g.$$prototype,"$$is_proc",!0),t.defineProperty(g.$$prototype,"$$is_lambda",!1),t.defs(g,"$new",l=function(){var t=l.$$p,e=t||n;return t&&(l.$$p=null),t&&(l.$$p=null),s(e)||this.$raise(r(v,"ArgumentError"),"tried to create a Proc object without a block"),e},l.$$arity=0),t.def(g,"$call",u=function(e){var r,i=u.$$p,a=i||n,s=this;i&&(u.$$p=null),i&&(u.$$p=null),r=t.slice.call(arguments,0,arguments.length),a!==n&&(s.$$p=a);var o,$=s.$$brk;if($)try{o=s.$$is_lambda?s.apply(null,r):t.yieldX(s,r)}catch(t){if(t===$)return $.$v;throw t}else o=s.$$is_lambda?s.apply(null,r):t.yieldX(s,r);return o},u.$$arity=-1),t.alias(g,"[]","call"),t.alias(g,"===","call"),t.alias(g,"yield","call"),t.def(g,"$to_proc",c=function(){return this},c.$$arity=0),t.def(g,"$lambda?",d=function(){return!!this.$$is_lambda},d.$$arity=0),t.def(g,"$arity",f=function(){return this.$$is_curried?-1:this.$$arity},f.$$arity=0),t.def(g,"$source_location",_=function(){return this.$$is_curried,n},_.$$arity=0),t.def(g,"$binding",p=function(){return this.$$is_curried&&this.$raise(r(v,"ArgumentError"),"Can't create Binding"),n},p.$$arity=0),t.def(g,"$parameters",h=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,n=[];for(t=0,e=this.$$parameters.length;t<e;t++){var r=this.$$parameters[t];"req"===r[0]&&(r=["opt",r[1]]),n.push(r)}return n}return[]},h.$$arity=0),t.def(g,"$curry",y=function(t){var e=this;function n(){var a,s=i.call(arguments),o=s.length;return o>t&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(r(v,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?e.$call.apply(e,s):((a=function(){return n.apply(null,s.concat(i.call(arguments)))}).$$is_lambda=e.$$is_lambda,a.$$is_curried=!0,a)}return void 0===t?t=e.length:(t=r(v,"Opal")["$coerce_to!"](t,r(v,"Integer"),"to_int"),e.$$is_lambda&&t!==e.length&&e.$raise(r(v,"ArgumentError"),"wrong number of arguments ("+t+" for "+e.length+")")),n.$$is_lambda=e.$$is_lambda,n.$$is_curried=!0,n},y.$$arity=-1),t.def(g,"$dup",m=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(e[n]=this[n]);return e},m.$$arity=0),t.alias(g,"clone","dup")}(e[0],0,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,s,o){var $,l,u,c,d,f,_,p,h,y=i(e,null,"Method"),m=[y].concat(o);y.$$prototype.method=y.$$prototype.receiver=y.$$prototype.owner=y.$$prototype.name=n,y.$attr_reader("owner","receiver","name"),t.def(y,"$initialize",$=function(t,e,n,r){return this.receiver=t,this.owner=e,this.name=r,this.method=n},$.$$arity=4),t.def(y,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(y,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0),t.def(y,"$source_location",c=function(){var t;return a(t=this.method.$$source_location)?t:["(eval)",0]},c.$$arity=0),t.def(y,"$comments",d=function(){var t;return a(t=this.method.$$comments)?t:[]},d.$$arity=0),t.def(y,"$call",f=function(e){var r,i=f.$$p,a=i||n,s=this;return i&&(f.$$p=null),i&&(f.$$p=null),r=t.slice.call(arguments,0,arguments.length),s.method.$$p=a,s.method.apply(s.receiver,r)},f.$$arity=-1),t.alias(y,"[]","call"),t.def(y,"$unbind",_=function(){return r(m,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},_.$$arity=0),t.def(y,"$to_proc",p=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t.$$arity=this.method.$$arity,t.$$parameters=this.method.$$parameters,t},p.$$arity=0),t.def(y,"$inspect",h=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},h.$$arity=0)}(e[0],0,e),function(e,s,o){var $,l,u,c,d,f,_,p=i(e,null,"UnboundMethod"),h=[p].concat(o);return p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=n,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",$=function(t,e,n,r){return this.source=t,this.owner=e,this.method=n,this.name=r},$.$$arity=4),t.def(p,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(p,"$parameters",u=function(){return this.method.$$parameters},u.$$arity=0),t.def(p,"$source_location",c=function(){var t;return a(t=this.method.$$source_location)?t:["(eval)",0]},c.$$arity=0),t.def(p,"$comments",d=function(){var t;return a(t=this.method.$$comments)?t:[]},d.$$arity=0),t.def(p,"$bind",f=function(e){if(this.owner.$$is_module||t.is_a(e,this.owner))return r(h,"Method").$new(e,this.owner,this.method,this.name);this.$raise(r(h,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},f.$$arity=1),t.def(p,"$inspect",_=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},_.$$arity=0),n&&"inspect"}(e[0],0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),a=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=n,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=n,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",r(e,"Object").$new()),t.const_set(e[0],"ENV",a([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,a){var s=[i(e,"Opal")].concat(a);t.const_set(s[0],"REGEXP_START",r(s,"RUBY_ENGINE")["$=="]("opal")?"^":n),t.const_set(s[0],"REGEXP_END",r(s,"RUBY_ENGINE")["$=="]("opal")?"$":n),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",r(s,"Regexp").$new("[^"+r(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+r(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",r(s,"Regexp").$new(r(s,"REGEXP_START")+"(::)?[A-Z][^"+r(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+r(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(t){var e,n,r,i,a,s=t.top,o=[],$=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.klass),d=t.hash2,f=t.truthy,_=t.send;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),s.$require("corelib/string"),function(e,n,r){var i,a,s,o,l,p,h,y,m,g,v=c(e,null,"Encoding"),b=[v].concat(r);v.$$prototype.ascii=v.$$prototype.dummy=v.$$prototype.name=$,t.defineProperty(v,"$$register",{}),t.defs(v,"$register",i=function(t,e){var n,r,a,s,o,l=i.$$p,c=l||$,p=$,h=$;return l&&(i.$$p=null),l&&(i.$$p=null),null==e&&(e=d([],{})),s=[t],o=f(n=e["$[]"]("aliases"))?n:[],p="number"==typeof s&&"number"==typeof o?s+o:s["$+"](o),a=_(u(b,"Class"),"new",[this],c.$to_proc()).$new(t,p,!!f(n=e["$[]"]("ascii"))&&n,!!f(n=e["$[]"]("dummy"))&&n),h=this.$$register,_(p,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=$),e.$const_set(t.$sub("-","_"),a),h["$$"+t]=a}).$$s=this,r.$$arity=1,r))},i.$$arity=-2),t.defs(v,"$find",a=function(t){var e,n,r;return t["$=="]("default_external")?this.$default_external():(n=this.$$register,r=f(e=n["$$"+t])?e:n["$$"+t.$upcase()],f(r)||this.$raise(u(b,"ArgumentError"),"unknown encoding name - "+t),r)},a.$$arity=1),function(t,e){[t].concat(e);t.$attr_accessor("default_external")}(t.get_singleton_class(v),b),v.$attr_reader("name","names"),t.def(v,"$initialize",s=function(t,e,n,r){return this.name=t,this.names=e,this.ascii=n,this.dummy=r},s.$$arity=4),t.def(v,"$ascii_compatible?",o=function(){return this.ascii},o.$$arity=0),t.def(v,"$dummy?",l=function(){return this.dummy},l.$$arity=0),t.def(v,"$to_s",p=function(){return this.name},p.$$arity=0),t.def(v,"$inspect",h=function(){var t=this;return"#<Encoding:"+t.name+(f(t.dummy)?" (dummy)":$)+">"},h.$$arity=0),t.def(v,"$each_byte",y=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(u(b,"NotImplementedError"))},y.$$arity=-1),t.def(v,"$getbyte",m=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(u(b,"NotImplementedError"))},m.$$arity=-1),t.def(v,"$bytesize",g=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(u(b,"NotImplementedError"))},g.$$arity=-1),function(t,e,n){[c(t,e,"EncodingError")].concat(n)}(b[0],u(b,"StandardError"),b),function(t,e,n){[c(t,e,"CompatibilityError")].concat(n)}(b[0],u(b,"EncodingError"),b)}(o[0],0,o),_(u(o,"Encoding"),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((e=function(){var n,r,i=e.$$s||this;return t.def(i,"$each_byte",n=function(e){var r=n.$$p,i=r||$;r&&(n.$$p=null),r&&(n.$$p=null);for(var a=0,s=e.length;a<s;a++){var o=e.charCodeAt(a);if(o<=127)t.yield1(i,o);else for(var l=encodeURIComponent(e.charAt(a)).substr(1).split("%"),u=0,c=l.length;u<c;u++)t.yield1(i,parseInt(l[u],16))}},n.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),$&&"bytesize"}).$$s=s,e.$$arity=0,e)),_(u(o,"Encoding"),"register",["UTF-16LE"],((n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||$;r&&(e.$$p=null),r&&(e.$$p=null);for(var a=0,s=n.length;a<s;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),$&&"bytesize"}).$$s=s,n.$$arity=0,n)),_(u(o,"Encoding"),"register",["UTF-16BE"],((r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(n){var r=e.$$p,i=r||$;r&&(e.$$p=null),r&&(e.$$p=null);for(var a=0,s=n.length;a<s;a++){var o=n.charCodeAt(a);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),$&&"bytesize"}).$$s=s,r.$$arity=0,r)),_(u(o,"Encoding"),"register",["UTF-32LE"],((i=function(){var e,n,r=i.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||$;r&&(e.$$p=null),r&&(e.$$p=null);for(var a=0,s=n.length;a<s;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),$&&"bytesize"}).$$s=s,i.$$arity=0,i)),_(u(o,"Encoding"),"register",["ASCII-8BIT",d(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],((a=function(){var e,n,r=a.$$s||this;return t.def(r,"$each_byte",e=function(n){var r=e.$$p,i=r||$;r&&(e.$$p=null),r&&(e.$$p=null);for(var a=0,s=n.length;a<s;a++){var o=n.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(r,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),$&&"bytesize"}).$$s=s,a.$$arity=0,a)),function(e,n,r){var i,a,s,o,d,f,p,h=c(e,null,"String"),y=[h].concat(r);return h.$$prototype.encoding=$,h.$attr_reader("encoding"),t.defineProperty(String.prototype,"encoding",l(u(y,"Encoding"),"UTF_16LE")),t.def(h,"$bytes",i=function(){return this.$each_byte().$to_a()},i.$$arity=0),t.def(h,"$bytesize",a=function(){return this.encoding.$bytesize(this)},a.$$arity=0),t.def(h,"$each_byte",s=function(){var t=s.$$p,e=t||$;return t&&(s.$$p=null),t&&(s.$$p=null),e===$?this.$enum_for("each_byte"):(_(this.encoding,"each_byte",[this],e.$to_proc()),this)},s.$$arity=0),t.def(h,"$encode",o=function(t){return this.$dup().$force_encoding(t)},o.$$arity=1),t.def(h,"$force_encoding",d=function(t){return t===this.encoding?this:(t=u(y,"Opal")["$coerce_to!"](t,u(y,"String"),"to_s"),(t=u(y,"Encoding").$find(t))===this.encoding||(this.encoding=t),this)},d.$$arity=1),t.def(h,"$getbyte",f=function(t){return this.encoding.$getbyte(this,t)},f.$$arity=1),t.def(h,"$valid_encoding?",p=function(){return!0},p.$$arity=0),$&&"valid_encoding?"}(o[0],0,o)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=t.top,o=[],$=t.nil,l=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),c=t.hash2,d=t.truthy,f=t.send;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),s.$require("corelib/enumerable"),function(s,o,_){var p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M=u(s,null,"Struct"),P=[M].concat(_);return M.$include(l(P,"Enumerable")),t.defs(M,"$new",p=function(e,n,r){var i,a,s,o,u,_,h=p.$$p,y=h||$,m=this,g=$;if(h&&(p.$$p=null),h&&(p.$$p=null),i=t.slice.call(arguments,1,arguments.length),null==(a=t.extract_kwargs(i)))a=c([],{});else if(!a.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(s=i,null==(o=a.$$smap.keyword_init)&&(o=!1),d(e))try{e=l(P,"Opal")["$const_name!"](e)}catch(n){if(!t.rescue(n,[l(P,"TypeError"),l(P,"NameError")]))throw n;try{s.$unshift(e),e=$}finally{t.pop_exception()}}return f(s,"map",[],((u=function(t){u.$$s;return null==t&&(t=$),l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str")}).$$s=m,u.$$arity=1,u)),g=f(l(P,"Class"),"new",[m],((_=function(){var e,n=_.$$s||this;return f(s,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=$),n.$define_struct_attribute(t)}).$$s=n,e.$$arity=1,e)),function(e,n){var r;[e].concat(n);return t.def(e,"$new",r=function(e){var n,r=this,i=$;return n=t.slice.call(arguments,0,arguments.length),(i=r.$allocate()).$$data={},f(i,"initialize",t.to_a(n)),i},r.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(n),P)}).$$s=m,_.$$arity=0,_)),d(y)&&f(g,"module_eval",[],y.$to_proc()),g.$$keyword_init=o,d(e)&&l(P,"Struct").$const_set(e,g),g},p.$$arity=-2),t.defs(M,"$define_struct_attribute",h=function(t){var e,n;return this["$=="](l(P,"Struct"))&&this.$raise(l(P,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),f(this,"define_method",[t],((e=function(){return(e.$$s||this).$$data[t]}).$$s=this,e.$$arity=0,e)),f(this,"define_method",[t+"="],((n=function(e){var r=n.$$s||this;return null==e&&(e=$),r.$$data[t]=e}).$$s=this,n.$$arity=1,n))},h.$$arity=1),t.defs(M,"$members",y=function(){var t;return null==this.members&&(this.members=$),this["$=="](l(P,"Struct"))&&this.$raise(l(P,"ArgumentError"),"the Struct class has no members"),this.members=d(t=this.members)?t:[]},y.$$arity=0),t.defs(M,"$inherited",m=function(t){var e,n;return null==this.members&&(this.members=$),n=this.members,f(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=n}).$$s=this,e.$$arity=0,e))},m.$$arity=1),t.def(M,"$initialize",g=function(r){var i,a,s,o,u,_=this,p=$,h=$;return i=t.slice.call(arguments,0,arguments.length),a=i,d(_.$class().$$keyword_init)?(p=d(s=a.$last())?s:c([],{}),d(d(s=e(a.$length(),1))?s:1===a.length&&!p.$$is_hash)&&_.$raise(l(P,"ArgumentError"),"wrong number of arguments (given "+a.$length()+", expected 0)"),h=n(p.$keys(),_.$class().$members()),d(h["$any?"]())&&_.$raise(l(P,"ArgumentError"),"unknown keywords: "+h.$join(", ")),f(_.$class().$members(),"each",[],((o=function(e){var r,i=o.$$s||this;return null==e&&(e=$),r=[e,p["$[]"](e)],f(i,"[]=",t.to_a(r)),r[n(r.length,1)]}).$$s=_,o.$$arity=1,o))):(d(e(a.$length(),_.$class().$members().$length()))&&_.$raise(l(P,"ArgumentError"),"struct size differs"),f(_.$class().$members(),"each_with_index",[],((u=function(e,r){var i,s=u.$$s||this;return null==e&&(e=$),null==r&&(r=$),i=[e,a["$[]"](r)],f(s,"[]=",t.to_a(i)),i[n(i.length,1)]}).$$s=_,u.$$arity=2,u)))},g.$$arity=-1),t.def(M,"$members",v=function(){return this.$class().$members()},v.$$arity=0),t.def(M,"$hash",b=function(){return l(P,"Hash").$new(this.$$data).$hash()},b.$$arity=0),t.def(M,"$[]",x=function(t){return d(l(P,"Integer")["$==="](t))?(d(r(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(P,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),d(i(t,this.$class().$members().$size()))&&this.$raise(l(P,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):d(l(P,"String")["$==="](t))?this.$$data.hasOwnProperty(t)||this.$raise(l(P,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str"),this.$$data[t]},x.$$arity=1),t.def(M,"$[]=",w=function(t,e){return d(l(P,"Integer")["$==="](t))?(d(r(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(P,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),d(i(t,this.$class().$members().$size()))&&this.$raise(l(P,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):d(l(P,"String")["$==="](t))?d(this.$class().$members()["$include?"](t.$to_sym()))||this.$raise(l(P,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str"),this.$$data[t]=e},w.$$arity=2),t.def(M,"$==",k=function(t){if(!d(t["$instance_of?"](this.$class())))return!1;var e={},n={};return function t(r,i){var a,s,o;for(a in e[r.$__id__()]=!0,n[i.$__id__()]=!0,r.$$data)if(s=r.$$data[a],o=i.$$data[a],l(P,"Struct")["$==="](s)){if(!(e.hasOwnProperty(s.$__id__())&&n.hasOwnProperty(o.$__id__())||t(s,o)))return!1}else if(!s["$=="](o))return!1;return!0}(this,t)},k.$$arity=1),t.def(M,"$eql?",A=function(t){if(!d(t["$instance_of?"](this.$class())))return!1;var e={},n={};return function t(r,i){var a,s,o;for(a in e[r.$__id__()]=!0,n[i.$__id__()]=!0,r.$$data)if(s=r.$$data[a],o=i.$$data[a],l(P,"Struct")["$==="](s)){if(!(e.hasOwnProperty(s.$__id__())&&n.hasOwnProperty(o.$__id__())||t(s,o)))return!1}else if(!s["$eql?"](o))return!1;return!0}(this,t)},A.$$arity=1),t.def(M,"$each",E=function(){var e,n,r=E.$$p,i=r||$;return r&&(E.$$p=null),i===$?f(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(f(this.$class().$members(),"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=$),t.yield1(i,r["$[]"](e))}).$$s=this,n.$$arity=1,n)),this)},E.$$arity=0),t.def(M,"$each_pair",O=function(){var e,n,r=O.$$p,i=r||$;return r&&(O.$$p=null),i===$?f(this,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(f(this.$class().$members(),"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=$),t.yield1(i,[e,r["$[]"](e)])}).$$s=this,n.$$arity=1,n)),this)},O.$$arity=0),t.def(M,"$length",S=function(){return this.$class().$members().$length()},S.$$arity=0),t.alias(M,"size","length"),t.def(M,"$to_a",R=function(){var t;return f(this.$class().$members(),"map",[],((t=function(e){var n=t.$$s||this;return null==e&&(e=$),n["$[]"](e)}).$$s=this,t.$$arity=1,t))},R.$$arity=0),t.alias(M,"values","to_a"),t.def(M,"$inspect",C=function(){var t,e,n=$;return n="#<struct ",d(d(t=l(P,"Struct")["$==="](this))?this.$class().$name():t)&&(n=a(n,this.$class()+" ")),n=a(n,f(this.$each_pair(),"map",[],(e=function(t,n){e.$$s;return null==t&&(t=$),null==n&&(n=$),t+"="+n.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", ")),n=a(n,">")},C.$$arity=0),t.alias(M,"to_s","inspect"),t.def(M,"$to_h",I=function(){var e;return f(this.$class().$members(),"each_with_object",[c([],{})],((e=function(r,i){var a,s=e.$$s||this;return null==r&&(r=$),null==i&&(i=$),a=[r,s["$[]"](r)],f(i,"[]=",t.to_a(a)),a[n(a.length,1)]}).$$s=this,e.$$arity=2,e))},I.$$arity=0),t.def(M,"$values_at",T=function(e){var n,r,i,a=this;n=t.slice.call(arguments,0,arguments.length);for(var s=[],o=0,u=(r=f(r=n,"map",[],(i=function(t){i.$$s;return null==t&&(t=$),t.$$is_range?t.$to_a():t},i.$$s=a,i.$$arity=1,i)).$flatten()).length;o<u;o++)r[o].$$is_number||a.$raise(l(P,"TypeError"),"no implicit conversion of "+r[o].$class()+" into Integer"),s.push(a["$[]"](r[o]));return s},T.$$arity=-1),t.def(M,"$dig",L=function(e,n){var r,i=this,a=$;return r=t.slice.call(arguments,1,arguments.length),(a=d(e.$$is_string&&i.$$data.hasOwnProperty(e))&&i.$$data[e]||$)===$||0===r.length?a:(d(a["$respond_to?"]("dig"))||i.$raise(l(P,"TypeError"),a.$class()+" does not have #dig method"),f(a,"dig",t.to_a(r)))},L.$$arity=-2),$&&"dig"}(o[0],0,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.klass),o=t.module,$=t.send,l=t.gvars,u=t.truthy,c=r;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,n,i){var c,d,f,_,p=s(e,null,"IO"),h=[p].concat(i);p.$$prototype.tty=p.$$prototype.closed=r,t.const_set(h[0],"SEEK_SET",0),t.const_set(h[0],"SEEK_CUR",1),t.const_set(h[0],"SEEK_END",2),t.def(p,"$tty?",c=function(){return this.tty},c.$$arity=0),t.def(p,"$closed?",d=function(){return this.closed},d.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",f=function(t){return this.write_proc(t),t.$size()},f.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",_=function(){return r},_.$$arity=0),function(e,n){var i,a,s,c=o(e,"Writable");[c].concat(n);t.def(c,"$<<",i=function(t){return this.$write(t),this},i.$$arity=1),t.def(c,"$print",a=function(e){var n,i,a=this;return null==l[","]&&(l[","]=r),n=t.slice.call(arguments,0,arguments.length),a.$write($(n,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=r),e.$String(t)},i.$$s=a,i.$$arity=1,i)).$join(l[","])),r},a.$$arity=-1),t.def(c,"$puts",s=function(e){var n,i,a=this,s=r;return null==l["/"]&&(l["/"]=r),n=t.slice.call(arguments,0,arguments.length),s=l["/"],u(n["$empty?"]())?a.$write(l["/"]):a.$write($(n,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=r),e.$String(t).$chomp()},i.$$s=a,i.$$arity=1,i)).$concat([r]).$join(s)),r},s.$$arity=-1)}(h[0],h),function(e,n){var i,s,$,u,c=o(e,"Readable"),d=[c].concat(n);t.def(c,"$readbyte",i=function(){return this.$getbyte()},i.$$arity=0),t.def(c,"$readchar",s=function(){return this.$getc()},s.$$arity=0),t.def(c,"$readline",$=function(t){return null==l["/"]&&(l["/"]=r),null==t&&(t=l["/"]),this.$raise(a(d,"NotImplementedError"))},$.$$arity=-1),t.def(c,"$readpartial",u=function(t,e){return null==e&&(e=r),this.$raise(a(d,"NotImplementedError"))},u.$$arity=-2)}(h[0],h)}(n[0],0,n),t.const_set(n[0],"STDERR",l.stderr=a(n,"IO").$new()),t.const_set(n[0],"STDIN",l.stdin=a(n,"IO").$new()),t.const_set(n[0],"STDOUT",l.stdout=a(n,"IO").$new());var d=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){d.log(t)}],$(a(n,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){d.warn(t)}],$(a(n,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],a(n,"STDOUT").$extend(i(a(n,"IO"),"Writable")),a(n,"STDERR").$extend(i(a(n,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,n,r=t.top,i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(r,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(r,"$include",n=function(t){return s(i,"Object").$include(t)},n.$$arity=1),a&&"include"},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$[]"]),function(e,s,o){var $=i(e,null,"Dir"),l=[$].concat(o);return function(e,i){var s,o,$,l=[e].concat(i);return t.def(e,"$chdir",s=function(e){var r=s.$$p,i=r||n,a=n;return r&&(s.$$p=null),function(){try{return a=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=a}}()},s.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",$=function(){var t;return a(t=r(l,"ENV")["$[]"]("HOME"))?t:"."},$.$$arity=0),n&&"home"}(t.get_singleton_class($),l)}(e[0],0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],r=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),s=t.truthy,o=t.range,$=t.send;return t.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(n,l,u){var c=a(n,l,"File"),d=[c].concat(u),f=r;return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",r),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),f=/^[a-zA-Z]:(?:\\|\/)/,function(n,a){var l,u,c,d,_,p,h,y,m,g=[n].concat(a);function v(t){return s(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(g,"Opal")["$coerce_to!"](t,i(g,"String"),"to_str")}function b(){return i(g,"ALT_SEPARATOR")===r?t.escape_regexp(i(g,"SEPARATOR")):t.escape_regexp(e(i(g,"SEPARATOR"),i(g,"ALT_SEPARATOR")))}return t.def(n,"$absolute_path",l=function(t,n){var a,o,$,l,u,c,d=r,_=r,p=r,h=r,y=r;null==n&&(n=r),o=i(g,"SEPARATOR"),$=b(),d=[],t=s(t["$respond_to?"]("to_path"))?t.$to_path():t,n=s(a=n)?a:i(g,"Dir").$pwd(),l=t.substr(0,o.length)===o||f.test(t),u=n.substr(0,o.length)===o||f.test(n),s(l)?(_=t.$split(new RegExp("["+$+"]")),p=f.test(t)?"":t.$sub(new RegExp("^(["+$+"]+).*$"),"\\1"),h=!0):(_=e(n.$split(new RegExp("["+$+"]")),t.$split(new RegExp("["+$+"]"))),p=f.test(n)?"":n.$sub(new RegExp("^(["+$+"]+).*$"),"\\1"),h=u);for(var m=0,v=_.length;m<v;m++)(c=_[m])===r||""===c&&(0===d.length||h)||"."===c&&(0===d.length||h)||(".."===c?d.pop():d.push(c));return h||"."===_[0]||d.$unshift("."),y=d.$join(o),s(h)&&(y=e(p,y)),y},l.$$arity=-2),t.def(n,"$expand_path",u=function(t,n){var a,o,$=r,l=r,u=r;return null==n&&(n=r),a=i(g,"SEPARATOR"),o=b(),s("~"===t[0]||n&&"~"===n[0])&&($=i(g,"Dir").$home(),s($)||this.$raise(i(g,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),l=f.test($)?"":$.$sub(new RegExp("^(["+o+"]+).*$"),"\\1"),s($["$start_with?"](l))||this.$raise(i(g,"ArgumentError"),"non-absolute home"),$=e($,a),u=new RegExp("^\\~(?:"+a+"|$)"),t=t.$sub(u,$),s(n)&&(n=n.$sub(u,$))),this.$absolute_path(t,n)},u.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",c=function(t){var e;e=b();var n=(t=v(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?n?"/":".":t},c.$$arity=1),t.def(n,"$basename",d=function(e,n){var a;return null==n&&(n=r),a=b(),0==(e=v(e)).length||(n=n!==r?i(g,"Opal")["$coerce_to!"](n,i(g,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+a+"]*$"),"$1")).replace(new RegExp("^(?:.*["+a+"])?([^"+a+"]+)$"),"$1"),".*"===n?e=e.replace(/\.[^\.]+$/,""):null!==n&&(n=t.escape_regexp(n),e=e.replace(new RegExp(n+"$"),""))),e},d.$$arity=-2),t.def(n,"$extname",_=function(n){var i,a,$,l=r,u=r;return n=v(n),l=this.$basename(n),s(l["$empty?"]())?"":(u=l["$[]"](o(1,-1,!1)).$rindex("."),s(s(i=u["$nil?"]())?i:e(u,1)["$=="]((a=l.$length(),$=1,"number"==typeof a&&"number"==typeof $?a-$:a["$-"]($))))?"":l["$[]"](t.Range.$new(e(u,1),-1,!1)))},_.$$arity=1),t.def(n,"$exist?",p=function(e){return null!=t.modules[e]},p.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",h=function(e){var n,a=r;for(var s in a=[],t.modules)a.push(s);return e=e.$gsub(new RegExp("(^."+i(g,"SEPARATOR")+"+|"+i(g,"SEPARATOR")+"+$)")),$(a,"find",[],((n=function(t){n.$$s;return null==t&&(t=r),t["$=~"](new RegExp("^"+e))}).$$s=this,n.$$arity=1,n))},h.$$arity=1),t.def(n,"$join",y=function(n){var a,o,l,u,c=this,d=r;return a=t.slice.call(arguments,0,arguments.length),s((o=a)["$empty?"]())?"":(d="",o=$(o.$flatten().$each_with_index(),"map",[],((l=function(t,n){l.$$s;return null==t&&(t=r),null==n&&(n=r),s(n["$=="](0)?t["$empty?"]():n["$=="](0))||s(o.$length()["$=="](e(n,1))?t["$empty?"]():o.$length()["$=="](e(n,1)))?i(g,"SEPARATOR"):t}).$$s=c,l.$$arity=2,l)),o=$(o,"reject",[],"empty?".$to_proc()),$(o,"each_with_index",[],((u=function(t,n){u.$$s;var a,$=r;return null==t&&(t=r),null==n&&(n=r),$=o["$[]"](e(n,1)),s($["$nil?"]())?d=""+d+t:(s(s(a=t["$end_with?"](i(g,"SEPARATOR")))?$["$start_with?"](i(g,"SEPARATOR")):a)&&(t=t.$sub(new RegExp(i(g,"SEPARATOR")+"+$"),"")),d=s(s(a=t["$end_with?"](i(g,"SEPARATOR")))?a:$["$start_with?"](i(g,"SEPARATOR")))?""+d+t:""+d+t+i(g,"SEPARATOR"))}).$$s=c,u.$$arity=2,u)),d)},y.$$arity=-1),t.def(n,"$split",m=function(t){return t.$split(i(g,"SEPARATOR"))},m.$$arity=1),r&&"split"}(t.get_singleton_class(c),d)}(n[0],i(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,$){var l,u,c,d,f=a(e,null,"Process"),_=[f].concat($),p=n;if(f.__clocks__=[],t.defs(f,"$__register_clock__",l=function(t,e){return null==this.__clocks__&&(this.__clocks__=n),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},l.$$arity=2),f.$__register_clock__("CLOCK_REALTIME",(function(){return Date.now()})),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var h=process.hrtime();p=function(){var t=process.hrtime(h),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}s(p)&&f.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(f,"$pid",u=function(){return 0},u.$$arity=0),t.defs(f,"$times",c=function(){var t;return t=i(_,"Time").$now().$to_f(),r(i(_,"Benchmark"),"Tms").$new(t,t,t,t,t)},c.$$arity=0),t.defs(f,"$clock_gettime",d=function(t,e){var a=n;null==this.__clocks__&&(this.__clocks__=n),null==e&&(e="float_second"),s(a=this.__clocks__["$[]"](t))||this.$raise(r(i(_,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var o=a();switch(e){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:this.$raise(i(_,"ArgumentError"),"unexpected unit: "+e)}},d.$$arity=-2)}(e[0],0,e),function(e,r,i){var s,o=a(e,null,"Signal");[o].concat(i);t.defs(o,"$trap",s=function(e){return t.slice.call(arguments,0,arguments.length),n},s.$$arity=-1)}(e[0],0,e),function(e,r,i){var s,o=a(e,null,"GC");[o].concat(i);return t.defs(o,"$start",s=function(){return n},s.$$arity=0),n&&"start"}(e[0],0,e)},Opal.modules["corelib/unsupported"]=function(t){var e,n,r=t.top,i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),$=t.module;t.add_stubs(["$raise","$warn","$%"]);var l={};function u(e){switch(t.config.unsupported_features_severity){case"error":s(i,"Kernel").$raise(s(i,"NotImplementedError"),e);break;case"warning":!function(t){if(l[t])return;l[t]=!0,r.$warn(t)}(e)}}return function(e,n,r){var i,a,$,l,u,c,d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R=o(e,null,"String"),C=[R].concat(r),I="String#%s not supported. Mutable String methods are not supported in Opal.";t.def(R,"$<<",i=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("<<"))},i.$$arity=-1),t.def(R,"$capitalize!",a=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("capitalize!"))},a.$$arity=-1),t.def(R,"$chomp!",$=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("chomp!"))},$.$$arity=-1),t.def(R,"$chop!",l=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("chop!"))},l.$$arity=-1),t.def(R,"$downcase!",u=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("downcase!"))},u.$$arity=-1),t.def(R,"$gsub!",c=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("gsub!"))},c.$$arity=-1),t.def(R,"$lstrip!",d=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("lstrip!"))},d.$$arity=-1),t.def(R,"$next!",f=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("next!"))},f.$$arity=-1),t.def(R,"$reverse!",_=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("reverse!"))},_.$$arity=-1),t.def(R,"$slice!",p=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("slice!"))},p.$$arity=-1),t.def(R,"$squeeze!",h=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("squeeze!"))},h.$$arity=-1),t.def(R,"$strip!",y=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("strip!"))},y.$$arity=-1),t.def(R,"$sub!",m=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("sub!"))},m.$$arity=-1),t.def(R,"$succ!",g=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("succ!"))},g.$$arity=-1),t.def(R,"$swapcase!",v=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("swapcase!"))},v.$$arity=-1),t.def(R,"$tr!",b=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("tr!"))},b.$$arity=-1),t.def(R,"$tr_s!",x=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("tr_s!"))},x.$$arity=-1),t.def(R,"$upcase!",w=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("upcase!"))},w.$$arity=-1),t.def(R,"$prepend",k=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("prepend"))},k.$$arity=-1),t.def(R,"$[]=",A=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("[]="))},A.$$arity=-1),t.def(R,"$clear",E=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("clear"))},E.$$arity=-1),t.def(R,"$encode!",O=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("encode!"))},O.$$arity=-1),t.def(R,"$unicode_normalize!",S=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(C,"NotImplementedError"),I["$%"]("unicode_normalize!"))},S.$$arity=-1)}(i[0],0,i),function(e,n){var r,i,a=$(e,"Kernel"),s=([a].concat(n),"Object freezing is not supported by Opal");t.def(a,"$freeze",r=function(){return u(s),this},r.$$arity=0),t.def(a,"$frozen?",i=function(){return u(s),!1},i.$$arity=0)}(i[0],i),function(e,n){var r,i,a,s=$(e,"Kernel"),o=([s].concat(n),"Object tainting is not supported by Opal");t.def(s,"$taint",r=function(){return u(o),this},r.$$arity=0),t.def(s,"$untaint",i=function(){return u(o),this},i.$$arity=0),t.def(s,"$tainted?",a=function(){return u(o),!1},a.$$arity=0)}(i[0],i),function(e,n,r){var i,s,$,l,u=o(e,null,"Module");[u].concat(r);t.def(u,"$public",i=function(e){var n=this;return 0===t.slice.call(arguments,0,arguments.length).length&&(n.$$module_function=!1),a},i.$$arity=-1),t.alias(u,"private","public"),t.alias(u,"protected","public"),t.alias(u,"nesting","public"),t.def(u,"$private_class_method",s=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n},s.$$arity=-1),t.alias(u,"public_class_method","private_class_method"),t.def(u,"$private_method_defined?",$=function(t){return!1},$.$$arity=1),t.def(u,"$private_constant",l=function(e){return t.slice.call(arguments,0,arguments.length),a},l.$$arity=-1),t.alias(u,"protected_method_defined?","private_method_defined?"),t.alias(u,"public_instance_methods","instance_methods"),t.alias(u,"public_instance_method","instance_method"),t.alias(u,"public_method_defined?","method_defined?")}(i[0],0,i),function(e,n){var r,i=$(e,"Kernel");[i].concat(n);t.def(i,"$private_methods",r=function(e){return t.slice.call(arguments,0,arguments.length),[]},r.$$arity=-1),t.alias(i,"private_instance_methods","private_methods")}(i[0],i),function(e,n){var r,i=$(e,"Kernel"),a=[i].concat(n);t.def(i,"$eval",r=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(s(a,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+s(a,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},r.$$arity=-1)}(i[0],i),t.defs(r,"$public",e=function(e){return t.slice.call(arguments,0,arguments.length),a},e.$$arity=-1),t.defs(r,"$private",n=function(e){return t.slice.call(arguments,0,arguments.length),a},n.$$arity=-1),a&&"private"},function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/encoding"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/unsupported")}(Opal),factory=function(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass);return t.add_stubs(["$new"]),function(e,a,s){var o,$=i(e,null,"File"),l=[$].concat(s);return t.defs($,"$read",o=function(t){var e="",n=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.addEventListener("load",(function(){0!==(n=this.status)&&200!==n||(e=this.responseText)})),i.overrideMimeType("text/plain"),i.send()}catch(e){throw r(l,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===n||0===n&&!e)throw r(l,"IOError").$new("No such file or directory: "+t);return e},o.$$arity=1),n&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var n,r,i,a,s=e.top,o=[];if(e.nil,e.const_get_qualified,e.const_get_relative,e.breaker,e.slice,e.add_stubs(["$require"]),"object"==typeof t&&"object"==typeof t.runtime){var $=t.runtime;n=$.platform,r=$.engine,i=$.framework,a=$.ioModule}return a=a||"xmlhttprequest",n=n||"browser",r=r||"",i=i||"",e.const_set(o[0],"JAVASCRIPT_IO_MODULE",a),e.const_set(o[0],"JAVASCRIPT_PLATFORM",n),e.const_set(o[0],"JAVASCRIPT_ENGINE",r),e.const_set(o[0],"JAVASCRIPT_FRAMEWORK",i),s.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,$=t.truthy;return t.add_stubs(["$uriish?","$[]","$web_path","$path_resolver","$descends_from?","$base_dir","$start_with?","$attr?","$join","$prepare_source_string","$read","$fetch","$warn","$logger","$normalize_system_path","$read_asset"]),function(e,l){var u=[a(e,"Asciidoctor")].concat(l);!function(e,a,l){var u,c,d=s(e,null,"AbstractNode"),f=[d].concat(l);d.$$prototype.document=n,t.def(d,"$read_contents",u=function(e,a){var s,l,u,c=n,d=n;if(null==a&&(a=o([],{})),c=this.document,!$($(s=i(f,"Helpers")["$uriish?"](e))?s:$(l=$(u=d=a["$[]"]("start"))?i(f,"Helpers")["$uriish?"](d):u)?e=c.$path_resolver().$web_path(e,d):l))return e=this.$normalize_system_path(e,a["$[]"]("start"),n,o(["target_name"],{target_name:$(s=a["$[]"]("label"))?s:"asset"})),this.$read_asset(e,o(["normalize","warn_on_failure","label"],{normalize:a["$[]"]("normalize"),warn_on_failure:a.$fetch("warn_on_failure",!0),label:a["$[]"]("label")}));if(!$($(s=$(l=c.$path_resolver()["$descends_from?"](e,c.$base_dir()))?l:e["$start_with?"]("chrome://"))?s:c["$attr?"]("allow-uri-read")))return $(a.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+($(s=a["$[]"]("label"))?s:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),n;try{return $(a["$[]"]("normalize"))?i(f,"Helpers").$prepare_source_string(r("::","File").$read(e)).$join(i(f,"LF")):r("::","File").$read(e)}catch(r){if(!t.rescue(r,[i(f,"StandardError")]))throw r;try{return $(a.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+($(s=a["$[]"]("label"))?s:"asset")+" at URI: "+e),n}finally{t.pop_exception()}}},u.$$arity=-2),t.def(d,"$generate_data_uri_from_uri",c=function(t,e){null==e&&(e=!1);var n="",r="",i=-1;try{var a=new XMLHttpRequest;a.open("GET",t,!1),a.overrideMimeType("text/plain; charset=x-user-defined"),a.addEventListener("load",(function(){if(0===(i=this.status)||200===i){for(var t="",e=this.responseText,a=0,s=e.length;a<s;++a){var o=255&e.charCodeAt(a);t+=String.fromCharCode(o)}r=btoa(t),n=this.getResponseHeader("content-type")}})),a.send(null),n||(t.endsWith(".jpeg")||t.endsWith(".jpg")||t.endsWith(".jpe")?n="image/jpg":t.endsWith(".png")?n="image/png":t.endsWith(".svg")?n="image/svg+xml":t.endsWith(".bmp")?n="image/bmp":(t.endsWith(".tif")||t.endsWith(".tiff"))&&(n="image/tiff"))}catch(t){i=0}return 404!==i&&(0!==i||r&&n)?"data:"+n+";base64,"+r:(this.$logger().$warn("could not retrieve image data from URI: "+t),t)},c.$$arity=-2)}(u[0],0,u)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.send;return t.add_stubs(["$new","$path"]),function(e,s){var o,$=[i(e,"OpenURI")].concat(s);t.defs(r($,"OpenURI"),"$open_uri",o=function(e,i){var s,l=o.$$p,u=l||n,c=this,d=n;return l&&(o.$$p=null),s=t.slice.call(arguments,1,arguments.length),d=a(r($,"File"),"new",[c.$path()].concat(t.to_a(s))),u!==n?t.yield1(u,d):d},o.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),r=t.klass,i=t.truthy;return t.add_stubs(["$absolute_path?","$start_with?"]),function(e,a){var s=[n(e,"Asciidoctor")].concat(a);!function(e,n,a){var s,o=r(e,null,"PathResolver");[o].concat(a),t.def(o,"$root?",s=function(t){var e;return i(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://","chrome://")},s.$$arity=1)}(s[0],0,s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,s=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(e,o){var $=[i(e,"Asciidoctor")].concat(o);!function(e,i,o){var $,l=a(e,i,"PreprocessorReader"),u=[l].concat(o);l.$$prototype.path_resolver=l.$$prototype.document=l.$$prototype.include_stack=l.$$prototype.dir=n,t.def(l,"$resolve_include_path",$=function(t,e,i){var a,o=this,$=n,l=n,c=n,d=n,f=n,_=n,p=n;if($=(o.path_resolver=s(a=o.path_resolver)?a:r(u,"PathResolver").$new("\\")).$posixify(t),a=["file",o.document.$base_dir()],l=a[1],s($["$start_with?"]("file://")))c=d=$;else if(s(r(u,"Helpers")["$uriish?"]($))){if(!s(s(a=o.path_resolver["$descends_from?"]($,l))?a:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=d=$}else if(s(o.path_resolver["$absolute_path?"]($)))c=d="file://"+(s($["$start_with?"]("/"))?"":"/")+$;else if((f=s(_=o.include_stack["$empty?"]())?l:o.dir)["$=="]("."))c=d=$;else if(s(s(a=f["$start_with?"]("file://"))?a:r(u,"Helpers")["$uriish?"](f)["$!"]()))c=f+"/"+$,d=s(_)?$:s(s(a=l["$=="]("."))?a:(p=o.path_resolver["$descends_from?"](c,l))["$!"]())?c:c.$slice(p,c.$length());else if(s(_))c=f+"/"+(d=$);else{if(!s(s(a=p=o.path_resolver["$descends_from?"](f,l))?a:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=f+"/"+$,d=s(p)?c.$slice(p,c.$length()):$}return[c,"file",d]},$.$$arity=3)}($[0],r($,"Reader"),$)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(t){var e=t.top,n=t.nil,r=(t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.add_stubs(["$==","$require"]),r([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(e.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),e.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),e.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),e.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):n},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),$=t.hash2,l=t.truthy,u=t.send,c=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,c,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j=o(i,null,"Set"),q=[j].concat(d);j.$$prototype.hash=a,j.$include(s(q,"Enumerable")),t.defs(j,"$[]",f=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),r.$new(n)},f.$$arity=-1),t.def(j,"$initialize",_=function(e){var n,r=_.$$p,i=r||a;return r&&(_.$$p=null),r&&(_.$$p=null),null==e&&(e=a),this.hash=$([],{}),l(e["$nil?"]())?a:(l(s(q,"Enumerable")["$==="](e))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),l(i)?u(e,"each",[],((n=function(e){var r=n.$$s||this;return null==e&&(e=a),r.$add(t.yield1(i,e))}).$$s=this,n.$$arity=1,n)):this.$merge(e))},_.$$arity=-1),t.def(j,"$dup",p=function(){return this.$class().$new().$merge(this)},p.$$arity=0),t.def(j,"$-",h=function(t){return l(t["$respond_to?"]("each"))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},h.$$arity=1),t.alias(j,"difference","-"),t.def(j,"$inspect",y=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},y.$$arity=0),t.def(j,"$==",m=function(t){var e,n;return!!l(this["$equal?"](t))||(l(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!l(l(e=t["$is_a?"](s(q,"Set")))?this.$size()["$=="](t.$size()):e)&&u(t,"all?",[],((n=function(t){var e=n.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash["$include?"](t)}).$$s=this,n.$$arity=1,n)))},m.$$arity=1),t.def(j,"$add",g=function(n){var r;return r=[n,!0],u(this.hash,"[]=",t.to_a(r)),e(r.length,1),this},g.$$arity=1),t.alias(j,"<<","add"),t.def(j,"$classify",v=function(){var n,r,i=v.$$p,o=i||a,$=a;return i&&(v.$$p=null),i&&(v.$$p=null),o===a?this.$enum_for("classify"):($=u(s(q,"Hash"),"new",[],((n=function(r,i){var s,o=n.$$s||this;return null==r&&(r=a),null==i&&(i=a),s=[i,o.$class().$new()],u(r,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=this,n.$$arity=2,n)),u(this,"each",[],((r=function(e){return r.$$s,null==e&&(e=a),$["$[]"](t.yield1(o,e)).$add(e)}).$$s=this,r.$$arity=1,r)),$)},v.$$arity=0),t.def(j,"$collect!",b=function(){var e,n=b.$$p,r=n||a,i=a;return n&&(b.$$p=null),n&&(b.$$p=null),r===a?this.$enum_for("collect!"):(i=this.$class().$new(),u(this,"each",[],((e=function(n){return e.$$s,null==n&&(n=a),i["$<<"](t.yield1(r,n))}).$$s=this,e.$$arity=1,e)),this.$replace(i))},b.$$arity=0),t.alias(j,"map!","collect!"),t.def(j,"$delete",x=function(t){return this.hash.$delete(t),this},x.$$arity=1),t.def(j,"$delete?",w=function(t){return l(this["$include?"](t))?(this.$delete(t),this):a},w.$$arity=1),t.def(j,"$delete_if",k=function(){var e,n,r=k.$$p,i=r||a;return r&&(k.$$p=null),i===a?this.$enum_for("delete_if"):(u(u(this,"select",[],((e=function(n){return e.$$s,null==n&&(n=a),t.yield1(i,n)}).$$s=this,e.$$arity=1,e)),"each",[],((n=function(t){var e=n.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash.$delete(t)}).$$s=this,n.$$arity=1,n)),this)},k.$$arity=0),t.def(j,"$add?",A=function(t){return l(this["$include?"](t))?a:this.$add(t)},A.$$arity=1),t.def(j,"$each",E=function(){var t=E.$$p,e=t||a;return t&&(E.$$p=null),t&&(E.$$p=null),e===a?this.$enum_for("each"):(u(this.hash,"each_key",[],e.$to_proc()),this)},E.$$arity=0),t.def(j,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),t.def(j,"$eql?",S=function(t){var e;return this.hash["$eql?"](u(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=a),t.hash}).$$s=this,e.$$arity=0,e)))},S.$$arity=1),t.def(j,"$clear",R=function(){return this.hash.$clear(),this},R.$$arity=0),t.def(j,"$include?",C=function(t){return this.hash["$include?"](t)},C.$$arity=1),t.alias(j,"member?","include?"),t.def(j,"$merge",I=function(t){var e;return u(t,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$add(t)}).$$s=this,e.$$arity=1,e)),this},I.$$arity=1),t.def(j,"$replace",T=function(t){return this.$clear(),this.$merge(t),this},T.$$arity=1),t.def(j,"$size",L=function(){return this.hash.$size()},L.$$arity=0),t.alias(j,"length","size"),t.def(j,"$subtract",M=function(t){var e;return u(t,"each",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=a),n.$delete(t)}).$$s=this,e.$$arity=1,e)),this},M.$$arity=1),t.def(j,"$|",P=function(t){return l(t["$respond_to?"]("each"))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},P.$$arity=1),t.def(j,"$superset?",N=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(n(this.$size(),t.$size()))&&u(t,"all?",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=a),n["$include?"](t)}).$$s=this,e.$$arity=1,e))},N.$$arity=1),t.alias(j,">=","superset?"),t.def(j,"$proper_superset?",B=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(r(this.$size(),t.$size()))&&u(t,"all?",[],((e=function(t){var n=e.$$s||this;return null==t&&(t=a),n["$include?"](t)}).$$s=this,e.$$arity=1,e))},B.$$arity=1),t.alias(j,">","proper_superset?"),t.def(j,"$subset?",D=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(n(t.$size(),this.$size()))&&u(this,"all?",[],((e=function(n){return e.$$s,null==n&&(n=a),t["$include?"](n)}).$$s=this,e.$$arity=1,e))},D.$$arity=1),t.alias(j,"<=","subset?"),t.def(j,"$proper_subset?",z=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(r(t.$size(),this.$size()))&&u(this,"all?",[],((e=function(n){return e.$$s,null==n&&(n=a),t["$include?"](n)}).$$s=this,e.$$arity=1,e))},z.$$arity=1),t.alias(j,"<","proper_subset?"),t.alias(j,"+","|"),t.alias(j,"union","|"),t.def(j,"$to_a",F=function(){return this.hash.$keys()},F.$$arity=0)}(i[0],0,i),function(e,n){var r,i=c(e,"Enumerable"),o=[i].concat(n);t.def(i,"$to_set",r=function(e,n){var i,$,l,c=r.$$p,d=c||a,f=this;return c&&(r.$$p=null),c&&(r.$$p=null),(i=t.slice.call(arguments,0,arguments.length)).length>0&&($=i[0],i.splice(0,1)),null==$&&($=s(o,"Set")),l=i,u($,"new",[f].concat(t.to_a(l)),d.$to_proc())},r.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.send;return t.add_stubs(["$new"]),function(e,s){var o,$,l=i(e,"Kernel"),u=[l].concat(s);t.def(l,"$open",o=function(e,i){var s,$=o.$$p,l=$||n,c=n;return $&&(o.$$p=null),s=t.slice.call(arguments,1,arguments.length),c=a(r(u,"File"),"new",[e].concat(t.to_a(s))),l!==n?t.yield1(l,c):c},o.$$arity=-2),t.def(l,"$__dir__",$=function(){return""},$.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy,s=t.gvars;return t.add_stubs(["$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(e,o,$){var l,u,c,d,f=i(e,null,"File"),_=[f].concat($);f.$$prototype.eof=f.$$prototype.path=n,f.$attr_reader("eof"),f.$attr_reader("lineno"),f.$attr_reader("path"),t.def(f,"$initialize",l=function(t,e){var r;return null==e&&(e="r"),this.path=t,this.contents=n,this.eof=!1,this.lineno=0,r=/:(.*)/,e=(e=e.$delete("b")).$gsub(r,""),this.flags=e},l.$$arity=-2),t.def(f,"$read",u=function(){var t=n;return a(this.eof)?"":(t=r(_,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},u.$$arity=0),t.def(f,"$each_line",c=function(e){var i=c.$$p,o=i||n,$=this,l=n;if(null==s["/"]&&(s["/"]=n),i&&(c.$$p=null),i&&(c.$$p=null),null==e&&(e=s["/"]),a($.eof))return o!==n?$:[].$to_enum();if(o!==n){l=r(_,"File").$read($.path),$.eof=!1,$.lineno=0;for(var u=l.$chomp(),d=l.length!=u.length,f=u.split(e),p=0,h=f.length;p<h;p++)$.lineno+=1,p<h-1||d?t.yield1(o,f[p]+e):t.yield1(o,f[p]);return $.eof=!0,$}return $.$read().$each_line()},c.$$arity=-1),t.def(f,"$readlines",d=function(){return r(_,"File").$readlines(this.path)},d.$$arity=0),function(e,i){var a,o,$,l,u=[e].concat(i);t.def(e,"$readlines",a=function(t,e){return null==s["/"]&&(s["/"]=n),null==e&&(e=s["/"]),r(u,"File").$read(t).$split(e)},a.$$arity=-2),t.def(e,"$file?",o=function(t){return!0},o.$$arity=1),t.def(e,"$readable?",$=function(t){return!0},$.$$arity=1),t.def(e,"$read",l=function(t){return""},l.$$arity=1)}(t.get_singleton_class(f),_)}(e[0],0,e),function(e,a,s){var o,$=i(e,null,"IO"),l=[$].concat(s);return t.defs($,"$read",o=function(t){return r(l,"File").$read(t)},o.$$arity=1),n&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$[]=","$-"]),function(e,a,s){var o,$=r(e,null,"MatchData");return[$].concat(s),$.$$prototype.matches=n,t.def($,"$[]=",o=function(e,n){var r,a,s;return r=[e,n],i(this.matches,"[]=",t.to_a(r)),r[(a=r.length,s=1,"number"==typeof a&&"number"==typeof s?a-s:a["$-"](s))]},o.$$arity=2),n&&"[]="}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy,a=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(e,s,o){var $,l,u=r(e,null,"String");return[u].concat(o),i(u["$method_defined?"]("limit_bytesize"))||t.def(u,"$limit_bytesize",$=function(t){var e,n;return i((e=t,n=this.$bytes().$length(),"number"==typeof e&&"number"==typeof n?e<n:e["$<"](n)))?this.$byteslice(0,t).$to_s():this.$to_s()},$.$$arity=1),i(u["$method_defined?"]("limit"))||t.alias(u,"limit","limit_bytesize"),t.alias(u,"_original_unpack","unpack"),t.def(u,"$unpack",l=function(t){var e;return t["$=="]("C3")?a(this["$[]"](0,3).$bytes().$select(),"with_index",[],((e=function(t,r){return e.$$s,null==t&&(t=n),null==r&&(r=n),r["$even?"]()}).$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},l.$$arity=1),n&&"unpack"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative),r=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),function(e,i){var a,s,o=r(e,"URI"),$=[o].concat(i);t.defs(o,"$parse",a=function(t){return t.$extend(n($,"URI"))},a.$$arity=1),t.def(o,"$path",s=function(){return this},s.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),i=t.hash2,a=t.truthy;return t.add_stubs(["$delete"]),function(e,s){var o,$,l,u,c,d,f,_,p=r(e,"Base64");[p].concat(s),f=t.global.btoa||function(t){return(t instanceof Buffer?t:Buffer.from(t.toString(),"binary")).toString("base64")},_=t.global.atob||function(t){return Buffer.from(t,"base64").toString("binary")},t.defs(p,"$decode64",o=function(t){return _(t.replace(/\r?\n/g,""))},o.$$arity=1),t.defs(p,"$encode64",$=function(t){return f(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},$.$$arity=1),t.defs(p,"$strict_decode64",l=function(t){return _(t)},l.$$arity=1),t.defs(p,"$strict_encode64",u=function(t){return f(t)},u.$$arity=1),t.defs(p,"$urlsafe_decode64",c=function(t){return _(t.replace(/\-/g,"+").replace(/_/g,"/"))},c.$$arity=1),t.defs(p,"$urlsafe_encode64",d=function(e,r){var s,o=n;if(null==r)r=i([],{});else if(!r.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(s=r.$$smap.padding)&&(s=!0),o=f(e).replace(/\+/g,"-").replace(/\//g,"_"),a(s)||(o=o.$delete("=")),o},d.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$coerce_to!","$>"]),function(e,s,o){var $,l=i(e,s,"Number"),u=[l].concat(o);return t.def(l,"$round",$=function(t){var e,n;return t=r(u,"Opal")["$coerce_to!"](t,r(u,"Integer"),"to_int"),a((n=0,"number"==typeof(e=t)&&"number"==typeof n?e>n:e["$>"](n)))?Number(this.toFixed(t)):Math.round(this)},$.$$arity=-1),n&&"round"}(e[0],r(e,"Numeric"),e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/base64"),e.$require("asciidoctor/js/opal_ext/number"),t.config.unsupported_features_severity="ignore",e.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],r=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),s=t.send,o=t.gvars,$=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(n,l){var u,c=a(n,"Asciidoctor"),d=[c].concat(l);t.const_set(d[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(c,"$unpack_hex_range",u=function(t){var e;return s(t,"gsub",[i(d,"HEX_RANGE_RX")],((e=function(){var t,n;return e.$$s,"\\u"+((t=o["~"])===r?r:t["$[]"](1))+($(t=(n=o["~"])===r?r:n["$[]"](2))?"-\\u"+((n=o["~"])===r?r:n["$[]"](2)):t)}).$$s=this,e.$$arity=0,e))},u.$$arity=1),t.const_set(d[0],"P_L",e("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(d[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(d[0],"P_Nd",e("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(d[0],"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(d[0],"CC_ALPHA",""+i(d,"P_L")+i(d,"P_Nl")),t.const_set(d[0],"CG_ALPHA","["+i(d,"CC_ALPHA")+"]"),t.const_set(d[0],"CC_ALNUM",""+i(d,"CC_ALPHA")+i(d,"P_Nd")),t.const_set(d[0],"CG_ALNUM","["+i(d,"CC_ALNUM")+"]"),t.const_set(d[0],"CC_WORD",""+i(d,"CC_ALNUM")+i(d,"P_Pc")),t.const_set(d[0],"CG_WORD","["+i(d,"CC_WORD")+"]"),t.const_set(d[0],"CG_BLANK","[ \\t]"),t.const_set(d[0],"CC_EOL","(?=\\n|$)"),t.const_set(d[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(d[0],"CC_ALL","[\\s\\S]"),t.const_set(d[0],"CC_ANY","[^\\n]")}(n[0],n)},Opal.modules.strscan=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(e,a,s){var o,$,l,u,c,d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T=r(e,null,"StringScanner");return[T].concat(s),T.$$prototype.pos=T.$$prototype.string=T.$$prototype.working=T.$$prototype.matched=T.$$prototype.prev_pos=T.$$prototype.match=n,T.$attr_reader("pos"),T.$attr_reader("matched"),t.def(T,"$initialize",o=function(t){return this.string=t,this.pos=0,this.matched=n,this.working=t,this.match=[]},o.$$arity=1),T.$attr_reader("string"),t.def(T,"$beginning_of_line?",$=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},$.$$arity=0),t.alias(T,"bol?","beginning_of_line?"),t.def(T,"$scan",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=n:"object"==typeof e?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):n},l.$$arity=1),t.def(T,"$scan_until",u=function(t){t=this.$anchor(t);for(var e,r=this.pos,i=this.working;;){if(e=t.exec(i),r+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,r-this.pos-1+e[0].length),this.prev_pos=r-1,this.pos=r,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.matched=n}},u.$$arity=1),t.def(T,"$[]",c=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length||null==e[t]?n:e[t]},c.$$arity=1),t.def(T,"$check",d=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?n:e[0]},d.$$arity=1),t.def(T,"$check_until",f=function(t){var e=this.prev_pos,r=this.pos,i=this.$scan_until(t);return i!==n&&(this.matched=i.substr(-1),this.working=this.string.substr(r)),this.prev_pos=e,this.pos=r,i},f.$$arity=1),t.def(T,"$peek",_=function(t){return this.working.substring(0,t)},_.$$arity=1),t.def(T,"$eos?",p=function(){return 0===this.working.length},p.$$arity=0),t.def(T,"$exist?",h=function(t){var e=t.exec(this.working);return null==e?n:0==e.index?0:e.index+1},h.$$arity=1),t.def(T,"$skip",y=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=n;var r=e[0],i=r.length;return this.matched=r,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},y.$$arity=1),t.def(T,"$skip_until",m=function(t){var e=this.$scan_until(t);return e===n?n:(this.matched=e.substr(-1),e.length)},m.$$arity=1),t.def(T,"$get_byte",g=function(){var t=n;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=n,t},g.$$arity=0),t.alias(T,"getch","get_byte"),t.def(T,"$match?",v=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?n:(this.prev_pos=this.pos,e[0].length)},v.$$arity=1),t.def(T,"$pos=",b=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},b.$$arity=1),t.def(T,"$matched_size",x=function(){return this.matched===n?n:this.matched.length},x.$$arity=0),t.def(T,"$post_match",w=function(){return this.matched===n?n:this.string.substr(this.pos)},w.$$arity=0),t.def(T,"$pre_match",k=function(){return this.matched===n?n:this.string.substr(0,this.prev_pos)},k.$$arity=0),t.def(T,"$reset",A=function(){return this.working=this.string,this.matched=n,this.pos=0},A.$$arity=0),t.def(T,"$rest",E=function(){return this.working},E.$$arity=0),t.def(T,"$rest?",O=function(){return 0!==this.working.length},O.$$arity=0),t.def(T,"$rest_size",S=function(){return this.$rest().$size()},S.$$arity=0),t.def(T,"$terminate",R=function(){var e,r,a;return this.match=n,e=[this.string.$length()],i(this,"pos=",t.to_a(e)),e[(r=e.length,a=1,"number"==typeof r&&"number"==typeof a?r-a:r["$-"](a))]},R.$$arity=0),t.def(T,"$unscan",C=function(){return this.pos=this.prev_pos,this.prev_pos=n,this.match=n,this},C.$$arity=0),T.$private(),t.def(T,"$anchor",I=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},I.$$arity=1),n&&"anchor"}(e[0],0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,n,a){var s=r(e,null,"NilClass");[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","nil?")}(e[0],0,e),function(e,n,a){var s=r(e,null,"String");[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,n,a){var s=r(e,null,"Array");[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,n,a){var s=r(e,null,"Hash");[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,a,s){var o=r(e,null,"Numeric");return[o].concat(s),i(o["$method_defined?"]("nil_or_empty?"))?n:t.alias(o,"nil_or_empty?","nil?")}(e[0],0,e)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r,i=t.top,a=[],s=t.nil,o=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.send),l=t.truthy,u=t.hash2;return t.add_stubs(["$==","$arity","$instance_method","$send","$new","$<","$length","$>","$inject","$merge","$[]"]),o(a,"Hash").$instance_method("merge").$arity()["$=="](1)?o(a,"Hash").$send("prepend",$(o(a,"Module"),"new",[],((r=function(){var i,a=r.$$s||this;return t.def(a,"$merge",i=function(r){var a,o,c,d=i.$$p,f=this,_=s;return d&&(i.$$p=null),a=t.slice.call(arguments,0,arguments.length),l(e(_=(o=a).$length(),1))?$(f,t.find_super_dispatcher(f,"merge",i,!1),[u([],{})],null):l(n(_,1))?$(o,"inject",[f],((c=function(t,e){return c.$$s,null==t&&(t=s),null==e&&(e=s),t.$merge(e)}).$$s=f,c.$$arity=2,c)):$(f,t.find_super_dispatcher(f,"merge",i,!1),[o["$[]"](0)],null)},i.$$arity=-1),s&&"merge"}).$$s=i,r.$$arity=0,r))):s},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.truthy),a=t.klass;return t.add_stubs(["$method_defined?"]),i(r(e,"MatchData")["$method_defined?"]("names"))?n:function(e,r,i){var s,o=a(e,null,"MatchData");return[o].concat(i),t.def(o,"$names",s=function(){return[]},s.$$arity=0),n&&"names"}(e[0],0,e)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,n=t.nil,r=(t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.add_stubs(["$=="]),e.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),r([],"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):n},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.truthy,l=t.gvars,u=t.send,c=t.hash2;return t.add_stubs(["$module_function","$require","$include?","$include","$==","$===","$path","$message","$raise","$warn","$logger","$chomp","$empty?","$slice","$unpack","$[]","$byteslice","$bytesize","$[]=","$-","$map","$rstrip","$encode","$encoding","$nil_or_empty?","$!=","$tap","$each_line","$<<","$match?","$gsub","$rindex","$index","$basename","$extname","$!","$length","$directory?","$dirname","$mkdir_p","$mkdir","$private_constant","$join","$divmod","$*","$+","$to_i","$to_s","$chr","$ord","$class_for_name","$const_get"]),function(r,d){var f=[o(r,"Asciidoctor")].concat(d);!function(r,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R=o(r,"Helpers"),C=[R].concat(d);R.$module_function(),t.def(R,"$require_library",f=function(e,n,r){var o=i,u=i;null==l["!"]&&(l["!"]=i),null==n&&(n=!0),null==r&&(r="abort");try{return this.$require(e)}catch(c){if(!t.rescue(c,[a("::","LoadError")]))throw c;try{return $(this["$include?"](s(C,"Logging")))||this.$include(s(C,"Logging")),$(n)?(n["$=="](!0)&&(n=e),"abort"["$==="](o=r)?(u=l["!"].$path()["$=="](n)?"":" (reason: "+($(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",this.$raise(a("::","LoadError"),"asciidoctor: FAILED: required gem '"+n+"' is not available"+u+". Processing aborted.")):"warn"["$==="](o)&&(u=l["!"].$path()["$=="](n)?"":" (reason: "+($(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",this.$logger().$warn("optional gem '"+n+"' is not available"+u+". Functionality disabled."))):"abort"["$==="](o=r)?this.$raise(a("::","LoadError"),"asciidoctor: FAILED: "+l["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](o)&&this.$logger().$warn(l["!"].$message().$chomp(".")+". Functionality disabled."),i}finally{t.pop_exception()}}},f.$$arity=-2),t.def(R,"$prepare_source_array",_=function(n,r){var o,l,c,d,f,_,p,h,y=this,m=i,g=i,v=i,b=i;return null==r&&(r=!0),$(n["$empty?"]())?[]:(m=(g=(v=n["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](s(C,"BOM_BYTES_UTF_16LE"))?(b=[0,v.$byteslice(2,v.$bytesize())],u(n,"[]=",t.to_a(b)),b[e(b.length,1)],$(r)?u(n,"map",[],((o=function(t){return o.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16LE")).$rstrip()}).$$s=y,o.$$arity=1,o)):u(n,"map",[],((l=function(t){return l.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16LE")).$chomp()}).$$s=y,l.$$arity=1,l))):m["$=="](s(C,"BOM_BYTES_UTF_16BE"))?(b=[0,v.$byteslice(2,v.$bytesize())],u(n,"[]=",t.to_a(b)),b[e(b.length,1)],$(r)?u(n,"map",[],((c=function(t){return c.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16BE")).$rstrip()}).$$s=y,c.$$arity=1,c)):u(n,"map",[],((d=function(t){return d.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16BE")).$chomp()}).$$s=y,d.$$arity=1,d))):(g["$=="](s(C,"BOM_BYTES_UTF_8"))&&(b=[0,v.$byteslice(3,v.$bytesize())],u(n,"[]=",t.to_a(b)),b[e(b.length,1)]),v.$encoding()["$=="](s(C,"UTF_8"))?$(r)?u(n,"map",[],((f=function(t){return f.$$s,null==t&&(t=i),t.$rstrip()}).$$s=y,f.$$arity=1,f)):u(n,"map",[],((_=function(t){return _.$$s,null==t&&(t=i),t.$chomp()}).$$s=y,_.$$arity=1,_)):$(r)?u(n,"map",[],((p=function(t){return p.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8")).$rstrip()}).$$s=y,p.$$arity=1,p)):u(n,"map",[],((h=function(t){return h.$$s,null==t&&(t=i),t.$encode(s(C,"UTF_8")).$chomp()}).$$s=y,h.$$arity=1,h)))},_.$$arity=-2),t.def(R,"$prepare_source_string",p=function(t,e){var n,r,o=i,l=i;return null==e&&(e=!0),$(t["$nil_or_empty?"]())?[]:((o=(l=t.$unpack("C3")).$slice(0,2))["$=="](s(C,"BOM_BYTES_UTF_16LE"))?t=t.$byteslice(2,t.$bytesize()).$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16LE")):o["$=="](s(C,"BOM_BYTES_UTF_16BE"))?t=t.$byteslice(2,t.$bytesize()).$encode(s(C,"UTF_8"),a(a("::","Encoding"),"UTF_16BE")):l["$=="](s(C,"BOM_BYTES_UTF_8"))?(t=t.$byteslice(3,t.$bytesize())).$encoding()["$=="](s(C,"UTF_8"))||(t=t.$encode(s(C,"UTF_8"))):$(t.$encoding()["$!="](s(C,"UTF_8")))&&(t=t.$encode(s(C,"UTF_8"))),$(e)?u([],"tap",[],((n=function(e){var r,a=n.$$s||this;return null==e&&(e=i),u(t,"each_line",[],((r=function(t){return r.$$s,null==t&&(t=i),e["$<<"](t.$rstrip())}).$$s=a,r.$$arity=1,r))}).$$s=this,n.$$arity=1,n)):u([],"tap",[],((r=function(e){var n,a=r.$$s||this;return null==e&&(e=i),u(t,"each_line",[],((n=function(t){return n.$$s,null==t&&(t=i),e["$<<"](t.$chomp())}).$$s=a,n.$$arity=1,n))}).$$s=this,r.$$arity=1,r)))},p.$$arity=-2),t.def(R,"$uriish?",h=function(t){var e;return $(e=t["$include?"](":"))?s(C,"UriSniffRx")["$match?"](t):e},h.$$arity=1),s(C,"RUBY_ENGINE")["$=="]("opal")&&t.def(R,"$encode_uri_component",y=function(t){return encodeURIComponent(t).replace(/%20|[!'()*]/g,(function(t){return"%20"===t?"+":"%"+t.charCodeAt(0).toString(16)}))},y.$$arity=1),t.def(R,"$encode_spaces_in_uri",m=function(t){return $(t["$include?"](" "))?t.$gsub(" ","%20"):t},m.$$arity=1),t.def(R,"$rootname",g=function(t){var e;return $(e=t.$rindex("."))?$(t.$index("/",e))?t:t.$slice(0,e):t},g.$$arity=1),t.def(R,"$basename",v=function(t,e){var n=this;return null==e&&(e=i),$(e)?a("::","File").$basename(t,e["$=="](!0)?n.$extname(t):e):a("::","File").$basename(t)},v.$$arity=-2),t.def(R,"$extname?",b=function(t){var e,n;return $(e=n=t.$rindex("."))?t.$index("/",n)["$!"]():e},b.$$arity=1),$(a(a("::","File"),"ALT_SEPARATOR"))?t.def(R,"$extname",x=function(t,e){var n,r;return null==e&&(e=""),$(r=t.$rindex("."))?$($(n=t.$index("/",r))?n:t.$index(a(a("::","File"),"ALT_SEPARATOR"),r))?e:t.$slice(r,t.$length()):e},x.$$arity=-2):t.def(R,"$extname",w=function(t,e){var n;return null==e&&(e=""),$(n=t.$rindex("."))?$(t.$index("/",n))?e:t.$slice(n,t.$length()):e},w.$$arity=-2),t.def(R,"$mkdir_p",k=function(e){var n=i;if($(a("::","File")["$directory?"](e)))return i;(n=a("::","File").$dirname(e))["$=="](".")||this.$mkdir_p(n);try{return a("::","Dir").$mkdir(e)}catch(n){if(!t.rescue(n,[a("::","SystemCallError")]))throw n;try{return $(a("::","File")["$directory?"](e))?i:this.$raise()}finally{t.pop_exception()}}},k.$$arity=1),t.const_set(C[0],"ROMAN_NUMERALS",c(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),R.$private_constant("ROMAN_NUMERALS"),t.def(R,"$int_to_roman",A=function(e){var n;return u(s(C,"ROMAN_NUMERALS"),"map",[],(n=function(r,a){var s,o,$,l,u;return n.$$s,null==r&&(r=i),null==a&&(a=i),o=e.$divmod(a),$=null==(s=t.to_ary(o))[0]?i:s[0],e=null==s[1]?i:s[1],u=$,"number"==typeof(l=r)&&"number"==typeof u?l*u:l["$*"](u)},n.$$s=this,n.$$arity=2,n)).$join()},A.$$arity=1),t.def(R,"$nextval",E=function(t){var e=i;return $(a("::","Integer")["$==="](t))?n(t,1):(e=t.$to_i(),$(e.$to_s()["$!="](t.$to_s()))?n(t["$[]"](0).$ord(),1).$chr():n(e,1))},E.$$arity=1),t.def(R,"$resolve_class",O=function(t){return $(a("::","Class")["$==="](t))?t:$(a("::","String")["$==="](t))?this.$class_for_name(t):i},O.$$arity=1),t.def(R,"$class_for_name",S=function(e){var n=i;try{return $(a("::","Class")["$==="](n=a("::","Object").$const_get(e,!1)))||this.$raise(),n}catch(n){if(!t.rescue(n,[s(C,"StandardError")]))throw n;try{return this.$raise(a("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},S.$$arity=1)}(f[0],f)}(r[0],r)},Opal.modules.logger=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.klass),o=t.module,$=t.send,l=t.truthy;return t.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(n,u,c){var d,f,_,p,h,y,m,g,v,b,x,w,k,A,E,O=s(n,null,"Logger"),S=[O].concat(c);return O.$$prototype.level=O.$$prototype.progname=O.$$prototype.pipe=O.$$prototype.formatter=r,function(e,n){var r=[o(e,"Severity")].concat(n);t.const_set(r[0],"DEBUG",0),t.const_set(r[0],"INFO",1),t.const_set(r[0],"WARN",2),t.const_set(r[0],"ERROR",3),t.const_set(r[0],"FATAL",4),t.const_set(r[0],"UNKNOWN",5)}(S[0],S),O.$include(a(S,"Severity")),t.const_set(S[0],"SEVERITY_LABELS",$(a(S,"Severity").$constants(),"map",[],(d=function(t){return d.$$s,null==t&&(t=r),[a(S,"Severity").$const_get(t),t.$to_s()]},d.$$s=O,d.$$arity=1,d)).$to_h()),function(e,n,o){var $,u,c=s(e,null,"Formatter"),d=[c].concat(o);t.const_set(d[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),t.const_set(d[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),t.def(c,"$call",$=function(t,e,n,r){return this.$format(a(d,"MESSAGE_FORMAT"),t.$chr(),e.$strftime(a(d,"DATE_TIME_FORMAT")),t,n,this.$message_as_string(r))},$.$$arity=4),t.def(c,"$message_as_string",u=function(t){var e,n,a,s=r;return s=t,i("::","String")["$==="](s)?t:i("::","Exception")["$==="](s)?(n=t.$message()+" ("+t.$class()+")\n",a=(l(e=t.$backtrace())?e:[]).$join("\n"),"number"==typeof n&&"number"==typeof a?n+a:n["$+"](a)):t.$inspect()},u.$$arity=1)}(S[0],0,S),O.$attr_reader("level"),O.$attr_accessor("progname"),O.$attr_accessor("formatter"),t.def(O,"$initialize",f=function(t){return this.pipe=t,this.level=a(S,"DEBUG"),this.formatter=a(S,"Formatter").$new()},f.$$arity=1),t.def(O,"$level=",_=function(t){var e=r;return l(i("::","Integer")["$==="](t))?this.level=t:l(e=a(S,"SEVERITY_LABELS").$key(t.$to_s().$upcase()))?this.level=e:this.$raise(a(S,"ArgumentError"),"invalid log level: "+t)},_.$$arity=1),t.def(O,"$info",p=function(t){var e=p.$$p,n=e||r;return e&&(p.$$p=null),e&&(p.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"INFO"),r,t],n.$to_proc())},p.$$arity=-1),t.def(O,"$debug",h=function(t){var e=h.$$p,n=e||r;return e&&(h.$$p=null),e&&(h.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"DEBUG"),r,t],n.$to_proc())},h.$$arity=-1),t.def(O,"$warn",y=function(t){var e=y.$$p,n=e||r;return e&&(y.$$p=null),e&&(y.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"WARN"),r,t],n.$to_proc())},y.$$arity=-1),t.def(O,"$error",m=function(t){var e=m.$$p,n=e||r;return e&&(m.$$p=null),e&&(m.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"ERROR"),r,t],n.$to_proc())},m.$$arity=-1),t.def(O,"$fatal",g=function(t){var e=g.$$p,n=e||r;return e&&(g.$$p=null),e&&(g.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"FATAL"),r,t],n.$to_proc())},g.$$arity=-1),t.def(O,"$unknown",v=function(t){var e=v.$$p,n=e||r;return e&&(v.$$p=null),e&&(v.$$p=null),null==t&&(t=r),$(this,"add",[a(S,"UNKNOWN"),r,t],n.$to_proc())},v.$$arity=-1),t.def(O,"$info?",b=function(){return e(this.level,a(S,"INFO"))},b.$$arity=0),t.def(O,"$debug?",x=function(){return e(this.level,a(S,"DEBUG"))},x.$$arity=0),t.def(O,"$warn?",w=function(){return e(this.level,a(S,"WARN"))},w.$$arity=0),t.def(O,"$error?",k=function(){return e(this.level,a(S,"ERROR"))},k.$$arity=0),t.def(O,"$fatal?",A=function(){return e(this.level,a(S,"FATAL"))},A.$$arity=0),t.def(O,"$add",E=function(e,n,s){var o,$,u,c=E.$$p,d=c||r;return c&&(E.$$p=null),c&&(E.$$p=null),null==n&&(n=r),null==s&&(s=r),l(($=e=l(o=e)?o:a(S,"UNKNOWN"),u=this.level,"number"==typeof $&&"number"==typeof u?$<u:$["$<"](u)))||(s=l(o=s)?o:this.progname,l(n)||(d!==r?n=t.yieldX(d,[]):(n=s,s=this.progname)),this.pipe.$write(this.formatter.$call(l(o=a(S,"SEVERITY_LABELS")["$[]"](e))?o:"ANY",i("::","Time").$now(),s,n))),!0},E.$$arity=-2),r&&"add"}(n[0],0,n)},Opal.modules["asciidoctor/logging"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,i=[],a=t.nil,s=t.const_get_qualified,o=t.const_get_relative,$=(t.breaker,t.slice,t.module),l=t.klass,u=t.send,c=t.truthy,d=t.hash2,f=t.gvars;return t.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$tap","$each","$constants","$const_get","$[]=","$<<","$clear","$empty?","$max","$map","$attr_accessor","$memoize_logger","$private","$private_class_method","$extend","$logger","$merge"]),r.$require("logger"),function(r,i){var _=[$(r,"Asciidoctor")].concat(i);!function(r,i,f){var _,p,h=l(r,i,"Logger"),y=[h].concat(f);h.$$prototype.max_severity=a,h.$attr_reader("max_severity"),t.def(h,"$initialize",_=function(n){var r=_.$$p,i=this,s=a,$=a,l=a,c=a;for(r&&(_.$$p=null),l=0,c=arguments.length,$=new Array(c);l<c;l++)$[l]=arguments[l];return t.slice.call(arguments,0,arguments.length),u(i,t.find_super_dispatcher(i,"initialize",_,!1),$,r),s=["asciidoctor"],u(i,"progname=",t.to_a(s)),s[e(s.length,1)],s=[o(y,"BasicFormatter").$new()],u(i,"formatter=",t.to_a(s)),s[e(s.length,1)],s=[o(y,"WARN")],u(i,"level=",t.to_a(s)),s[e(s.length,1)]},_.$$arity=-1),t.def(h,"$add",p=function(e,r,i){var s,$=p.$$p,l=this,d=a,f=a,_=a;for($&&(p.$$p=null),f=0,_=arguments.length,d=new Array(_);f<_;f++)d[f]=arguments[f];return null==r&&(r=a),null==i&&(i=a),c(n(e=c(s=e)?s:o(y,"UNKNOWN"),l.max_severity=c(s=l.max_severity)?s:e))&&(l.max_severity=e),u(l,t.find_super_dispatcher(l,"add",p,!1),d,$)},p.$$arity=-2),function(e,n,r){var i,a=l(e,n,"BasicFormatter"),$=[a].concat(r);t.const_set($[0],"SEVERITY_LABELS",d(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),t.def(a,"$call",i=function(t,e,n,r){var i;return n+": "+(c(i=o($,"SEVERITY_LABELS")["$[]"](t))?i:t)+": "+(c(s("::","String")["$==="](r))?r:r.$inspect())+o($,"LF")},i.$$arity=4)}(y[0],o(y,"Formatter"),y),function(e,n){var r,i=$(e,"AutoFormattingMessage");[i].concat(n),t.def(i,"$inspect",r=function(){var t;return c(t=this["$[]"]("source_location"))?t+": "+this["$[]"]("text"):this["$[]"]("text")},r.$$arity=0)}(y[0],y)}(_[0],s("::","Logger"),_),function(n,r,i){var s,$,f,_,p,h,y=l(n,r,"MemoryLogger"),m=[y].concat(i);y.$$prototype.messages=a,t.const_set(m[0],"SEVERITY_LABELS",u(d([],{}),"tap",[],((s=function(n){var r,i=s.$$s||this;return null==n&&(n=a),u(o(m,"Severity").$constants(!1),"each",[],((r=function(i){var s;return r.$$s,null==i&&(i=a),s=[o(m,"Severity").$const_get(i,!1),i],u(n,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=i,r.$$arity=1,r))}).$$s=y,s.$$arity=1,s))),y.$attr_reader("messages"),t.def(y,"$initialize",$=function(){var n;return n=[o(m,"WARN")],u(this,"level=",t.to_a(n)),e(n.length,1),this.messages=[]},$.$$arity=0),t.def(y,"$add",f=function(e,n,r){var i,s=f.$$p,$=s||a;return s&&(f.$$p=null),null==n&&(n=a),null==r&&(r=a),c(n)||(n=$!==a?t.yieldX($,[]):r),this.messages["$<<"](d(["severity","message"],{severity:o(m,"SEVERITY_LABELS")["$[]"](c(i=e)?i:o(m,"UNKNOWN")),message:n})),!0},f.$$arity=-2),t.def(y,"$clear",_=function(){return this.messages.$clear()},_.$$arity=0),t.def(y,"$empty?",p=function(){return this.messages["$empty?"]()},p.$$arity=0),t.def(y,"$max_severity",h=function(){var t;return c(this["$empty?"]())?a:u(this.messages,"map",[],(t=function(e){return t.$$s,null==e&&(e=a),o(m,"Severity").$const_get(e["$[]"]("severity"),!1)},t.$$s=this,t.$$arity=1,t)).$max()},h.$$arity=0)}(_[0],s("::","Logger"),_),function(r,i,s){var $,d,f=l(r,i,"NullLogger"),_=[f].concat(s);f.$$prototype.max_severity=a,f.$attr_reader("max_severity"),t.def(f,"$initialize",$=function(){var n;return n=[o(_,"WARN")],u(this,"level=",t.to_a(n)),n[e(n.length,1)]},$.$$arity=0),t.def(f,"$add",d=function(t,e,r){var i;return null==e&&(e=a),null==r&&(r=a),c(n(t=c(i=t)?i:o(_,"UNKNOWN"),this.max_severity=c(i=this.max_severity)?i:t))&&(this.max_severity=t),!0},d.$$arity=-2)}(_[0],s("::","Logger"),_),function(e,n){var r=$(e,"LoggerManager"),i=[r].concat(n);r.logger_class=o(i,"Logger"),function(e,n){var r,i,s,o=[e].concat(n);e.$attr_accessor("logger_class"),t.def(e,"$logger",r=function(t){var e;return null==this.logger&&(this.logger=a),null==this.logger_class&&(this.logger_class=a),null==f.stderr&&(f.stderr=a),null==t&&(t=f.stderr),this.$memoize_logger(),this.logger=c(e=this.logger)?e:this.logger_class.$new(t)},r.$$arity=-1),t.def(e,"$logger=",i=function(t){var e;return null==this.logger_class&&(this.logger_class=a),null==f.stderr&&(f.stderr=a),this.logger=c(e=t)?e:this.logger_class.$new(f.stderr)},i.$$arity=1),e.$private(),t.def(e,"$memoize_logger",s=function(){return function(e,n){return[e].concat(n),t.alias(e,"logger","logger"),e.$attr_reader("logger")}(t.get_singleton_class(this),o)},s.$$arity=0)}(t.get_singleton_class(r),i)}(_[0],_),function(e,n){var r,i,l,u,f=$(e,"Logging"),_=[f].concat(n);f.$private_class_method(c((t.defs(f,"$included",i=function(t){return t.$extend(o(_,"Logging"))},i.$$arity=1),r=a&&"included"))?r:"included"),t.def(f,"$logger",l=function(){return o(_,"LoggerManager").$logger()},l.$$arity=0),t.def(f,"$message_with_context",u=function(t,e){return null==e&&(e=d([],{})),d(["text"],{text:t}).$merge(e).$extend(s(o(_,"Logger"),"AutoFormattingMessage"))},u.$$arity=-2)}(_[0],_)}(i[0],i)},Opal.modules["asciidoctor/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.hash2,$=t.send,l=t.truthy,u=t.hash;return t.add_stubs(["$==","$join","$to_a","$new","$empty?","$escape","$[]=","$-"]),function(n,c){var d,f,_=s(n,"Asciidoctor"),p=[_].concat(c);!function(t,e){[s(t,"Rx")].concat(e)}(p[0],p),t.const_set(p[0],"AuthorInfoLineRx",new RegExp("^("+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"\\-'.]*)(?: +("+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"\\-'.]*))?(?: +("+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(p[0],"AuthorDelimiterRx",/;(?: |$)/),t.const_set(p[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+a(p,"CC_ANY")+"*?),)? *(?!:)("+a(p,"CC_ANY")+"*?)(?: *(?!^),?: *("+a(p,"CC_ANY")+"*))?$")),t.const_set(p[0],"ManpageTitleVolnumRx",new RegExp("^("+a(p,"CC_ANY")+"+?) *\\( *("+a(p,"CC_ANY")+"+?) *\\)$")),t.const_set(p[0],"ManpageNamePurposeRx",new RegExp("^("+a(p,"CC_ANY")+"+?) +- +("+a(p,"CC_ANY")+"+)$")),t.const_set(p[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+a(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"EvalExpressionRx",new RegExp("^("+a(p,"CC_ANY")+"+?) *([=!><]=|[><]) *("+a(p,"CC_ANY")+"+)$")),t.const_set(p[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+a(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),t.const_set(p[0],"AttributeEntryRx",new RegExp("^:(!?"+a(p,"CG_WORD")+"[^:]*):(?:[ \\t]+("+a(p,"CC_ANY")+"*))?$")),t.const_set(p[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+a(p,"CC_WORD")+"-]")),a(p,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(p[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+a(p,"CC_ALL")+"*)\\]$")),t.const_set(p[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"-]*|(set|counter2?):"+a(p,"CC_ANY")+"+?)(\\\\)?\\}")),t.const_set(p[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+))?)\\]\\]$")),t.const_set(p[0],"BlockAttributeListRx",new RegExp("^\\[(|["+a(p,"CC_WORD")+".#%{,\"']"+a(p,"CC_ANY")+"*)\\]$")),t.const_set(p[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+a(p,"CC_WORD")+".#%{,\"']"+a(p,"CC_ANY")+"*|\\[(?:|["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*(?:, *"+a(p,"CC_ANY")+"+)?)\\])\\]$")),t.const_set(p[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"AdmonitionParagraphRx",new RegExp("^("+a(p,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),t.const_set(p[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+a(p,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(p[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+a(p,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(p[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+a(p,"CC_ANY")+"*?"+a(p,"CG_ALNUM")+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+))?\\]\\]$")),t.const_set(p[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+a(p,"CC_WORD")+"\\-.]+?")),t.const_set(p[0],"SectionLevelStyleRx",/^sect\d$/),t.const_set(p[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+a(p,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])")),t.const_set(p[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"OrderedListMarkerRxMap",o(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(p[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+a(p,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+a(p,"CC_ANY")+"*)$)")),t.const_set(p[0],"DescriptionListSiblingRx",o(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+a(p,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+a(p,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+a(p,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+a(p,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+a(p,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+a(p,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+a(p,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+a(p,"CC_ANY")+"*)$)")})),t.const_set(p[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+a(p,"CC_ANY")+"*)$")),t.const_set(p[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),t.const_set(p[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),t.const_set(p[0],"CalloutExtractRxMap",$(i("::","Hash"),"new",[],((d=function(n,s){var o;return d.$$s,null==n&&(n=r),null==s&&(s=r),o=[s,new RegExp("("+(l(s["$empty?"]())?"":i("::","Regexp").$escape(s)+" ?")+")?"+a(p,"CalloutExtractRxt"))],$(n,"[]=",t.to_a(o)),o[e(o.length,1)]}).$$s=_,d.$$arity=2,d))),t.const_set(p[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+a(p,"CC_EOL")+")")),t.const_set(p[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+a(p,"CC_EOL")+")")),t.const_set(p[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+a(p,"CC_EOL")+")"),t.const_set(p[0],"CalloutSourceRxMap",$(i("::","Hash"),"new",[],((f=function(n,s){var o;return f.$$s,null==n&&(n=r),null==s&&(s=r),o=[s,new RegExp("("+(l(s["$empty?"]())?"":i("::","Regexp").$escape(s)+" ?")+")?"+a(p,"CalloutSourceRxt"))],$(n,"[]=",t.to_a(o)),o[e(o.length,1)]}).$$s=_,f.$$arity=2,f))),t.const_set(p[0],"ListRxMap",o(["ulist","olist","dlist","colist"],{ulist:a(p,"UnorderedListRx"),olist:a(p,"OrderedListRx"),dlist:a(p,"DescriptionListRx"),colist:a(p,"CalloutListRx")})),t.const_set(p[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),t.const_set(p[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(p[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(p[0],"CustomBlockMacroRx",new RegExp("^("+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"-]*)::(|\\S|\\S"+a(p,"CC_ANY")+"*?\\S)\\[("+a(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+a(p,"CC_ANY")+"*?\\S)\\[("+a(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+a(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+?))?\\]\\]|anchor:(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+a(p,"CC_ANY")+"*?[^\\\\])\\]))")),t.const_set(p[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+a(p,"CC_ANY")+"*?[^\\\\])\\])")),t.const_set(p[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+?))?\\]\\]")),t.const_set(p[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+a(p,"CC_ALPHA")+"_:]["+a(p,"CC_WORD")+"\\-:.]*)(?:, *("+a(p,"CC_ANY")+"+?))?\\]\\]\\]")),t.const_set(p[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+a(p,"CG_WORD")+"(?:&amp;|["+a(p,"CC_WORD")+"\\-.%+])*@"+a(p,"CG_ALNUM")+"["+a(p,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b")),t.const_set(p[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+a(p,"CC_WORD")+"-]+)?)\\[(?:|("+a(p,"CC_ALL")+"*?[^\\\\]))\\](?!</a>)","m")),t.const_set(p[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+a(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+a(p,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+a(p,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(p[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+a(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineLinkRx",new RegExp("(^|link:|"+a(p,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];\"'])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+a(p,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(p[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+a(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"MacroNameRx",new RegExp("^"+a(p,"CG_WORD")+"["+a(p,"CC_WORD")+"-]*$")),t.const_set(p[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+a(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+a(p,"CG_WORD")+"|["+a(p,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+a(p,"CC_ALL")+"*?[^\\\\]))\\]","m")),t.const_set(p[0],"InlineMenuRx",new RegExp('\\\\?"(['+a(p,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(p[0],"InlinePassRx",u(!1,["+","`",new RegExp("(^|[^"+a(p,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+a(p,"CC_ALL")+"*?\\S)\\4)(?!"+a(p,"CG_WORD")+")","m")],!0,["`",r,new RegExp("(^|[^`"+a(p,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+a(p,"CC_ALL")+"*?\\S)\\4)(?![`"+a(p,"CC_WORD")+"])","m")])),t.const_set(p[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+a(p,"CC_ALL")+"*?\\S)\\+$","m")),t.const_set(p[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+a(p,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+a(p,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(p[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+a(p,"CC_WORD")+"#/.:{]"+a(p,"CC_ALL")+"*?)&gt;&gt;|xref:(["+a(p,"CC_WORD")+"#/.:{]"+a(p,"CC_ALL")+"*?)\\[(?:\\]|("+a(p,"CC_ALL")+"*?[^\\\\])\\]))","m")),a(p,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(p[0],"HardLineBreakRx",new RegExp("^("+a(p,"CC_ANY")+"*) \\+$","m")),t.const_set(p[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(p[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(p[0],"BlankLineRx",/\n{2,}/),t.const_set(p[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(p[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(p[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(p[0],"SubModifierSniffRx",/[+-]/),t.const_set(p[0],"TrailingDigitsRx",/\d+$/),t.const_set(p[0],"UriSniffRx",new RegExp("^"+a(p,"CG_ALPHA")+"["+a(p,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(p[0],"XmlSanitizeRx",/<[^>]+>/)}(n[0],n)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice),c=t.module,d=t.hash2,f=t.hash,_=t.truthy,p=t.send,h=t.gvars;return t.add_stubs(["$freeze","$+","$keys","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$clear","$split","$apply_subs","$==","$gsub","$match?","$compat_mode","$convert_quoted_text","$attributes","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$info","$squeeze","$delete","$reject","$start_with?","$do_replacement","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$slice","$length","$names","$config","$merge","$[]=","$-","$normalize_text","$parse_attributes","$process_method","$text","$expand_subs","$text=","$convert","$class","$strip","$>","$index","$min","$compact","$end_with?","$map","$chop","$new","$pop","$rstrip","$register","$tr","$basename","$parse","$<<","$lstrip","$split_simple_csv","$partition","$extract_attributes_from_text","$sub","$encode_uri_component","$style","$extname?","$rindex","$info?","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$resolve_id","$find","$footnotes","$id","$<","$size","$attr?","$attr","$to_s","$read_next_id","$callouts","$syntax_highlighter","$highlight?","$sub_source","$extract_callouts","$name","$to_sym","$to_i","$resolve_lines_to_highlight","$highlight","$nil_or_empty?","$restore_callouts","$count","$to_a","$|","$sort","$*","$parse_quoted_text_attributes","$resolve_pass_subs","$extract_inner_passthrough","$basebackend?","$error","$chr","$drop","$&","$resolve_subs","$resolve_block_subs","$parse_into","$private","$=~","$shorthand_property_syntax","$concat","$each_char"]),function(s,y){var m=[c(s,"Asciidoctor")].concat(y);!function(s,y){var m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X=c(s,"Substitutors"),K=[X].concat(y);t.const_set(K[0],"SpecialCharsRx",/[<&>]/),t.const_set(K[0],"SpecialCharsTr",d([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(K[0],"QuotedTextSniffRx",f(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(K[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(K[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(K[0],"NO_SUBS",[]).$freeze(),t.const_set(K[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(K[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(K[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(K[0],"SUB_GROUPS",d(["none","normal","verbatim","specialchars"],{none:l(K,"NO_SUBS"),normal:l(K,"NORMAL_SUBS"),verbatim:l(K,"VERBATIM_SUBS"),specialchars:l(K,"BASIC_SUBS")})),t.const_set(K[0],"SUB_HINTS",d(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(K[0],"SUB_OPTIONS",d(["block","inline"],{block:e(e(l(K,"SUB_GROUPS").$keys(),l(K,"NORMAL_SUBS")),["callouts"]),inline:e(l(K,"SUB_GROUPS").$keys(),l(K,"NORMAL_SUBS"))})),t.const_set(K[0],"CAN",""),t.const_set(K[0],"DEL",""),t.const_set(K[0],"PASS_START",""),t.const_set(K[0],"PASS_END",""),t.const_set(K[0],"PassSlotRx",new RegExp(l(K,"PASS_START")+"(\\d+)"+l(K,"PASS_END"))),t.const_set(K[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+l(K,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+l(K,"PASS_END")+"</span>")),t.const_set(K[0],"RS","\\"),t.const_set(K[0],"R_SB","]"),t.const_set(K[0],"ESC_R_SB","\\]"),t.const_set(K[0],"PLUS","+"),t.def(X,"$apply_subs",m=function(t,e){var n,r,i,a=o,s=o;return null==this.passthroughs&&(this.passthroughs=o),null==this.passthroughs_locked&&(this.passthroughs_locked=o),null==e&&(e=l(K,"NORMAL_SUBS")),_(_(n=t["$empty?"]())?n:e["$!"]())?t:(_(i=$("::","Array")["$==="](t))&&(t=_(t["$[]"](1))?t.$join(l(K,"LF")):t["$[]"](0)),_(e["$include?"]("macros"))&&(t=this.$extract_passthroughs(t),_(this.passthroughs["$empty?"]())||(a=this.passthroughs,this.passthroughs_locked=_(n=this.passthroughs_locked)?n:s=!0)),p(e,"each",[],((r=function(n){var i=r.$$s||this,a=o;return null==n&&(n=o),"specialcharacters"["$==="](a=n)?t=i.$sub_specialchars(t):"quotes"["$==="](a)?t=i.$sub_quotes(t):"attributes"["$==="](a)?_(t["$include?"](l(K,"ATTR_REF_HEAD")))?t=i.$sub_attributes(t):o:"replacements"["$==="](a)?t=i.$sub_replacements(t):"macros"["$==="](a)?t=i.$sub_macros(t):"highlight"["$==="](a)?t=i.$highlight_source(t,e["$include?"]("callouts")):"callouts"["$==="](a)?_(e["$include?"]("highlight"))?o:t=i.$sub_callouts(t):"post_replacements"["$==="](a)?t=i.$sub_post_replacements(t):i.$logger().$warn("unknown substitution type "+n)}).$$s=this,r.$$arity=1,r)),_(a)&&(t=this.$restore_passthroughs(t),_(s)&&(a.$clear(),this.passthroughs_locked=o)),_(i)?t.$split(l(K,"LF"),-1):t)},m.$$arity=-2),t.def(X,"$apply_normal_subs",g=function(t){return this.$apply_subs(t,l(K,"NORMAL_SUBS"))},g.$$arity=1),t.def(X,"$apply_header_subs",v=function(t){return this.$apply_subs(t,l(K,"HEADER_SUBS"))},v.$$arity=1),t.alias(X,"apply_title_subs","apply_subs"),t.def(X,"$apply_reftext_subs",b=function(t){return this.$apply_subs(t,l(K,"REFTEXT_SUBS"))},b.$$arity=1),l(K,"RUBY_ENGINE")["$=="]("opal")&&t.def(X,"$sub_specialchars",x=function(t){var e,n;return _(_(e=_(n=t["$include?"](">"))?n:t["$include?"]("&"))?e:t["$include?"]("<"))?t.$gsub(l(K,"SpecialCharsRx"),l(K,"SpecialCharsTr")):t},x.$$arity=1),t.alias(X,"sub_specialcharacters","sub_specialchars"),t.def(X,"$sub_quotes",w=function(t){var e,n;return null==this.document&&(this.document=o),_(l(K,"QuotedTextSniffRx")["$[]"](n=this.document.$compat_mode())["$match?"](t))&&p(l(K,"QUOTE_SUBS")["$[]"](n),"each",[],((e=function(n,r,i){var a,s=e.$$s||this;return null==n&&(n=o),null==r&&(r=o),null==i&&(i=o),t=p(t,"gsub",[i],((a=function(){var t=a.$$s||this;return null==h["~"]&&(h["~"]=o),t.$convert_quoted_text(h["~"],n,r)}).$$s=s,a.$$arity=0,a))}).$$s=this,e.$$arity=3,e)),t},w.$$arity=1),t.def(X,"$sub_attributes",k=function(e,n){var r,i,a,s,$=o,u=o,c=o,f=o,y=o,m=o,g=o,v=o;return null==this.document&&(this.document=o),null==n&&(n=d([],{})),$=this.document.$attributes(),u=c=f=y=m=g=o,e=p(e,"gsub",[l(K,"AttributeReferenceRx")],((r=function(){var e,i,a,s,d=r.$$s||this,v=o,b=o,x=o,w=o;return null==d.document&&(d.document=o),_(_(e=((i=h["~"])===o?o:i["$[]"](1))["$=="](l(K,"RS")))?e:((i=h["~"])===o?o:i["$[]"](4))["$=="](l(K,"RS")))?"{"+((e=h["~"])===o?o:e["$[]"](2))+"}":_((e=h["~"])===o?o:e["$[]"](3))?(v=(b=((e=h["~"])===o?o:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](v)?(i=l(K,"Parser").$store_attribute(b["$[]"](0),_(a=b["$[]"](1))?a:"",d.document),null==(e=t.to_ary(i))[0]||e[0],x=null==e[1]?o:e[1],u=_(_(e=x)?e:(m=_(i=m)?i:_(a=$["$[]"]("attribute-undefined"))?a:l(K,"Compliance").$attribute_undefined())["$!="]("drop-line"))?y=l(K,"DEL"):c=l(K,"CAN")):"counter2"["$==="](v)?(p(d.document,"counter",t.to_a(b)),u=y=l(K,"DEL")):p(d.document,"counter",t.to_a(b))):_($["$key?"](w=((e=h["~"])===o?o:e["$[]"](2)).$downcase()))?$["$[]"](w):_(x=l(K,"INTRINSIC_ATTRIBUTES")["$[]"](w))?x:(v=g=_(e=g)?e:_(i=_(a=n["$[]"]("attribute_missing"))?a:$["$[]"]("attribute-missing"))?i:l(K,"Compliance").$attribute_missing(),"drop"["$==="](v)?u=y=l(K,"DEL"):"drop-line"["$==="](v)?((f=_(e=f)?e:_(i=n["$[]"]("drop_line_severity"))?i:"info")["$=="]("info")&&p(d.$logger(),"info",[],((s=function(){return s.$$s,"dropping line containing reference to missing attribute: "+w}).$$s=d,s.$$arity=0,s)),u=c=l(K,"CAN")):"warn"["$==="](v)?(d.$logger().$warn("skipping reference to missing attribute: "+w),(e=h["~"])===o?o:e["$[]"](0)):(e=h["~"])===o?o:e["$[]"](0))}).$$s=this,r.$$arity=0,r)),_(u)?_(y)?(v=e.$squeeze(l(K,"DEL")).$split(l(K,"LF"),-1),_(c)?p(v,"reject",[],(i=function(t){var e,n,r;return i.$$s,null==t&&(t=o),_(e=_(n=_(r=t["$=="](l(K,"DEL")))?r:t["$=="](l(K,"CAN")))?n:t["$start_with?"](l(K,"CAN")))?e:t["$include?"](l(K,"CAN"))},i.$$s=this,i.$$arity=1,i)).$join(l(K,"LF")).$delete(l(K,"DEL")):p(v,"reject",[],(a=function(t){return a.$$s,null==t&&(t=o),t["$=="](l(K,"DEL"))},a.$$s=this,a.$$arity=1,a)).$join(l(K,"LF")).$delete(l(K,"DEL"))):_(e["$include?"](l(K,"LF")))?p(e.$split(l(K,"LF"),-1),"reject",[],(s=function(t){var e,n;return s.$$s,null==t&&(t=o),_(e=_(n=t["$=="](l(K,"CAN")))?n:t["$start_with?"](l(K,"CAN")))?e:t["$include?"](l(K,"CAN"))},s.$$s=this,s.$$arity=1,s)).$join(l(K,"LF")):"":e},k.$$arity=-2),t.def(X,"$sub_replacements",A=function(t){var e;return _(l(K,"ReplaceableTextRx")["$match?"](t))&&p(l(K,"REPLACEMENTS"),"each",[],((e=function(n,r,i){var a,s=e.$$s||this;return null==n&&(n=o),null==r&&(r=o),null==i&&(i=o),t=p(t,"gsub",[n],((a=function(){var t=a.$$s||this;return null==h["~"]&&(h["~"]=o),t.$do_replacement(h["~"],r,i)}).$$s=s,a.$$arity=0,a))}).$$s=this,e.$$arity=3,e)),t},A.$$arity=1),t.def(X,"$sub_macros",E=function(i){var a,s,c,f,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T=o,L=o,M=o;return null==this.document&&(this.document=o),null==this.context&&(this.context=o),null==this.parent&&(this.parent=o),S=i["$include?"]("["),R=i["$include?"](":"),C=_(a=S)?R:a,I=_(a=C)?i["$include?"](":["):a,T=(L=this.document).$attributes(),_(_(a=M=L.$extensions())?M["$inline_macros?"]():a)&&p(M.$inline_macros(),"each",[],((s=function(e){var r,a=s.$$s||this;return null==e&&(e=o),i=p(i,"gsub",[e.$instance().$regexp()],((r=function(){var i,a,s,$=r.$$s||this,u=o,c=o,f=o,y=o,m=o,g=o,v=o,b=o;return null==h["~"]&&(h["~"]=o),_((u=(i=h["~"])===o?o:i["$[]"](0))["$start_with?"](l(K,"RS")))?((i=h["~"])===o?o:i["$[]"](0)).$slice(1,((i=h["~"])===o?o:i["$[]"](0)).$length()):(_(h["~"].$names()["$empty?"]())?(i=[(a=h["~"])===o?o:a["$[]"](1),(a=h["~"])===o?o:a["$[]"](2)],c=i[0],f=i[1]):(i=[function(){try{return h["~"]["$[]"]("target")}catch(e){if(!t.rescue(e,[l(K,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),function(){try{return h["~"]["$[]"]("content")}catch(e){if(!t.rescue(e,[l(K,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}()],c=i[0],f=i[1]),s=_(y=(m=e.$config())["$[]"]("default_attrs"))?y.$merge():d([],{}),_(f)&&(_(f["$empty?"]())?m["$[]"]("content_model")["$=="]("attributes")||(g=["text",f],p(s,"[]=",t.to_a(g)),g[n(g.length,1)]):(f=$.$normalize_text(f,!0,!0),m["$[]"]("content_model")["$=="]("attributes")?$.$parse_attributes(f,_(i=_(a=m["$[]"]("positional_attrs"))?a:m["$[]"]("pos_attrs"))?i:[],d(["into"],{into:s})):(g=["text",f],p(s,"[]=",t.to_a(g)),g[n(g.length,1)])),c=_(i=c)?i:m["$[]"]("format")["$=="]("short")?f:c),_(l(K,"Inline")["$==="](v=e.$process_method()["$[]"]($,c,s)))?(_(b=v.$attributes().$delete("subs"))&&(g=[$.$apply_subs(v.$text(),$.$expand_subs(b))],p(v,"text=",t.to_a(g)),g[n(g.length,1)]),v.$convert()):_(v)?($.$logger().$info("expected substitution value for custom inline macro to be of type Inline; got "+v.$class()+": "+u),v):"")}).$$s=a,r.$$arity=0,r))}).$$s=this,s.$$arity=1,s)),_(T["$key?"]("experimental"))&&(_(_(a=I)?_(c=i["$include?"]("kbd:"))?c:i["$include?"]("btn:"):a)&&(i=p(i,"gsub",[l(K,"InlineKbdBtnMacroRx")],((f=function(){var i,a,s,$=f.$$s||this,u=o,c=o,y=o,m=o;return _((i=h["~"])===o?o:i["$[]"](1))?((i=h["~"])===o?o:i["$[]"](0)).$slice(1,((i=h["~"])===o?o:i["$[]"](0)).$length()):((i=h["~"])===o?o:i["$[]"](2))["$=="]("kbd")?(_((u=((i=h["~"])===o?o:i["$[]"](3)).$strip())["$include?"](l(K,"R_SB")))&&(u=u.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB"))),_(_(i=r(u.$length(),1))?c=_(c=u.$index(",",1))?[c,u.$index("+",1)].$compact().$min():u.$index("+",1):i)?(y=u.$slice(c,1),_(u["$end_with?"](y))?(m=[-1,e((u=p(u.$chop().$split(y,-1),"map",[],((a=function(t){return a.$$s,null==t&&(t=o),t.$strip()}).$$s=$,a.$$arity=1,a)))["$[]"](-1),y)],p(u,"[]=",t.to_a(m)),m[n(m.length,1)]):u=p(u.$split(y),"map",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$strip()}).$$s=$,s.$$arity=1,s))):u=[u],l(K,"Inline").$new($,"kbd",o,d(["attributes"],{attributes:d(["keys"],{keys:u})})).$convert()):l(K,"Inline").$new($,"button",$.$normalize_text((i=h["~"])===o?o:i["$[]"](3),!0,!0)).$convert()}).$$s=this,f.$$arity=0,f))),_(_(a=C)?i["$include?"]("menu:"):a)&&(i=p(i,"gsub",[l(K,"InlineMenuMacroRx")],((y=function(){var t,e,n,r=y.$$s||this,i=o,a=o,s=o,$=o;return _(((t=h["~"])===o?o:t["$[]"](0))["$start_with?"](l(K,"RS")))?((t=h["~"])===o?o:t["$[]"](0)).$slice(1,((t=h["~"])===o?o:t["$[]"](0)).$length()):(n=(t=h["~"])===o?o:t["$[]"](1),_(i=(t=h["~"])===o?o:t["$[]"](2))?(_(i["$include?"](l(K,"R_SB")))&&(i=i.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB"))),_(a=_(i["$include?"]("&gt;"))?"&gt;":_(i["$include?"](","))?",":o)?$=(s=p(i.$split(a),"map",[],((e=function(t){return e.$$s,null==t&&(t=o),t.$strip()}).$$s=r,e.$$arity=1,e))).$pop():(s=(t=[[],i.$rstrip()])[0],$=t[1])):(s=(t=[[],o])[0],$=t[1]),l(K,"Inline").$new(r,"menu",o,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:n,submenus:s,menuitem:$})})).$convert())}).$$s=this,y.$$arity=0,y))),_(_(a=i["$include?"]('"'))?i["$include?"]("&gt;"):a)&&(i=p(i,"gsub",[l(K,"InlineMenuRx")],((m=function(){var e,n,r,i,a,s,$=m.$$s||this,c=o;return _(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))?((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length()):(n=p(((r=h["~"])===o?o:r["$[]"](1)).$split("&gt;"),"map",[],((i=function(t){return i.$$s,null==t&&(t=o),t.$strip()}).$$s=$,i.$$arity=1,i)),a=null==(e=t.to_ary(n))[0]?o:e[0],s=(c=u.call(e,1)).$pop(),l(K,"Inline").$new($,"menu",o,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:a,submenus:c,menuitem:s})})).$convert())}).$$s=this,m.$$arity=0,m)))),_(_(a=C)?_(c=i["$include?"]("image:"))?c:i["$include?"]("icon:"):a)&&(i=p(i,"gsub",[l(K,"InlineImageMacroRx")],((g=function(){var e,r,i=g.$$s||this,a=o,s=o,$=o,u=o;return _(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))?((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length()):(_(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"]("icon:"))?(a=(e=["icon",["size"]])[0],s=e[1]):(a=(e=["image",["alt","width","height"]])[0],s=e[1]),r=(e=h["~"])===o?o:e["$[]"](1),$=i.$parse_attributes((e=h["~"])===o?o:e["$[]"](2),s,d(["unescape_input"],{unescape_input:!0})),a["$=="]("icon")||(L.$register("images",r),u=["imagesdir",T["$[]"]("imagesdir")],p($,"[]=",t.to_a(u)),u[n(u.length,1)]),_(e=$["$[]"]("alt"))||(u=["alt",(u=["default-alt",l(K,"Helpers").$basename(r,!0).$tr("_-"," ")],p($,"[]=",t.to_a(u)),u[n(u.length,1)])],p($,"[]=",t.to_a(u)),u[n(u.length,1)]),l(K,"Inline").$new(i,"image",o,d(["type","target","attributes"],{type:a,target:r,attributes:$})).$convert())}).$$s=this,g.$$arity=0,g))),_(_(a=_(c=i["$include?"]("(("))?i["$include?"]("))"):c)?a:_(c=I)?i["$include?"]("dexterm"):c)&&(i=p(i,"gsub",[l(K,"InlineIndextermMacroRx")],((v=function(){var e,r,a,s,$=v.$$s||this,c=o,f=o,y=o,m=o,g=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o;return function(){if(c=(e=h["~"])===o?o:e["$[]"](1),"indexterm"["$==="](c))return _(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))?((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length()):(_((f=$.$normalize_text((e=h["~"])===o?o:e["$[]"](2),!0,!0))["$include?"]("="))?_(y=(m=l(K,"AttributeList").$new(f,$).$parse())["$[]"](1))?(g=["terms",b=[y]],p(m,"[]=",t.to_a(g)),g[n(g.length,1)],_(x=m["$[]"](2))&&(b["$<<"](x),_(w=m["$[]"](3))&&b["$<<"](w)),_(k=m["$[]"]("see-also"))&&(g=["see-also",_(k["$include?"](","))?p(k.$split(","),"map",[],((r=function(t){return r.$$s,null==t&&(t=o),t.$lstrip()}).$$s=$,r.$$arity=1,r)):[k]],p(m,"[]=",t.to_a(g)),g[n(g.length,1)])):m=d(["terms"],{terms:b=f}):m=d(["terms"],{terms:b=$.$split_simple_csv(f)}),l(K,"Inline").$new($,"indexterm",o,d(["attributes"],{attributes:m})).$convert());if("indexterm2"["$==="](c))return _(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))?((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length()):(_((A=$.$normalize_text((e=h["~"])===o?o:e["$[]"](2),!0,!0))["$include?"]("="))&&(A=_(e=_(a=(m=l(K,"AttributeList").$new(A,$).$parse())["$[]"](1))?a:m=o)?e:A,_(_(e=m)?k=m["$[]"]("see-also"):e)&&(g=["see-also",_(k["$include?"](","))?p(k.$split(","),"map",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$lstrip()}).$$s=$,s.$$arity=1,s)):[k]],p(m,"[]=",t.to_a(g)),g[n(g.length,1)])),l(K,"Inline").$new($,"indexterm",A,d(["attributes","type"],{attributes:m,type:"visible"})).$convert());if(i=(e=h["~"])===o?o:e["$[]"](3),_(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))){if(!_(_(e=i["$start_with?"]("("))?i["$end_with?"](")"):e))return((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length());i=i.$slice(1,n(i.$length(),2)),E=(e=[!0,"(",")"])[0],O=e[1],S=e[2]}else E=!0,_(i["$start_with?"]("("))?_(i["$end_with?"](")"))?(e=[i.$slice(1,n(i.$length(),2)),!1],i=e[0],E=e[1]):(e=[i.$slice(1,i.$length()),"(",""],i=e[0],O=e[1],S=e[2]):_(i["$end_with?"](")"))&&(e=[i.$chop(),"",")"],i=e[0],O=e[1],S=e[2]);return _(E)?(_((A=$.$normalize_text(i,!0))["$include?"](";&"))&&(_(A["$include?"](" &gt;&gt; "))?(a=A.$partition(" &gt;&gt; "),e=t.to_ary(a),A=null==e[0]?o:e[0],null==e[1]||e[1],R=null==e[2]?o:e[2],m=d(["see"],{see:R})):_(A["$include?"](" &amp;&gt; "))&&(a=A.$split(" &amp;&gt; "),e=t.to_ary(a),A=null==e[0]?o:e[0],k=u.call(e,1),m=d(["see-also"],{"see-also":k}))),C=l(K,"Inline").$new($,"indexterm",A,d(["attributes","type"],{attributes:m,type:"visible"})).$convert()):(m=d([],{}),_((b=$.$normalize_text(i,!0))["$include?"](";&"))&&(_(b["$include?"](" &gt;&gt; "))?(a=b.$partition(" &gt;&gt; "),e=t.to_ary(a),b=null==e[0]?o:e[0],null==e[1]||e[1],R=null==e[2]?o:e[2],g=["see",R],p(m,"[]=",t.to_a(g)),g[n(g.length,1)]):_(b["$include?"](" &amp;&gt; "))&&(a=b.$split(" &amp;&gt; "),e=t.to_ary(a),b=null==e[0]?o:e[0],k=u.call(e,1),g=["see-also",k],p(m,"[]=",t.to_a(g)),g[n(g.length,1)])),g=["terms",b=$.$split_simple_csv(b)],p(m,"[]=",t.to_a(g)),g[n(g.length,1)],C=l(K,"Inline").$new($,"indexterm",o,d(["attributes"],{attributes:m})).$convert()),_(O)?""+O+C+S:C}()}).$$s=this,v.$$arity=0,v))),_(_(a=R)?i["$include?"]("://"):a)&&(i=p(i,"gsub",[l(K,"InlineLinkRx")],((b=function(){var e,r,a,s=b.$$s||this,$=o,u=o,c=o,f=o,y=o,m=o;if(_(($=(e=h["~"])===o?o:e["$[]"](2))["$start_with?"](l(K,"RS"))))return""+((e=h["~"])===o?o:e["$[]"](1))+$.$slice(1,$.$length())+((e=h["~"])===o?o:e["$[]"](4));if(u=(e=[(r=h["~"])===o?o:r["$[]"](1),""])[0],c=e[1],_((e=h["~"])===o?o:e["$[]"](4)))u["$=="]("link:")&&(u=""),i=(e=h["~"])===o?o:e["$[]"](4);else{if("link:"["$==="](f=u)||'"'["$==="](f)||"'"["$==="](f))return(e=h["~"])===o?o:e["$[]"](0);if(i="",f=(e=h["~"])===o?o:e["$[]"](3),")"["$==="](f)){if($=$.$chop(),c=")",_($["$end_with?"]("://")))return(e=h["~"])===o?o:e["$[]"](0)}else if(";"["$==="](f)){if(_(_(e=u["$start_with?"]("&lt;"))?$["$end_with?"]("&gt;"):e)?(u=u.$slice(4,u.$length()),$=$.$slice(0,n($.$length(),4))):_(($=$.$chop())["$end_with?"](")"))?($=$.$chop(),c=");"):c=";",_($["$end_with?"]("://")))return(e=h["~"])===o?o:e["$[]"](0)}else if(":"["$==="](f)&&(_(($=$.$chop())["$end_with?"](")"))?($=$.$chop(),c="):"):c=":",_($["$end_with?"]("://"))))return(e=h["~"])===o?o:e["$[]"](0)}return e=[o,d(["type"],{type:"link"})],y=e[0],a=e[1],_(i["$empty?"]())||(_(i["$include?"](l(K,"R_SB")))&&(i=i.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB"))),_(_(e=L.$compat_mode()["$!"]())?i["$include?"]("="):e)&&(r=s.$extract_attributes_from_text(i,""),e=t.to_ary(r),i=null==e[0]?o:e[0],m=["id",(y=null==e[1]?o:e[1])["$[]"]("id")],p(a,"[]=",t.to_a(m)),m[n(m.length,1)]),_(i["$end_with?"]("^"))&&(i=i.$chop(),_(y)?_(e=y["$[]"]("window"))||(m=["window","_blank"],p(y,"[]=",t.to_a(m)),m[n(m.length,1)]):y=d(["window"],{window:"_blank"}))),_(i["$empty?"]())&&(i=_(T["$key?"]("hide-uri-scheme"))?$.$sub(l(K,"UriSniffRx"),""):$,_(y)?(m=["role",_(y["$key?"]("role"))?"bare "+y["$[]"]("role"):"bare"],p(y,"[]=",t.to_a(m)),m[n(m.length,1)]):y=d(["role"],{role:"bare"})),L.$register("links",(m=["target",$],p(a,"[]=",t.to_a(m)),m[n(m.length,1)])),_(y)&&(m=["attributes",y],p(a,"[]=",t.to_a(m)),m[n(m.length,1)]),""+u+l(K,"Inline").$new(s,"anchor",i,a).$convert()+c}).$$s=this,b.$$arity=0,b))),_(_(a=C)?_(c=i["$include?"]("link:"))?c:i["$include?"]("ilto:"):a)&&(i=p(i,"gsub",[l(K,"InlineLinkMacroRx")],((x=function(){var r,a,s,$=x.$$s||this,u=o,c=o,f=o,y=o,m=o;return _(((r=h["~"])===o?o:r["$[]"](0))["$start_with?"](l(K,"RS")))?((r=h["~"])===o?o:r["$[]"](0)).$slice(1,((r=h["~"])===o?o:r["$[]"](0)).$length()):(c=_(u=(r=h["~"])===o?o:r["$[]"](1))?e("mailto:",f=(r=h["~"])===o?o:r["$[]"](2)):(r=h["~"])===o?o:r["$[]"](2),r=[o,d(["type"],{type:"link"})],y=r[0],s=r[1],_((i=(r=h["~"])===o?o:r["$[]"](3))["$empty?"]())||(_(i["$include?"](l(K,"R_SB")))&&(i=i.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB"))),_(u)?_(_(r=L.$compat_mode()["$!"]())?i["$include?"](","):r)&&(a=$.$extract_attributes_from_text(i,""),r=t.to_ary(a),i=null==r[0]?o:r[0],m=["id",(y=null==r[1]?o:r[1])["$[]"]("id")],p(s,"[]=",t.to_a(m)),m[n(m.length,1)],_(y["$key?"](2))&&(c=_(y["$key?"](3))?c+"?subject="+l(K,"Helpers").$encode_uri_component(y["$[]"](2))+"&amp;body="+l(K,"Helpers").$encode_uri_component(y["$[]"](3)):c+"?subject="+l(K,"Helpers").$encode_uri_component(y["$[]"](2)))):_(_(r=L.$compat_mode()["$!"]())?i["$include?"]("="):r)&&(a=$.$extract_attributes_from_text(i,""),r=t.to_ary(a),i=null==r[0]?o:r[0],m=["id",(y=null==r[1]?o:r[1])["$[]"]("id")],p(s,"[]=",t.to_a(m)),m[n(m.length,1)]),_(i["$end_with?"]("^"))&&(i=i.$chop(),_(y)?_(r=y["$[]"]("window"))||(m=["window","_blank"],p(y,"[]=",t.to_a(m)),m[n(m.length,1)]):y=d(["window"],{window:"_blank"}))),_(i["$empty?"]())&&(_(u)?i=f:(_(T["$key?"]("hide-uri-scheme"))?_((i=c.$sub(l(K,"UriSniffRx"),""))["$empty?"]())&&(i=c):i=c,_(y)?(m=["role",_(y["$key?"]("role"))?"bare "+y["$[]"]("role"):"bare"],p(y,"[]=",t.to_a(m)),m[n(m.length,1)]):y=d(["role"],{role:"bare"}))),L.$register("links",(m=["target",c],p(s,"[]=",t.to_a(m)),m[n(m.length,1)])),_(y)&&(m=["attributes",y],p(s,"[]=",t.to_a(m)),m[n(m.length,1)]),l(K,"Inline").$new($,"anchor",i,s).$convert())}).$$s=this,x.$$arity=0,x))),_(i["$include?"]("@"))&&(i=p(i,"gsub",[l(K,"InlineEmailRx")],((w=function(){var t,n,r,i=w.$$s||this;return _((t=h["~"])===o?o:t["$[]"](1))?((t=h["~"])===o?o:t["$[]"](1))["$=="](l(K,"RS"))?((t=h["~"])===o?o:t["$[]"](0)).$slice(1,((t=h["~"])===o?o:t["$[]"](0)).$length()):(t=h["~"])===o?o:t["$[]"](0):(n=e("mailto:",r=(t=h["~"])===o?o:t["$[]"](0)),L.$register("links",n),l(K,"Inline").$new(i,"anchor",r,d(["type","target"],{type:"link",target:n})).$convert())}).$$s=this,w.$$arity=0,w))),_(_(a=_(c=S)?this.context["$=="]("list_item"):c)?this.parent.$style()["$=="]("bibliography"):a)&&(i=p(i,"sub",[l(K,"InlineBiblioAnchorRx")],((k=function(){var t,e=k.$$s||this;return l(K,"Inline").$new(e,"anchor",(t=h["~"])===o?o:t["$[]"](2),d(["type","id"],{type:"bibref",id:(t=h["~"])===o?o:t["$[]"](1)})).$convert()}).$$s=this,k.$$arity=0,k))),_(_(a=_(c=S)?i["$include?"]("[["):c)?a:_(c=C)?i["$include?"]("or:"):c)&&(i=p(i,"gsub",[l(K,"InlineAnchorRx")],((A=function(){var t,e,n=A.$$s||this,r=o,i=o;return _((t=h["~"])===o?o:t["$[]"](1))?((t=h["~"])===o?o:t["$[]"](0)).$slice(1,((t=h["~"])===o?o:t["$[]"](0)).$length()):(_(r=(t=h["~"])===o?o:t["$[]"](2))?i=(t=h["~"])===o?o:t["$[]"](3):(r=(t=h["~"])===o?o:t["$[]"](4),_(_(t=i=(e=h["~"])===o?o:e["$[]"](5))?i["$include?"](l(K,"R_SB")):t)&&(i=i.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB")))),l(K,"Inline").$new(n,"anchor",i,d(["type","id"],{type:"ref",id:r})).$convert())}).$$s=this,A.$$arity=0,A))),_(_(a=_(c=i["$include?"]("&"))?i["$include?"](";&l"):c)?a:_(c=C)?i["$include?"]("xref:"):c)&&(i=p(i,"gsub",[l(K,"InlineXrefMacroRx")],((E=function(){var a,s,$=E.$$s||this,u=o,c=o,f=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o;return _(((a=h["~"])===o?o:a["$[]"](0))["$start_with?"](l(K,"RS")))?((a=h["~"])===o?o:a["$[]"](0)).$slice(1,((a=h["~"])===o?o:a["$[]"](0)).$length()):(u=d([],{}),_(c=(a=h["~"])===o?o:a["$[]"](1))?(s=c.$split(",",2),c=null==(a=t.to_ary(s))[0]?o:a[0],i=null==a[1]?o:a[1],_(i)&&(i=i.$lstrip())):(f=!0,c=(a=h["~"])===o?o:a["$[]"](2),_(i=(a=h["~"])===o?o:a["$[]"](3))&&(_(i["$include?"](l(K,"R_SB")))&&(i=i.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB"))),_(_(a=L.$compat_mode()["$!"]())?i["$include?"]("="):a)&&(s=$.$extract_attributes_from_text(i),a=t.to_ary(s),i=null==a[0]?o:a[0],u=null==a[1]?o:a[1]))),_(L.$compat_mode())?y=c:_(m=c.$index("#"))?_(r(m,0))?(_(r(g=n(n(c.$length(),1),m),0))?(v=(a=[c.$slice(0,m),c.$slice(e(m,1),g)])[0],y=a[1]):v=c.$chop(),_(f)?_(v["$end_with?"](".adoc"))?b=v=v.$slice(0,n(v.$length(),5)):_(l(K,"Helpers")["$extname?"](v)["$!"]())&&(b=v):b=_(p(v,"end_with?",t.to_a(l(K,"ASCIIDOC_EXTENSIONS").$keys())))?v=v.$slice(0,v.$rindex(".")):v):(x=(a=[c,c.$slice(1,c.$length())])[0],y=a[1]):_(f)?_(c["$end_with?"](".adoc"))?b=v=c.$slice(0,n(c.$length(),5)):_(l(K,"Helpers")["$extname?"](c))?v=c:y=c:y=c,_(x)?(c=y,_(_(a=$.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():a)&&$.$logger().$info("possible invalid reference: "+c)):_(v)?_(_(a=b)?_(s=L.$attributes()["$[]"]("docname")["$=="](v))?s:L.$catalog()["$[]"]("includes")["$[]"](v):a)?_(y)?(c=(a=[y,o,"#"+y])[0],v=a[1],x=a[2],_(_(a=$.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():a)&&$.$logger().$info("possible invalid reference: "+c)):(c=(a=[o,o,"#"])[0],v=a[1],x=a[2]):(c=(a=[v,""+L.$attributes()["$[]"]("relfileprefix")+v+(_(b)?L.$attributes().$fetch("relfilesuffix",L.$outfilesuffix()):"")])[0],v=a[1],_(y)?(c=(a=[c+"#"+y,v+"#"+y])[0],x=a[1]):x=v):_(_(a=L.$compat_mode())?a:l(K,"Compliance").$natural_xrefs()["$!"]())?(c=(a=[y,"#"+y])[0],x=a[1],_(_(a=$.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](c)["$!"]():a)&&$.$logger().$info("possible invalid reference: "+c)):_(L.$catalog()["$[]"]("refs")["$[]"](y))?(c=(a=[y,"#"+y])[0],x=a[1]):_(_(a=_(s=y["$include?"](" "))?s:y.$downcase()["$!="](y))?c=L.$resolve_id(y):a)?(y=(a=[c,"#"+c])[0],x=a[1]):(c=(a=[y,"#"+y])[0],x=a[1],_($.$logger()["$info?"]())&&$.$logger().$info("possible invalid reference: "+c)),w=["path",v],p(u,"[]=",t.to_a(w)),w[n(w.length,1)],w=["fragment",y],p(u,"[]=",t.to_a(w)),w[n(w.length,1)],w=["refid",c],p(u,"[]=",t.to_a(w)),w[n(w.length,1)],l(K,"Inline").$new($,"anchor",i,d(["type","target","attributes"],{type:"xref",target:x,attributes:u})).$convert())}).$$s=this,E.$$arity=0,E))),_(_(a=C)?i["$include?"]("tnote"):a)&&(i=p(i,"gsub",[l(K,"InlineFootnoteMacroRx")],((O=function(){var e,n,r,a,s=O.$$s||this,u=o,c=o,f=o,y=o,m=o;if(_(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS"))))return((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length());if(_((e=h["~"])===o?o:e["$[]"](1))){if(!_((e=h["~"])===o?o:e["$[]"](3)))return(e=h["~"])===o?o:e["$[]"](0);n=((r=h["~"])===o?o:r["$[]"](3)).$split(",",2),e=t.to_ary(n),u=null==e[0]?o:e[0],i=null==e[1]?o:e[1],_(L.$compat_mode())||s.$logger().$warn("found deprecated footnoteref macro: "+((e=h["~"])===o?o:e["$[]"](0))+"; use footnote macro with target instead")}else u=(e=h["~"])===o?o:e["$[]"](2),i=(e=h["~"])===o?o:e["$[]"](3);if(_(u))_(c=p(L.$footnotes(),"find",[],((a=function(t){return a.$$s,null==t&&(t=o),t.$id()["$=="](u)}).$$s=s,a.$$arity=1,a)))?(f=(e=[c.$index(),c.$text()])[0],i=e[1],y=(e=["xref",u,o])[0],m=e[1],u=e[2]):_(i)?(i=s.$restore_passthroughs(s.$normalize_text(i,!0,!0)),f=L.$counter("footnote-number"),L.$register("footnotes",$(l(K,"Document"),"Footnote").$new(f,u,i)),y=(e=["ref",o])[0],m=e[1]):(s.$logger().$warn("invalid footnote reference: "+u),y=(e=["xref",u,u,o])[0],m=e[1],i=e[2],u=e[3]);else{if(!_(i))return(e=h["~"])===o?o:e["$[]"](0);i=s.$restore_passthroughs(s.$normalize_text(i,!0,!0)),f=L.$counter("footnote-number"),L.$register("footnotes",$(l(K,"Document"),"Footnote").$new(f,u,i)),y=m=o}return l(K,"Inline").$new(s,"footnote",i,d(["attributes","id","target","type"],{attributes:d(["index"],{index:f}),id:u,target:m,type:y})).$convert()}).$$s=this,O.$$arity=0,O))),i},E.$$arity=1),t.def(X,"$sub_post_replacements",O=function(t){var e,r,a,s=o,$=o;return null==this.attributes&&(this.attributes=o),null==this.document&&(this.document=o),_(_(e=this.attributes["$[]"]("hardbreaks-option"))?e:this.document.$attributes()["$[]"]("hardbreaks-option"))?(s=t.$split(l(K,"LF"),-1),_(i(s.$size(),2))?t:($=s.$pop(),p(s,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=o),l(K,"Inline").$new(e,"break",_(t["$end_with?"](l(K,"HARD_LINE_BREAK")))?t.$slice(0,n(t.$length(),2)):t,d(["type"],{type:"line"})).$convert()},r.$$s=this,r.$$arity=1,r))["$<<"]($).$join(l(K,"LF")))):_(_(e=t["$include?"](l(K,"PLUS")))?t["$include?"](l(K,"HARD_LINE_BREAK")):e)?p(t,"gsub",[l(K,"HardLineBreakRx")],((a=function(){var t,e=a.$$s||this;return l(K,"Inline").$new(e,"break",(t=h["~"])===o?o:t["$[]"](1),d(["type"],{type:"line"})).$convert()}).$$s=this,a.$$arity=0,a)):t},O.$$arity=1),t.def(X,"$sub_source",S=function(t,e){return _(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},S.$$arity=2),t.def(X,"$sub_callouts",R=function(t){var n,r,i=this,a=o;return r=_(i["$attr?"]("line-comment"))?l(K,"CalloutSourceRxMap")["$[]"](i.$attr("line-comment")):l(K,"CalloutSourceRx"),a=0,p(t,"gsub",[r],((n=function(){var t,r,i=n.$$s||this;return null==i.document&&(i.document=o),_((t=h["~"])===o?o:t["$[]"](2))?((t=h["~"])===o?o:t["$[]"](0)).$sub(l(K,"RS"),""):l(K,"Inline").$new(i,"callout",((t=h["~"])===o?o:t["$[]"](4))["$=="](".")?(a=e(a,1)).$to_s():(t=h["~"])===o?o:t["$[]"](4),d(["id","attributes"],{id:i.document.$callouts().$read_next_id(),attributes:d(["guard"],{guard:_(t=(r=h["~"])===o?o:r["$[]"](1))?t:((r=h["~"])===o?o:r["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:o})})).$convert()}).$$s=i,n.$$arity=0,n))},R.$$arity=1),t.def(X,"$highlight_source",C=function(e,n){var r,a,s,$,u,c,f=this,p=o,h=o,y=o,m=o,g=o,v=o;return null==f.document&&(f.document=o),null==f.passthroughs&&(f.passthroughs=o),_(_(r=p=f.document.$syntax_highlighter())?p["$highlight?"]():r)?(_(n)&&(a=f.$extract_callouts(e),e=null==(r=t.to_ary(a))[0]?o:r[0],h=null==r[1]?o:r[1]),y=f.document.$attributes(),$=p.$name(),_(u=_(f["$attr?"]("linenums"))?(_(r=y["$[]"]($+"-linenums-mode"))?r:"table").$to_sym():o)&&_(i(m=f.$attr("start",1).$to_i(),1))&&(m=1),_(f["$attr?"]("highlight"))&&(g=f.$resolve_lines_to_highlight(e,f.$attr("highlight"),m)),a=p.$highlight(f,e,f.$attr("language"),d(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:h,css_mode:(_(s=y["$[]"]($+"-css"))?s:"class").$to_sym(),highlight_lines:g,number_lines:u,start_line_number:m,style:y["$[]"]($+"-style")})),v=null==(r=t.to_ary(a))[0]?o:r[0],c=null==r[1]?o:r[1],_(f.passthroughs["$empty?"]())||(v=v.$gsub(l(K,"HighlightedPassSlotRx"),l(K,"PASS_START")+"\\1"+l(K,"PASS_END"))),_(h["$nil_or_empty?"]())?v:f.$restore_callouts(v,h,c)):f.$sub_source(e,n)},C.$$arity=2),t.def(X,"$resolve_lines_to_highlight",I=function(r,a,s){var $,u,c=o,d=o;return null==s&&(s=o),c=[],_(a["$include?"](" "))&&(a=a.$delete(" ")),p(_(a["$include?"](","))?a.$split(","):a.$split(";"),"map",[],(($=function(a){$.$$s;var s,u,d=o,f=o,p=o,h=o,y=o;return null==a&&(a=o),_(a["$start_with?"]("!"))&&(a=a.$slice(1,a.$length()),d=!0),_(f=_(a["$include?"](".."))?"..":_(a["$include?"]("-"))?"-":o)?(u=a.$partition(f),p=null==(s=t.to_ary(u))[0]?o:s[0],f=null==s[1]?o:s[1],h=null==s[2]?o:s[2],_(_(s=h["$empty?"]())?s:i(h=h.$to_i(),0))&&(h=e(r.$count(l(K,"LF")),1)),c=_(d)?n(c,t.Range.$new(p.$to_i(),h,!1).$to_a()):c["$|"](t.Range.$new(p.$to_i(),h,!1).$to_a())):_(d)?c.$delete(a.$to_i()):_(c["$include?"](y=a.$to_i())["$!"]())?c["$<<"](y):o}).$$s=this,$.$$arity=1,$)),(d=_(s)?n(s,1):0)["$=="](0)||(c=p(c,"map",[],((u=function(t){return u.$$s,null==t&&(t=o),n(t,d)}).$$s=this,u.$$arity=1,u))),c.$sort()},I.$$arity=-3),t.def(X,"$extract_passthroughs",T=function(e){var i,s,$,u,c,f,y,m,g,v=o;return null==this.document&&(this.document=o),null==this.passthroughs&&(this.passthroughs=o),f=this.document.$compat_mode(),v=this.passthroughs,_(_(i=_(s=e["$include?"]("++"))?s:e["$include?"]("$$"))?i:e["$include?"]("ss:"))&&(e=p(e,"gsub",[l(K,"InlinePassMacroRx")],(($=function(){var e,i=$.$$s||this,s=o,u=o,c=o,y=o,m=o,g=o,b=o,x=o,w=o;if(_(s=(e=h["~"])===o?o:e["$[]"](4))){if(_(_(e=f)?s["$=="]("++"):e))return(_((e=h["~"])===o?o:e["$[]"](2))?((e=h["~"])===o?o:e["$[]"](1))+"["+((e=h["~"])===o?o:e["$[]"](2))+"]"+((e=h["~"])===o?o:e["$[]"](3)):""+((e=h["~"])===o?o:e["$[]"](1))+((e=h["~"])===o?o:e["$[]"](3)))+"++"+i.$extract_passthroughs((e=h["~"])===o?o:e["$[]"](5))+"++";if(_(u=(e=h["~"])===o?o:e["$[]"](2))){if(_(r(c=((e=h["~"])===o?o:e["$[]"](3)).$length(),0)))return((e=h["~"])===o?o:e["$[]"](1))+"["+u+"]"+a(l(K,"RS"),n(c,1))+s+((e=h["~"])===o?o:e["$[]"](5))+s;((e=h["~"])===o?o:e["$[]"](1))["$=="](l(K,"RS"))?y="["+u+"]":(_((e=s["$=="]("++"))?u["$end_with?"]("x-"):s["$=="]("++"))&&(m=!0,u=u.$slice(0,n(u.$length(),2))),g=i.$parse_quoted_text_attributes(u))}else if(_(r(c=((e=h["~"])===o?o:e["$[]"](3)).$length(),0)))return""+a(l(K,"RS"),n(c,1))+s+((e=h["~"])===o?o:e["$[]"](5))+s;b=s["$=="]("+++")?[]:l(K,"BASIC_SUBS"),_(g)?_(m)?(x=[w=v.$size(),d(["text","subs","type","attributes"],{text:(e=h["~"])===o?o:e["$[]"](5),subs:l(K,"NORMAL_SUBS"),type:"monospaced",attributes:g})],p(v,"[]=",t.to_a(x)),x[n(x.length,1)]):(x=[w=v.$size(),d(["text","subs","type","attributes"],{text:(e=h["~"])===o?o:e["$[]"](5),subs:b,type:"unquoted",attributes:g})],p(v,"[]=",t.to_a(x)),x[n(x.length,1)]):(x=[w=v.$size(),d(["text","subs"],{text:(e=h["~"])===o?o:e["$[]"](5),subs:b})],p(v,"[]=",t.to_a(x)),x[n(x.length,1)])}else{if(((e=h["~"])===o?o:e["$[]"](6))["$=="](l(K,"RS")))return((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length());_(b=(e=h["~"])===o?o:e["$[]"](7))?(x=[w=v.$size(),d(["text","subs"],{text:i.$normalize_text((e=h["~"])===o?o:e["$[]"](8),o,!0),subs:i.$resolve_pass_subs(b)})],p(v,"[]=",t.to_a(x)),x[n(x.length,1)]):(x=[w=v.$size(),d(["text"],{text:i.$normalize_text((e=h["~"])===o?o:e["$[]"](8),o,!0)})],p(v,"[]=",t.to_a(x)),x[n(x.length,1)])}return""+(_(e=y)?e:"")+l(K,"PASS_START")+w+l(K,"PASS_END")}).$$s=this,$.$$arity=0,$))),s=l(K,"InlinePassRx")["$[]"](f),y=null==(i=t.to_ary(s))[0]?o:i[0],m=null==i[1]?o:i[1],g=null==i[2]?o:i[2],_(_(i=e["$include?"](y))?i:_(s=m)?e["$include?"](m):s)&&(e=p(e,"gsub",[g],((u=function(){var e,r,i=u.$$s||this,a=o,s=o,$=o,c=o,y=o,m=o,g=o,b=o,x=o,w=o;if(a=(e=h["~"])===o?o:e["$[]"](1),s=(e=h["~"])===o?o:e["$[]"](2),_(($=(e=h["~"])===o?o:e["$[]"](3))["$start_with?"](l(K,"RS")))&&(c=l(K,"RS")),y=(e=h["~"])===o?o:e["$[]"](4),r=(e=h["~"])===o?o:e["$[]"](5),_(f)?m=!0:_(m=_(e=s)?s["$end_with?"]("x-"):e)&&(s=s.$slice(0,n(s.$length(),2))),_(s)){if(_((e=y["$=="]("`"))?m["$!"]():y["$=="]("`")))return i.$extract_inner_passthrough(r,a+"["+s+"]"+c);if(_(c))return a+"["+s+"]"+$.$slice(1,$.$length());a["$=="](l(K,"RS"))?a="["+s+"]":g=i.$parse_quoted_text_attributes(s)}else{if(_((e=y["$=="]("`"))?m["$!"]():y["$=="]("`")))return i.$extract_inner_passthrough(r,""+a+c);if(_(c))return""+a+$.$slice(1,$.$length())}return _(f)?(b=[x=v.$size(),d(["text","subs","attributes","type"],{text:r,subs:l(K,"BASIC_SUBS"),attributes:g,type:"monospaced"})],p(v,"[]=",t.to_a(b)),b[n(b.length,1)]):_(g)?_(m)?(w=y["$=="]("`")?l(K,"BASIC_SUBS"):l(K,"NORMAL_SUBS"),b=[x=v.$size(),d(["text","subs","attributes","type"],{text:r,subs:w,attributes:g,type:"monospaced"})],p(v,"[]=",t.to_a(b)),b[n(b.length,1)]):(b=[x=v.$size(),d(["text","subs","attributes","type"],{text:r,subs:l(K,"BASIC_SUBS"),attributes:g,type:"unquoted"})],p(v,"[]=",t.to_a(b)),b[n(b.length,1)]):(b=[x=v.$size(),d(["text","subs"],{text:r,subs:l(K,"BASIC_SUBS")})],p(v,"[]=",t.to_a(b)),b[n(b.length,1)]),""+a+l(K,"PASS_START")+x+l(K,"PASS_END")}).$$s=this,u.$$arity=0,u))),_(_(i=e["$include?"](":"))?_(s=e["$include?"]("stem:"))?s:e["$include?"]("math:"):i)&&(e=p(e,"gsub",[l(K,"InlineStemMacroRx")],((c=function(){var e,r,i,a=c.$$s||this,s=o,$=o,u=o;return null==a.document&&(a.document=o),_(((e=h["~"])===o?o:e["$[]"](0))["$start_with?"](l(K,"RS")))?((e=h["~"])===o?o:e["$[]"](0)).$slice(1,((e=h["~"])===o?o:e["$[]"](0)).$length()):((s=((e=h["~"])===o?o:e["$[]"](1)).$to_sym())["$=="]("stem")&&(s=l(K,"STEM_TYPE_ALIASES")["$[]"](a.document.$attributes()["$[]"]("stem")).$to_sym()),$=(e=h["~"])===o?o:e["$[]"](2),u=a.$normalize_text((e=h["~"])===o?o:e["$[]"](3),o,!0),_(_(e=s["$=="]("latexmath")?u["$start_with?"]("$"):s["$=="]("latexmath"))?u["$end_with?"]("$"):e)&&(u=u.$slice(1,n(u.$length(),2))),$=_($)?a.$resolve_pass_subs($):_(a.document["$basebackend?"]("html"))?l(K,"BASIC_SUBS"):o,r=[i=v.$size(),d(["text","subs","type"],{text:u,subs:$,type:s})],p(v,"[]=",t.to_a(r)),n(r.length,1),""+l(K,"PASS_START")+i+l(K,"PASS_END"))}).$$s=this,c.$$arity=0,c))),e},T.$$arity=1),t.def(X,"$restore_passthroughs",L=function(t){var e,n=o;return null==this.passthroughs&&(this.passthroughs=o),n=this.passthroughs,p(t,"gsub",[l(K,"PassSlotRx")],((e=function(){var r,i=e.$$s||this,a=o,s=o,$=o,u=o,c=o;return _(a=n["$[]"](((r=h["~"])===o?o:r["$[]"](1)).$to_i()))?(s=i.$apply_subs(a["$[]"]("text"),a["$[]"]("subs")),_($=a["$[]"]("type"))&&(_(u=a["$[]"]("attributes"))&&(c=u["$[]"]("id")),s=l(K,"Inline").$new(i,"quoted",s,d(["type","id","attributes"],{type:$,id:c,attributes:u})).$convert()),_(s["$include?"](l(K,"PASS_START")))?i.$restore_passthroughs(s):s):(i.$logger().$error("unresolved passthrough detected: "+t),"??pass??")}).$$s=this,e.$$arity=0,e))},L.$$arity=1),t.def(X,"$resolve_subs",M=function(t,i,a,s){var $,u,c,d=o,f=o;return null==i&&(i="block"),null==a&&(a=o),null==s&&(s=o),_(t["$nil_or_empty?"]())?o:(d=o,_(t["$include?"](" "))&&(t=t.$delete(" ")),u=l(K,"SubModifierSniffRx")["$match?"](t),p(t.$split(","),"each",[],(($=function(t){$.$$s;var r,s,c=o,f=o,p=o,h=o,y=o,m=o;return null==t&&(t=o),c=o,_(u)&&((f=t.$chr())["$=="]("+")?(c="append",t=t.$slice(1,t.$length())):f["$=="]("-")?(c="remove",t=t.$slice(1,t.$length())):_(t["$end_with?"]("+"))&&(c="prepend",t=t.$chop())),t=t.$to_sym(),_((r=i["$=="]("inline"))?_(s=t["$=="]("verbatim"))?s:t["$=="]("v"):i["$=="]("inline"))?p=l(K,"BASIC_SUBS"):_(l(K,"SUB_GROUPS")["$key?"](t))?p=l(K,"SUB_GROUPS")["$[]"](t):_(_(r=(s=i["$=="]("inline"))?t.$length()["$=="](1):i["$=="]("inline"))?l(K,"SUB_HINTS")["$key?"](t):r)?(h=l(K,"SUB_HINTS")["$[]"](t),p=_(y=l(K,"SUB_GROUPS")["$[]"](h))?y:[h]):p=[t],_(c)?(d=_(r=d)?r:_(a)?a.$drop(0):[],"append"["$==="](m=c)?d=e(d,p):"prepend"["$==="](m)?d=e(p,d):"remove"["$==="](m)?d=n(d,p):o):d=e(d=_(r=d)?r:[],p)}).$$s=this,$.$$arity=1,$)),_(d)?(c=d["$&"](l(K,"SUB_OPTIONS")["$[]"](i)),_(n(d,c)["$empty?"]())||(f=n(d,c),this.$logger().$warn("invalid substitution type"+(_(r(f.$size(),1))?"s":"")+(_(s)?" for ":"")+s+": "+f.$join(", "))),c):o)},M.$$arity=-2),t.def(X,"$resolve_block_subs",P=function(t,e,n){return this.$resolve_subs(t,"block",e,n)},P.$$arity=3),t.def(X,"$resolve_pass_subs",N=function(t){return this.$resolve_subs(t,"inline",o,"passthrough macro")},N.$$arity=1),t.def(X,"$expand_subs",B=function(t){var n,r,i=o;return _($("::","Symbol")["$==="](t))?t["$=="]("none")?o:_(n=l(K,"SUB_GROUPS")["$[]"](t))?n:[t]:(i=[],p(t,"each",[],((r=function(t){r.$$s;var n=o;return null==t&&(t=o),t["$=="]("none")?o:_(n=l(K,"SUB_GROUPS")["$[]"](t))?i=e(i,n):i["$<<"](t)}).$$s=this,r.$$arity=1,r)),_(i["$empty?"]())?o:i)},B.$$arity=1),t.def(X,"$commit_subs",D=function(){var e,r,i,a,s=this,$=o,u=o,c=o,d=o,f=o;if(null==s.default_subs&&(s.default_subs=o),null==s.content_model&&(s.content_model=o),null==s.context&&(s.context=o),null==s.subs&&(s.subs=o),null==s.attributes&&(s.attributes=o),null==s.style&&(s.style=o),null==s.document&&(s.document=o),_($=s.default_subs));else if(u=s.content_model,"simple"["$==="](u))$=l(K,"NORMAL_SUBS");else if("verbatim"["$==="](u))$=s.context["$=="]("verse")?l(K,"NORMAL_SUBS"):l(K,"VERBATIM_SUBS");else{if(!"raw"["$==="](u))return s.subs;$=s.context["$=="]("stem")?l(K,"BASIC_SUBS"):l(K,"NO_SUBS")}return _(a=s.attributes["$[]"]("subs"))?s.subs=_(e=s.$resolve_block_subs(a,$,s.context))?e:[]:s.subs=$.$drop(0),_(_(e=_(r=_(i=s.context["$=="]("listing")?s.style["$=="]("source"):s.context["$=="]("listing"))?c=s.document.$syntax_highlighter():i)?c["$highlight?"]():r)?d=s.subs.$index("specialcharacters"):e)&&(f=[d,"highlight"],p(s.subs,"[]=",t.to_a(f)),f[n(f.length,1)]),o},D.$$arity=0),t.def(X,"$parse_attributes",z=function(t,e,n){var r,i,a=o;return null==this.document&&(this.document=o),null==e&&(e=[]),null==n&&(n=d([],{})),_(!_(t)||t["$empty?"]())?d([],{}):(_(n["$[]"]("unescape_input"))&&(t=this.$normalize_text(t,!0,!0)),_(_(r=n["$[]"]("sub_input"))?t["$include?"](l(K,"ATTR_REF_HEAD")):r)&&(t=this.document.$sub_attributes(t)),_(n["$[]"]("sub_result"))&&(a=this),_(i=n["$[]"]("into"))?l(K,"AttributeList").$new(t,a).$parse_into(i,e):l(K,"AttributeList").$new(t,a).$parse(e))},z.$$arity=-2),X.$private(),t.def(X,"$extract_attributes_from_text",F=function(t,e){var n,r=o,i=o;return null==e&&(e=o),n=_(t["$include?"](l(K,"LF")))?t.$tr(l(K,"LF")," "):t,_(r=(i=l(K,"AttributeList").$new(n,this).$parse())["$[]"](1))?r["$=="](n)?[t,i.$clear()]:[r,i]:[e,i]},F.$$arity=-2),t.def(X,"$extract_callouts",j=function(r){var i,a,s=this,$=o,u=o,c=o,f=o;return $=d([],{}),u=c=0,f=o,a=_(s["$attr?"]("line-comment"))?l(K,"CalloutExtractRxMap")["$[]"](s.$attr("line-comment")):l(K,"CalloutExtractRx"),r=p(r.$split(l(K,"LF"),-1),"map",[],(i=function(r){var s,d=i.$$s||this;return null==r&&(r=o),c=e(c,1),p(r,"gsub",[a],((s=function(){s.$$s;var r,i,a=o;return _((r=h["~"])===o?o:r["$[]"](2))?((r=h["~"])===o?o:r["$[]"](0)).$sub(l(K,"RS"),""):((_(r=$["$[]"](c))?r:(a=[c,[]],p($,"[]=",t.to_a(a)),a[n(a.length,1)]))["$<<"]([_(r=(i=h["~"])===o?o:i["$[]"](1))?r:((i=h["~"])===o?o:i["$[]"](3))["$=="]("--")?["\x3c!--","--\x3e"]:o,((r=h["~"])===o?o:r["$[]"](4))["$=="](".")?(u=e(u,1)).$to_s():(r=h["~"])===o?o:r["$[]"](4)]),f=c,"")}).$$s=d,s.$$arity=0,s))},i.$$s=s,i.$$arity=1,i)).$join(l(K,"LF")),_(f)?f["$=="](c)&&(r=""+r+l(K,"LF")):$=o,[r,$]},j.$$arity=1),t.def(X,"$restore_callouts",q=function(n,r,i){var a,s=o,$=o;return null==i&&(i=o),_(i)?(s=n.$slice(0,i),n=n.$slice(i,n.$length())):s="",$=0,e(s,p(n.$split(l(K,"LF"),-1),"map",[],(a=function(n){var i,s,u,c=a.$$s||this,f=o,h=o,y=o;return null==c.document&&(c.document=o),null==n&&(n=o),_(f=r.$delete($=e($,1)))?f.$size()["$=="](1)?(s=f["$[]"](0),h=null==(i=t.to_ary(s))[0]?o:i[0],y=null==i[1]?o:i[1],""+n+l(K,"Inline").$new(c,"callout",y,d(["id","attributes"],{id:c.document.$callouts().$read_next_id(),attributes:d(["guard"],{guard:h})})).$convert()):""+n+p(f,"map",[],(u=function(t,e){var n=u.$$s||this;return null==n.document&&(n.document=o),null==t&&(t=o),null==e&&(e=o),l(K,"Inline").$new(n,"callout",e,d(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:d(["guard"],{guard:t})})).$convert()},u.$$s=c,u.$$arity=2,u)).$join(" "):n},a.$$s=this,a.$$arity=1,a)).$join(l(K,"LF")))},q.$$arity=-3),t.def(X,"$extract_inner_passthrough",U=function(e,r){var i,a,s=o,$=o;return null==this.passthroughs&&(this.passthroughs=o),_(_(i=_(a=e["$end_with?"]("+"))?e["$start_with?"]("+","\\+"):a)?l(K,"SinglePlusInlinePassRx")["$=~"](e):i)?_((i=h["~"])===o?o:i["$[]"](1))?r+"`+"+((i=h["~"])===o?o:i["$[]"](2))+"+`":(s=[$=this.passthroughs.$size(),d(["text","subs"],{text:(i=h["~"])===o?o:i["$[]"](2),subs:l(K,"BASIC_SUBS")})],p(this.passthroughs,"[]=",t.to_a(s)),s[n(s.length,1)],r+"`"+l(K,"PASS_START")+$+l(K,"PASS_END")+"`"):r+"`"+e+"`"},U.$$arity=2),t.def(X,"$convert_quoted_text",H=function(t,e,n){var r=o,i=o,a=o,s=o,$=o;if(_(t["$[]"](0)["$start_with?"](l(K,"RS")))){if(!_(n["$=="]("constrained")?r=t["$[]"](2):n["$=="]("constrained")))return t["$[]"](0).$slice(1,t["$[]"](0).$length());i="["+r+"]"}return n["$=="]("constrained")?_(i)?""+i+l(K,"Inline").$new(this,"quoted",t["$[]"](3),d(["type"],{type:e})).$convert():(_(a=t["$[]"](2))&&(s=($=this.$parse_quoted_text_attributes(a))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+l(K,"Inline").$new(this,"quoted",t["$[]"](3),d(["type","id","attributes"],{type:e,id:s,attributes:$})).$convert()):(_(a=t["$[]"](1))&&(s=($=this.$parse_quoted_text_attributes(a))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),l(K,"Inline").$new(this,"quoted",t["$[]"](2),d(["type","id","attributes"],{type:e,id:s,attributes:$})).$convert())},H.$$arity=3),t.def(X,"$do_replacement",Y=function(t,n,r){var i=o,a=o;return _((i=t["$[]"](0))["$include?"](l(K,"RS")))?i.$sub(l(K,"RS"),""):"none"["$==="](a=r)?n:"bounding"["$==="](a)?e(e(t["$[]"](1),n),t["$[]"](2)):e(t["$[]"](1),n)},Y.$$arity=3),l(K,"RUBY_ENGINE")["$=="]("opal"),t.def(X,"$parse_quoted_text_attributes",G=function(e){var i,a,s=o,$=o,c=o,f=o,h=o,y=o;return _((e=e.$rstrip())["$empty?"]())?d([],{}):(_(e["$include?"](l(K,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),_(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),_(_(i=e["$start_with?"](".","#"))?l(K,"Compliance").$shorthand_property_syntax():i)?(s=e.$split("#",2),_(r(s.$size(),1))?(a=s["$[]"](1).$split("."),$=null==(i=t.to_ary(a))[0]?o:i[0],c=u.call(i,1)):c=[],f=_(s["$[]"](0)["$empty?"]())?[]:s["$[]"](0).$split("."),_(r(f.$size(),1))&&f.$shift(),_(r(c.$size(),0))&&f.$concat(c),h=d([],{}),_($)&&(y=["id",$],p(h,"[]=",t.to_a(y)),y[n(y.length,1)]),_(f["$empty?"]())||(y=["role",f.$join(" ")],p(h,"[]=",t.to_a(y)),y[n(y.length,1)]),h):d(["role"],{role:e}))},G.$$arity=1),t.def(X,"$normalize_text",W=function(t,e,n){var r;return null==e&&(e=o),null==n&&(n=o),_(t["$empty?"]())||(_(e)&&(t=t.$strip().$tr(l(K,"LF")," ")),_(_(r=n)?t["$include?"](l(K,"R_SB")):r)&&(t=t.$gsub(l(K,"ESC_R_SB"),l(K,"R_SB")))),t},W.$$arity=-2),t.def(X,"$split_simple_csv",V=function(t){var n,r,i=o,a=o,s=o;return _(t["$empty?"]())?[]:_(t["$include?"]('"'))?(i=[],a="",s=o,p(t,"each_char",[],((n=function(t){n.$$s;var r=o;return null==t&&(t=o),","["$==="](r=t)?_(s)?a=e(a,t):(i["$<<"](a.$strip()),a=""):'"'["$==="](r)?s=s["$!"]():a=e(a,t)}).$$s=this,n.$$arity=1,n)),i["$<<"](a.$strip())):p(t.$split(","),"map",[],((r=function(t){return r.$$s,null==t&&(t=o),t.$strip()}).$$s=this,r.$$arity=1,r))},V.$$arity=1)}(m[0],m)}(s[0],s)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,r){var i=[n(e,"Asciidoctor")].concat(r);t.const_set(i[0],"VERSION","2.0.12")}(e[0],e)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.klass,l=t.hash2,u=t.truthy,c=t.send;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$[]","$merge","$raise","$converter","$attributes","$key?","$[]=","$-","$delete","$tap","$new","$each_key","$end_with?","$<<","$slice","$length","$update","$split","$include?","$===","$join","$empty?","$apply_reftext_subs","$attr?","$attr","$extname?","$image_uri","$<","$safe","$uriish?","$encode_spaces_in_uri","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$extname","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open_uri","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$!=","$prepare_source_string","$fetch","$read_asset"]),function(r,d){var f=[o(r,"Asciidoctor")].concat(d);!function(r,o,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G=$(r,null,"AbstractNode"),W=[G].concat(d);G.$$prototype.document=G.$$prototype.attributes=G.$$prototype.parent=i,G.$include(s(W,"Substitutors"),s(W,"Logging")),G.$attr_reader("attributes"),G.$attr_reader("context"),G.$attr_reader("document"),G.$attr_accessor("id"),G.$attr_reader("node_name"),G.$attr_reader("parent"),t.def(G,"$initialize",f=function(t,e,n){var r=i;return null==n&&(n=l([],{})),e["$=="]("document")?this.document=this:u(t)&&(this.document=(this.parent=t).$document()),this.node_name=(this.context=e).$to_s(),this.attributes=u(r=n["$[]"]("attributes"))?r.$merge():l([],{}),this.passthroughs=[]},f.$$arity=-3),t.def(G,"$block?",_=function(){return this.$raise(a("::","NotImplementedError"))},_.$$arity=0),t.def(G,"$inline?",p=function(){return this.$raise(a("::","NotImplementedError"))},p.$$arity=0),t.def(G,"$converter",h=function(){return this.document.$converter()},h.$$arity=0),t.def(G,"$parent=",y=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],e},y.$$arity=1),t.def(G,"$attr",m=function(t,e,n){var r,a,s,o;return null==e&&(e=i),null==n&&(n=i),u(r=this.attributes["$[]"](t.$to_s()))?r:u(a=u(s=u(o=n)?this.parent:o)?this.document.$attributes()["$[]"]((n["$=="](!0)?t:n).$to_s()):s)?a:e},m.$$arity=-2),t.def(G,"$attr?",g=function(t,e,n){var r,a,s=this;return null==e&&(e=i),null==n&&(n=i),u(e)?e["$=="](u(r=s.attributes["$[]"](t.$to_s()))?r:u(u(a=n)?s.parent:a)?s.document.$attributes()["$[]"]((n["$=="](!0)?t:n).$to_s()):i):u(r=s.attributes["$key?"](t.$to_s()))?r:!!u(u(a=n)?s.parent:a)&&s.document.$attributes()["$key?"]((n["$=="](!0)?t:n).$to_s())},g.$$arity=-2),t.def(G,"$set_attr",v=function(n,r,a){var s=i;return null==r&&(r=""),null==a&&(a=!0),!u(a["$=="](!1)?this.attributes["$key?"](n):a["$=="](!1))&&(s=[n,r],c(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},v.$$arity=-2),t.def(G,"$remove_attr",b=function(t){return this.attributes.$delete(t)},b.$$arity=1),t.def(G,"$option?",x=function(t){return!!u(this.attributes["$[]"](t+"-option"))},x.$$arity=1),t.def(G,"$set_option",w=function(n){var r;return r=[n+"-option",""],c(this.attributes,"[]=",t.to_a(r)),e(r.length,1),i},w.$$arity=1),t.def(G,"$enabled_options",k=function(){var t;return c(a("::","Set").$new(),"tap",[],((t=function(n){var r,a=t.$$s||this;return null==a.attributes&&(a.attributes=i),null==n&&(n=i),c(a.attributes,"each_key",[],((r=function(t){return r.$$s,null==t&&(t=i),u(t.$to_s()["$end_with?"]("-option"))?n["$<<"](t.$slice(0,e(t.$length(),7))):i}).$$s=a,r.$$arity=1,r))}).$$s=this,t.$$arity=1,t))},k.$$arity=0),t.def(G,"$update_attributes",A=function(t){return this.attributes.$update(t)},A.$$arity=1),t.def(G,"$role",E=function(){return this.attributes["$[]"]("role")},E.$$arity=0),t.def(G,"$roles",O=function(){var t=i;return u(t=this.attributes["$[]"]("role"))?t.$split():[]},O.$$arity=0),t.def(G,"$role?",S=function(t){return null==t&&(t=i),u(t)?t["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},S.$$arity=-1),t.def(G,"$has_role?",R=function(t){var e;return!!u(e=this.attributes["$[]"]("role"))&&(" "+e+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(G,"$role=",C=function(n){var r;return r=["role",u(a("::","Array")["$==="](n))?n.$join(" "):n],c(this.attributes,"[]=",t.to_a(r)),r[e(r.length,1)]},C.$$arity=1),t.def(G,"$add_role",I=function(n){var r,a=i;return u(r=this.attributes["$[]"]("role"))?!u((" "+r+" ")["$include?"](" "+n+" "))&&(a=["role",r+" "+n],c(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)],!0):(a=["role",n],c(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)],!0)},I.$$arity=1),t.def(G,"$remove_role",T=function(n){var r,a=i,s=i;return!!u(u(r=a=this.attributes["$[]"]("role"))?(a=a.$split()).$delete(n):r)&&(u(a["$empty?"]())?this.attributes.$delete("role"):(s=["role",a.$join(" ")],c(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),!0)},T.$$arity=1),t.def(G,"$reftext",L=function(){var t;return u(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):i},L.$$arity=0),t.def(G,"$reftext?",M=function(){return this.attributes["$key?"]("reftext")},M.$$arity=0),t.def(G,"$icon_uri",P=function(t){var e=i;return u(this["$attr?"]("icon"))?(e=this.$attr("icon"),u(s(W,"Helpers")["$extname?"](e))||(e=e+"."+this.document.$attr("icontype","png"))):e=t+"."+this.document.$attr("icontype","png"),this.$image_uri(e,"iconsdir")},P.$$arity=1),t.def(G,"$image_uri",N=function(t,e){var r,o,$,l,c=i,d=i;return null==e&&(e="imagesdir"),u(u(r=n((c=this.document).$safe(),a(s(W,"SafeMode"),"SECURE")))?c["$attr?"]("data-uri"):r)?u(u(r=u(o=s(W,"Helpers")["$uriish?"](t))?t=s(W,"Helpers").$encode_spaces_in_uri(t):o)?r:u(o=u($=u(l=e)?d=c.$attr(e):l)?s(W,"Helpers")["$uriish?"](d):$)?t=this.$normalize_web_path(t,d,!1):o)?u(c["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,c["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,u(e)?c.$attr(e):i)},N.$$arity=-2),t.def(G,"$media_uri",B=function(t,e){var n=this;return null==e&&(e="imagesdir"),n.$normalize_web_path(t,u(e)?n.document.$attr(e):i)},B.$$arity=-2),t.def(G,"$generate_data_uri",D=function(t,e){var n=i,r=i,o=i;return null==e&&(e=i),r=u(n=s(W,"Helpers").$extname(t,i))?n["$=="](".svg")?"image/svg+xml":"image/"+n.$slice(1,n.$length()):"application/octet-stream",o=u(e)?this.$normalize_system_path(t,this.document.$attr(e),i,l(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),u(a("::","File")["$readable?"](o))?"data:"+r+";base64,"+a("::","Base64").$strict_encode64(a("::","File").$binread(o)):(this.$logger().$warn("image to embed not found or not readable: "+o),"data:"+r+";base64,")},D.$$arity=-2),t.def(G,"$generate_data_uri_from_uri",z=function(e,n){var r,o,$,l=i,d=i;null==n&&(n=!1),u(n)?s(W,"Helpers").$require_library("open-uri/cached","open-uri-cached"):u(s(W,"RUBY_ENGINE_OPAL")["$!"]())&&a("::","OpenURI");try{return o=c(a("::","OpenURI"),"open_uri",[e,s(W,"URI_READ_MODE")],(($=function(t){return $.$$s,null==t&&(t=i),[t.$content_type(),t.$read()]}).$$s=this,$.$$arity=1,$)),l=null==(r=t.to_ary(o))[0]?i:r[0],d=null==r[1]?i:r[1],"data:"+l+";base64,"+a("::","Base64").$strict_encode64(d)}catch(n){if(!t.rescue(n,[s(W,"StandardError")]))throw n;try{return this.$logger().$warn("could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},z.$$arity=-2),t.def(G,"$normalize_asset_path",F=function(t,e,n){return null==e&&(e="path"),null==n&&(n=!0),this.$normalize_system_path(t,this.document.$base_dir(),i,l(["target_name","recover"],{target_name:e,recover:n}))},F.$$arity=-2),t.def(G,"$normalize_system_path",j=function(t,e,r,o){var $=i;return null==e&&(e=i),null==r&&(r=i),null==o&&(o=l([],{})),u(n(($=this.document).$safe(),a(s(W,"SafeMode"),"SAFE")))?u(e)?u($.$path_resolver()["$root?"](e))||(e=a("::","File").$join($.$base_dir(),e)):e=$.$base_dir():(u(e)||(e=$.$base_dir()),u(r)||(r=$.$base_dir())),$.$path_resolver().$system_path(t,e,r,o)},j.$$arity=-2),t.def(G,"$normalize_web_path",q=function(t,e,n){var r;return null==e&&(e=i),null==n&&(n=!0),u(u(r=n)?s(W,"Helpers")["$uriish?"](t):r)?s(W,"Helpers").$encode_spaces_in_uri(t):this.document.$path_resolver().$web_path(t,e)},q.$$arity=-2),t.def(G,"$read_asset",U=function(t,e){var n;return null==e&&(e=l([],{})),u(a("::","Hash")["$==="](e))||(e=l(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),u(a("::","File")["$readable?"](t))?u(e["$[]"]("normalize"))?s(W,"Helpers").$prepare_source_string(a("::","File").$read(t,l(["mode"],{mode:s(W,"FILE_READ_MODE")}))).$join(s(W,"LF")):a("::","File").$read(t,l(["mode"],{mode:s(W,"FILE_READ_MODE")})):u(e["$[]"]("warn_on_failure"))?(this.$logger().$warn((u(n=this.$attr("docfile"))?n:"<stdin>")+": "+(u(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t),i):i},U.$$arity=-2),t.def(G,"$read_contents",H=function(e,n){var r,o,$,d,f,_=i,p=i,h=i;if(null==n&&(n=l([],{})),_=this.document,u(u(r=s(W,"Helpers")["$uriish?"](e))?r:u(o=u($=p=n["$[]"]("start"))?s(W,"Helpers")["$uriish?"](p):$)?e=_.$path_resolver().$web_path(e,p):o))if(u(_["$attr?"]("allow-uri-read"))){u(_["$attr?"]("cache-uri"))&&s(W,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{h=u(n["$[]"]("normalize"))?s(W,"Helpers").$prepare_source_string(c(a("::","OpenURI"),"open_uri",[e,s(W,"URI_READ_MODE")],(d=function(t){return d.$$s,null==t&&(t=i),t.$read()},d.$$s=this,d.$$arity=1,d))).$join(s(W,"LF")):c(a("::","OpenURI"),"open_uri",[e,s(W,"URI_READ_MODE")],((f=function(t){return f.$$s,null==t&&(t=i),t.$read()}).$$s=this,f.$$arity=1,f))}catch(i){if(!t.rescue(i,[s(W,"StandardError")]))throw i;try{u(n.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(u(r=n["$[]"]("label"))?r:"asset")+" at URI: "+e)}finally{t.pop_exception()}}}else u(n.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(u(r=n["$[]"]("label"))?r:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)");else e=this.$normalize_system_path(e,n["$[]"]("start"),i,l(["target_name"],{target_name:u(r=n["$[]"]("label"))?r:"asset"})),h=this.$read_asset(e,l(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));return u(u(r=u(o=h)?n["$[]"]("warn_if_empty"):o)?h["$empty?"]():r)&&this.$logger().$warn("contents of "+(u(r=n["$[]"]("label"))?r:"asset")+" is empty: "+e),h},H.$$arity=-2),t.def(G,"$is_uri?",Y=function(t){return s(W,"Helpers")["$uriish?"](t)},Y.$$arity=1)}(f[0],0,f)}(r[0],r)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.klass,l=t.hash2,u=t.send,c=t.truthy;return t.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$===","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$empty?","$>","$Integer","$find_by_internal","$to_proc","$context","$[]","$items","$+","$find_index","$include?","$next_adjacent_block","$blocks","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$delete","$reftext","$!","$nil_or_empty?","$sub_placeholder","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$int_to_roman","$each","$assign_numeral","$reindex_sections","$protected","$has_role?","$raise","$header?","$!=","$flatten","$head","$rows","$merge","$body","$foot","$style","$inner_document"]),function(r,d){var f=[o(r,"Asciidoctor")].concat(d);!function(r,o,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U=$(r,o,"AbstractBlock"),H=[U].concat(d);U.$$prototype.source_location=U.$$prototype.document=U.$$prototype.attributes=U.$$prototype.blocks=U.$$prototype.next_section_index=U.$$prototype.numeral=U.$$prototype.context=U.$$prototype.parent=U.$$prototype.caption=U.$$prototype.style=U.$$prototype.converted_title=U.$$prototype.title=U.$$prototype.subs=U.$$prototype.next_section_ordinal=U.$$prototype.id=U.$$prototype.header=i,U.$attr_reader("blocks"),U.$attr_writer("caption"),U.$attr_accessor("content_model"),U.$attr_accessor("level"),U.$attr_accessor("numeral"),U.$attr_accessor("source_location"),U.$attr_accessor("style"),U.$attr_reader("subs"),t.def(U,"$initialize",f=function(e,n,r){var a,o=f.$$p,$=this,d=i,_=i,p=i;for(o&&(f.$$p=null),_=0,p=arguments.length,d=new Array(p);_<p;_++)d[_]=arguments[_];return null==r&&(r=l([],{})),u($,t.find_super_dispatcher($,"initialize",f,!1),d,o),$.content_model="compound",$.blocks=[],$.subs=[],$.id=$.title=$.caption=$.numeral=$.style=$.default_subs=$.source_location=i,c(c(a=n["$=="]("document"))?a:n["$=="]("section"))?($.level=$.next_section_index=0,$.next_section_ordinal=1):c(s(H,"AbstractBlock")["$==="](e))?$.level=e.$level():$.level=i},f.$$arity=-3),t.def(U,"$block?",_=function(){return!0},_.$$arity=0),t.def(U,"$inline?",p=function(){return!1},p.$$arity=0),t.def(U,"$file",h=function(){var t;return c(t=this.source_location)?this.source_location.$file():t},h.$$arity=0),t.def(U,"$lineno",y=function(){var t;return c(t=this.source_location)?this.source_location.$lineno():t},y.$$arity=0),t.def(U,"$convert",m=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},m.$$arity=0),t.alias(U,"render","convert"),t.def(U,"$content",g=function(){var t;return u(this.blocks,"map",[],(t=function(e){return t.$$s,null==e&&(e=i),e.$convert()},t.$$s=this,t.$$arity=1,t)).$join(s(H,"LF"))},g.$$arity=0),t.def(U,"$context=",v=function(t){return this.node_name=(this.context=t).$to_s()},v.$$arity=1),t.def(U,"$<<",b=function(n){var r=i;return n.$parent()["$=="](this)||(r=[this],u(n,"parent=",t.to_a(r)),r[e(r.length,1)]),this.blocks["$<<"](n),this},b.$$arity=1),t.alias(U,"append","<<"),t.def(U,"$blocks?",x=function(){return!c(this.blocks["$empty?"]())},x.$$arity=0),t.def(U,"$sections?",w=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)},w.$$arity=0),t.def(U,"$number",k=function(){try{return this.$Integer(this.numeral)}catch(e){if(!t.rescue(e,[s(H,"StandardError")]))throw e;try{return this.numeral}finally{t.pop_exception()}}},k.$$arity=0),t.def(U,"$number=",A=function(t){return this.numeral=t.$to_s()},A.$$arity=1),t.def(U,"$find_by",E=function(e){var n=E.$$p,r=n||i,s=i;n&&(E.$$p=null),n&&(E.$$p=null),null==e&&(e=l([],{}));try{return u(this,"find_by_internal",[e,s=[]],r.$to_proc())}catch(e){if(!t.rescue(e,[a("::","StopIteration")]))throw e;try{return s}finally{t.pop_exception()}}},E.$$arity=-1),t.alias(U,"query","find_by"),t.def(U,"$next_adjacent_block",O=function(){var t,e=i,r=i;return this.context["$=="]("document")?i:c((e=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(e=this.parent).$context()["$=="]("dlist"))?c(r=e.$items()["$[]"](n(u(e.$items(),"find_index",[],((t=function(e,n){var r,a=t.$$s||this;return null==e&&(e=i),null==n&&(n=i),c(r=e["$include?"](a))?r:n["$=="](a)}).$$s=this,t.$$arity=2,t)),1)))?r:e.$next_adjacent_block():c(r=e.$blocks()["$[]"](n(e.$blocks().$find_index(this),1)))?r:e.$next_adjacent_block()},O.$$arity=0),t.def(U,"$sections",S=function(){var t;return u(this.blocks,"select",[],((t=function(e){return t.$$s,null==e&&(e=i),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},S.$$arity=0),t.def(U,"$alt",R=function(){var t=i;return c(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),c(s(H,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):""},R.$$arity=0),t.def(U,"$caption",C=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},C.$$arity=0),t.def(U,"$captioned_title",I=function(){return""+this.caption+this.$title()},I.$$arity=0),t.def(U,"$list_marker_keyword",T=function(t){var e;return null==t&&(t=i),s(H,"ORDERED_LIST_KEYWORDS")["$[]"](c(e=t)?e:this.style)},T.$$arity=-1),t.def(U,"$title",L=function(){var t,e;return this.converted_title=c(t=this.converted_title)?t:c(e=this.title)?this.$apply_title_subs(this.title):e},L.$$arity=0),t.def(U,"$title?",M=function(){return!!c(this.title)},M.$$arity=0),t.def(U,"$title=",P=function(t){return this.converted_title=i,this.title=t},P.$$arity=1),t.def(U,"$sub?",N=function(t){return this.subs["$include?"](t)},N.$$arity=1),t.def(U,"$remove_sub",B=function(t){return this.subs.$delete(t),i},B.$$arity=1),t.def(U,"$xreftext",D=function(t){var e,n,r=this,a=i,o=i,$=i,l=i,u=i;return null==t&&(t=i),c(c(e=a=r.$reftext())?a["$empty?"]()["$!"]():e)?a:c(c(e=c(n=t)?r.title:n)?r.caption["$nil_or_empty?"]()["$!"]():e)?"full"["$==="](o=t)?($=r.$sub_placeholder(r.$sub_quotes(c(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),c(c(e=c(n=r.numeral)?l=s(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](r.context):n)?u=r.document.$attributes()["$[]"](l):e)?u+" "+r.numeral+", "+$:r.caption.$chomp(". ")+", "+$):"short"["$==="](o)?c(c(e=c(n=r.numeral)?l=s(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](r.context):n)?u=r.document.$attributes()["$[]"](l):e)?u+" "+r.numeral:r.caption.$chomp(". "):r.$title():r.$title()},D.$$arity=-1),t.def(U,"$assign_caption",z=function(t,e){var n,r,a=i,o=i;return null==e&&(e=this.context),c(c(n=c(r=this.caption)?r:this.title["$!"]())?n:this.caption=c(r=t)?r:this.document.$attributes()["$[]"]("caption"))?i:c(c(n=a=s(H,"CAPTION_ATTRIBUTE_NAMES")["$[]"](e))?o=this.document.$attributes()["$[]"](a):n)?(this.caption=o+" "+(this.numeral=this.document.$increment_and_store_counter(e+"-number",this))+". ",i):i},z.$$arity=-2),t.def(U,"$assign_numeral",F=function(r){var a,o=this,$=i,l=i,d=i,f=i;return o.next_section_index=n(($=[o.next_section_index],u(r,"index=",t.to_a($)),$[e($.length,1)]),1),c(l=r.$numbered())&&((d=r.$sectname())["$=="]("appendix")?($=[o.document.$counter("appendix-number","A")],u(r,"numeral=",t.to_a($)),$[e($.length,1)],$=[c(f=o.document.$attributes()["$[]"]("appendix-caption"))?f+" "+r.$numeral()+": ":r.$numeral()+". "],u(r,"caption=",t.to_a($)),$[e($.length,1)]):c(c(a=d["$=="]("chapter"))?a:l["$=="]("chapter"))?($=[o.document.$counter("chapter-number",1).$to_s()],u(r,"numeral=",t.to_a($)),$[e($.length,1)]):($=[d["$=="]("part")?s(H,"Helpers").$int_to_roman(o.next_section_ordinal):o.next_section_ordinal.$to_s()],u(r,"numeral=",t.to_a($)),$[e($.length,1)],o.next_section_ordinal=n(o.next_section_ordinal,1))),i},F.$$arity=1),t.def(U,"$reindex_sections",j=function(){var t;return this.next_section_index=0,this.next_section_ordinal=1,u(this.blocks,"each",[],((t=function(e){var n=t.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")?(n.$assign_numeral(e),e.$reindex_sections()):i}).$$s=this,t.$$arity=1,t))},j.$$arity=0),U.$protected(),t.def(U,"$find_by_internal",q=function(e,r){var s,o,$,d,f,_,p,h,y,m,g,v=q.$$p,b=v||i,x=i,w=i,k=i,A=i,E=i,O=i;if(v&&(q.$$p=null),v&&(q.$$p=null),null==e&&(e=l([],{})),null==r&&(r=[]),c(c(s=c(o=c($=c(d=g=!c(x=e["$[]"]("context"))||i)?d:x["$=="](this.context))?c(d=(w=e["$[]"]("style"))["$!"]())?d:w["$=="](this.style):$)?c($=(k=e["$[]"]("role"))["$!"]())?$:this["$has_role?"](k):o)?c(o=(A=e["$[]"]("id"))["$!"]())?o:A["$=="](this.id):s))if(b!==i)if(c(E=t.yield1(b,this))){if("prune"["$==="](O=E))return r["$<<"](this),c(A)&&this.$raise(a("::","StopIteration")),r;if("reject"["$==="](O))return c(A)&&this.$raise(a("::","StopIteration")),r;"stop"["$==="](O)?this.$raise(a("::","StopIteration")):(r["$<<"](this),c(A)&&this.$raise(a("::","StopIteration")))}else c(A)&&this.$raise(a("::","StopIteration"));else r["$<<"](this),c(A)&&this.$raise(a("::","StopIteration"));return O=this.context,"document"["$==="](O)?x["$=="]("document")||(c(c(s=this["$header?"]())?c(o=g)?o:x["$=="]("section"):s)&&u(this.header,"find_by_internal",[e,r],b.$to_proc()),u(this.blocks,"each",[],((f=function(t){return f.$$s,null==t&&(t=i),c(x["$=="]("section")?t.$context()["$!="]("section"):x["$=="]("section"))?i:u(t,"find_by_internal",[e,r],b.$to_proc())}).$$s=this,f.$$arity=1,f))):"dlist"["$==="](O)?c(c(s=g)?s:x["$!="]("section"))&&u(this.blocks.$flatten(),"each",[],((_=function(t){return _.$$s,null==t&&(t=i),c(t)?u(t,"find_by_internal",[e,r],b.$to_proc()):i}).$$s=this,_.$$arity=1,_)):"table"["$==="](O)?c(e["$[]"]("traverse_documents"))?(u(this.$rows().$head(),"each",[],((p=function(t){var n,a=p.$$s||this;return null==t&&(t=i),u(t,"each",[],((n=function(t){return n.$$s,null==t&&(t=i),u(t,"find_by_internal",[e,r],b.$to_proc())}).$$s=a,n.$$arity=1,n))}).$$s=this,p.$$arity=1,p)),x["$=="]("inner_document")&&(e=e.$merge(l(["context"],{context:"document"}))),u(n(this.$rows().$body(),this.$rows().$foot()),"each",[],((h=function(t){var n,a=h.$$s||this;return null==t&&(t=i),u(t,"each",[],((n=function(t){return n.$$s,null==t&&(t=i),u(t,"find_by_internal",[e,r],b.$to_proc()),t.$style()["$=="]("asciidoc")?u(t.$inner_document(),"find_by_internal",[e,r],b.$to_proc()):i}).$$s=a,n.$$arity=1,n))}).$$s=this,h.$$arity=1,h))):u(n(n(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],((y=function(t){var n,a=y.$$s||this;return null==t&&(t=i),u(t,"each",[],((n=function(t){return n.$$s,null==t&&(t=i),u(t,"find_by_internal",[e,r],b.$to_proc())}).$$s=a,n.$$arity=1,n))}).$$s=this,y.$$arity=1,y)):u(this.blocks,"each",[],((m=function(t){return m.$$s,null==t&&(t=i),c(x["$=="]("section")?t.$context()["$!="]("section"):x["$=="]("section"))?i:u(t,"find_by_internal",[e,r],b.$to_proc())}).$$s=this,m.$$arity=1,m)),r},q.$$arity=-1)}(f[0],s(f,"AbstractNode"),f)}(r[0],r)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.klass,l=t.hash,u=t.hash2,c=t.truthy,d=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$private","$skip_blank","$peek","$===","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$end_with?","$rstrip","$string","$==","$unscan","$scan_to_delimiter","$*","$include?","$delete","$each","$split","$empty?","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(r,f){var _=[o(r,"Asciidoctor")].concat(f);!function(r,o,f){var _,p,h,y,m,g,v,b,x,w,k,A,E=$(r,null,"AttributeList"),O=[E].concat(f);E.$$prototype.attributes=E.$$prototype.scanner=E.$$prototype.delimiter=E.$$prototype.block=E.$$prototype.delimiter_skip_pattern=E.$$prototype.delimiter_boundary_pattern=i,t.const_set(O[0],"APOS","'"),t.const_set(O[0],"BACKSLASH","\\"),t.const_set(O[0],"QUOT",'"'),t.const_set(O[0],"BoundaryRxs",l(s(O,"QUOT"),/.*?[^\\](?=")/,s(O,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),t.const_set(O[0],"EscapedQuotes",l(s(O,"QUOT"),'\\"',s(O,"APOS"),"\\'")),t.const_set(O[0],"NameRx",new RegExp(s(O,"CG_WORD")+"["+s(O,"CC_WORD")+"\\-.]*")),t.const_set(O[0],"BlankRx",/[ \t]+/),t.const_set(O[0],"SkipRxs",u([","],{",":/[ \t]*(,|$)/})),t.def(E,"$initialize",_=function(t,e,n){return null==e&&(e=i),null==n&&(n=","),this.scanner=a("::","StringScanner").$new(t),this.block=e,this.delimiter=n,this.delimiter_skip_pattern=s(O,"SkipRxs")["$[]"](n),this.delimiter_boundary_pattern=s(O,"BoundaryRxs")["$[]"](n),this.attributes=i},_.$$arity=-2),t.def(E,"$parse_into",p=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},p.$$arity=-2),t.def(E,"$parse",h=function(t){var n=i;if(null==t&&(t=[]),c(this.attributes))return this.attributes;for(this.attributes=u([],{}),n=0;c(this.$parse_attribute(n,t))&&!c(this.scanner["$eos?"]());)this.$skip_delimiter(),n=e(n,1);return this.attributes},h.$$arity=-1),t.def(E,"$rekey",y=function(t){return s(O,"AttributeList").$rekey(this.attributes,t)},y.$$arity=1),t.defs(E,"$rekey",m=function(r,a){var s;return d(a,"each_with_index",[],((s=function(a,o){s.$$s;var $,l=i,u=i;return null==a&&(a=i),null==o&&(o=i),c(c($=a)?l=r["$[]"](e(o,1)):$)?(u=[a,l],d(r,"[]=",t.to_a(u)),u[n(u.length,1)]):i}).$$s=this,s.$$arity=2,s)),r},m.$$arity=2),E.$private(),t.def(E,"$parse_attribute",g=function(r,a){var o,$,l,u,f,_=i,p=i,h=i,y=i,m=i,g=i,v=i,b=i,x=i;if(_=!0,this.$skip_blank(),p=this.scanner.$peek(1),s(O,"QUOT")["$==="](p))h=this.$parse_attribute_value(this.scanner.$get_byte());else if(s(O,"APOS")["$==="](p))h=this.$parse_attribute_value(this.scanner.$get_byte()),c(h["$start_with?"](s(O,"APOS")))||(y=!0);else if(m=c(o=c($=h=this.$scan_name())?this.$skip_blank():$)?o:0,c(this.scanner["$eos?"]())){if(!c(c(o=h)?o:this.scanner.$string().$rstrip()["$end_with?"](this.delimiter)))return i;_=i}else if((g=this.scanner.$get_byte())["$=="](this.delimiter))this.scanner.$unscan();else if(c(h))if(g["$=="]("=")){if(this.$skip_blank(),p=g=this.scanner.$get_byte(),s(O,"QUOT")["$==="](p))v=this.$parse_attribute_value(g);else if(s(O,"APOS")["$==="](p))v=this.$parse_attribute_value(g),c(v["$start_with?"](s(O,"APOS")))||(y=!0);else if(this.delimiter["$==="](p))v="",this.scanner.$unscan();else if(i["$==="](p))v="";else if((v=""+g+this.$scan_to_delimiter())["$=="]("None"))return!0}else h=""+h+(f=m,"number"==typeof(u=" ")&&"number"==typeof f?u*f:u["$*"](f))+g+this.$scan_to_delimiter();else h=""+g+this.$scan_to_delimiter();return c(v)?"options"["$==="](p=h)||"opts"["$==="](p)?c(v["$include?"](","))?(c(v["$include?"](" "))&&(v=v.$delete(" ")),d(v.$split(","),"each",[],((l=function(e){var r=l.$$s||this,a=i;return null==r.attributes&&(r.attributes=i),null==e&&(e=i),c(e["$empty?"]())?i:(a=[e+"-option",""],d(r.attributes,"[]=",t.to_a(a)),a[n(a.length,1)])}).$$s=this,l.$$arity=1,l))):c(v["$empty?"]())||(b=[v+"-option",""],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]):c(c(o=y)?this.block:o)?"title"["$==="](p=h)||"reftext"["$==="](p)?(b=[h,v],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]):(b=[h,this.block.$apply_subs(v)],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]):(b=[h,v],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]):(c(c(o=y)?this.block:o)&&(h=this.block.$apply_subs(h)),c(x=a["$[]"](r))&&(b=[x,h],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]),b=[e(r,1),h],d(this.attributes,"[]=",t.to_a(b)),b[n(b.length,1)]),_},g.$$arity=2),t.def(E,"$parse_attribute_value",v=function(t){var e=i;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):c(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),c(e["$include?"](s(O,"BACKSLASH")))?e.$gsub(s(O,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},v.$$arity=1),t.def(E,"$skip_blank",b=function(){return this.scanner.$skip(s(O,"BlankRx"))},b.$$arity=0),t.def(E,"$skip_delimiter",x=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},x.$$arity=0),t.def(E,"$scan_name",w=function(){return this.scanner.$scan(s(O,"NameRx"))},w.$$arity=0),t.def(E,"$scan_to_delimiter",k=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},k.$$arity=0),t.def(E,"$scan_to_quote",A=function(t){return this.scanner.$scan(s(O,"BoundaryRxs")["$[]"](t))},A.$$arity=1)}(_[0],0,_)}(r[0],r)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.klass,l=t.send,u=t.hash2,c=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$drop","$delete","$[]=","$commit_subs","$nil_or_empty?","$prepare_source_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$logger","$to_s","$class","$object_id","$inspect"]),function(r,d){var f=[o(r,"Asciidoctor")].concat(d);!function(r,o,d){var f,_,p,h,y,m=$(r,o,"Block"),g=[m].concat(d);m.$$prototype.attributes=m.$$prototype.content_model=m.$$prototype.lines=m.$$prototype.subs=m.$$prototype.blocks=m.$$prototype.context=m.$$prototype.style=i,y=["simple"],l(t.const_set(g[0],"DEFAULT_CONTENT_MODEL",u(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(y)),e(y.length,1),t.alias(m,"blockname","context"),m.$attr_accessor("lines"),t.def(m,"$initialize",f=function(n,r,o){var $,d=f.$$p,_=this,p=i,h=i,y=i,m=i,v=i,b=i;for(d&&(f.$$p=null),v=0,b=arguments.length,m=new Array(b);v<b;v++)m[v]=arguments[v];return null==o&&(o=u([],{})),l(_,t.find_super_dispatcher(_,"initialize",f,!1),m,d),_.content_model=c($=o["$[]"]("content_model"))?$:s(g,"DEFAULT_CONTENT_MODEL")["$[]"](r),c(o["$key?"]("subs"))?c(p=o["$[]"]("subs"))?(p["$=="]("default")?_.default_subs=o["$[]"]("default_subs"):c(a("::","Array")["$==="](p))?(_.default_subs=p.$drop(0),_.attributes.$delete("subs")):(_.default_subs=i,h=["subs",""+p],l(_.attributes,"[]=",t.to_a(h)),h[e(h.length,1)]),_.$commit_subs()):(_.default_subs=[],_.attributes.$delete("subs")):_.default_subs=i,c((y=o["$[]"]("source"))["$nil_or_empty?"]())?_.lines=[]:c(a("::","String")["$==="](y))?_.lines=s(g,"Helpers").$prepare_source_string(y):_.lines=y.$drop(0)},f.$$arity=-3),t.def(m,"$content",_=function(){var e,r=_.$$p,a=this,o=i,$=i,u=i,d=i,f=i,p=i,h=i;for(r&&(_.$$p=null),p=0,h=arguments.length,f=new Array(h);p<h;p++)f[p]=arguments[p];return function(){if(o=a.content_model,"compound"["$==="](o))return l(a,t.find_super_dispatcher(a,"content",_,!1),f,r);if("simple"["$==="](o))return a.$apply_subs(a.lines.$join(s(g,"LF")),a.subs);if("verbatim"["$==="](o)||"raw"["$==="](o)){if($=a.$apply_subs(a.lines,a.subs),c(n($.$size(),2)))return $["$[]"](0);for(;c(c(e=u=$["$[]"](0))?u.$rstrip()["$empty?"]():e);)$.$shift();for(;c(c(e=d=$["$[]"](-1))?d.$rstrip()["$empty?"]():e);)$.$pop();return $.$join(s(g,"LF"))}return a.content_model["$=="]("empty")||a.$logger().$warn("Unknown content model '"+a.content_model+"' for block: "+a.$to_s()),i}()},_.$$arity=0),t.def(m,"$source",p=function(){return this.lines.$join(s(g,"LF"))},p.$$arity=0),t.def(m,"$to_s",h=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},h.$$arity=0)}(f[0],s(f,"AbstractBlock"),f)}(r[0],r)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],i=t.nil,a=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,$=t.truthy,l=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$private","$generate_callout_id"]),function(r,u){var c=[a(r,"Asciidoctor")].concat(u);!function(r,a,u){var c,d,f,_,p,h,y,m,g,v=s(r,null,"Callouts");[v].concat(u),v.$$prototype.co_index=v.$$prototype.lists=v.$$prototype.list_index=i,t.def(v,"$initialize",c=function(){return this.lists=[],this.list_index=0,this.$next_list()},c.$$arity=0),t.def(v,"$register",d=function(t){var n;return this.$current_list()["$<<"](o(["ordinal","id"],{ordinal:t.$to_i(),id:n=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),n},d.$$arity=1),t.def(v,"$read_next_id",f=function(){var t,r,a=i,s=i;return a=i,s=this.$current_list(),$((t=this.co_index,r=s.$size(),"number"==typeof t&&"number"==typeof r?t<=r:t["$<="](r)))&&(a=s["$[]"](n(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),a},f.$$arity=0),t.def(v,"$callout_ids",_=function(t){var e;return l(this.$current_list(),"map",[],(e=function(n){return e.$$s,null==n&&(n=i),n["$[]"]("ordinal")["$=="](t)?n["$[]"]("id")+" ":""},e.$$s=this,e.$$arity=1,e)).$join().$chop()},_.$$arity=1),t.def(v,"$current_list",p=function(){return this.lists["$[]"](n(this.list_index,1))},p.$$arity=0),t.def(v,"$next_list",h=function(){var t,n;return this.list_index=e(this.list_index,1),$((t=this.lists.$size(),n=this.list_index,"number"==typeof t&&"number"==typeof n?t<n:t["$<"](n)))&&this.lists["$<<"]([]),this.co_index=1,i},h.$$arity=0),t.def(v,"$rewind",y=function(){return this.list_index=1,this.co_index=1,i},y.$$arity=0),v.$private(),t.def(v,"$generate_next_callout_id",m=function(){return this.$generate_callout_id(this.list_index,this.co_index)},m.$$arity=0),t.def(v,"$generate_callout_id",g=function(t,e){return"CO"+t+"-"+e},g.$$arity=2)}(c[0],0,c)}(r[0],r)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.hash2,l=t.truthy,u=t.send,c=t.klass,d=t.gvars;return t.add_stubs(["$autoload","$__dir__","$attr_reader","$raise","$class","$[]","$sub","$slice","$length","$==","$[]=","$backend_traits","$-","$derive_backend_traits","$register","$map","$to_s","$new","$create","$default","$each","$default=","$registry","$for","$===","$supports_templates?","$merge","$private","$include","$delete","$clear","$private_class_method","$send","$extend","$node_name","$+","$receiver","$name","$warn","$logger","$respond_to?","$content"]),function(r,f){var _=[o(r,"Asciidoctor")].concat(f);!function(r,f){var _,p,h,y,m,g,v=o(r,"Converter"),b=[v].concat(f);v.$autoload("CompositeConverter",v.$__dir__()+"/converter/composite"),v.$autoload("TemplateConverter",v.$__dir__()+"/converter/template"),v.$attr_reader("backend"),t.def(v,"$initialize",_=function(t,e){return null==e&&(e=$([],{})),this.backend=t},_.$$arity=-2),t.def(v,"$convert",p=function(t,e,n){return null==this.backend&&(this.backend=i),null==e&&(e=i),null==n&&(n=i),this.$raise(a("::","NotImplementedError"),this.$class()+" (backend: "+this.backend+") must implement the #convert method")},p.$$arity=-2),t.def(v,"$handles?",h=function(t){return!0},h.$$arity=1),t.defs(v,"$derive_backend_traits",y=function(t,e){var n,r=i,a=i;return null==e&&(e=i),l(t)?(l(r=s(b,"DEFAULT_EXTENSIONS")["$[]"](e=l(n=e)?n:t.$sub(s(b,"TrailingDigitsRx"),"")))?a=r.$slice(1,r.$length()):r="."+(a=e),a["$=="]("html")?$(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:e,filetype:a,htmlsyntax:"html",outfilesuffix:r}):$(["basebackend","filetype","outfilesuffix"],{basebackend:e,filetype:a,outfilesuffix:r})):$([],{})},y.$$arity=-2),function(n,r){var a,c,d,f,_,p,h,y,m,g=o(n,"BackendTraits"),v=[g].concat(r);t.def(g,"$basebackend",a=function(n){var r=i;return null==n&&(n=i),l(n)?(r=["basebackend",n],u(this.$backend_traits(n),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_traits()["$[]"]("basebackend")},a.$$arity=-1),t.def(g,"$filetype",c=function(n){var r=i;return null==n&&(n=i),l(n)?(r=["filetype",n],u(this.$backend_traits(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_traits()["$[]"]("filetype")},c.$$arity=-1),t.def(g,"$htmlsyntax",d=function(n){var r=i;return null==n&&(n=i),l(n)?(r=["htmlsyntax",n],u(this.$backend_traits(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},d.$$arity=-1),t.def(g,"$outfilesuffix",f=function(n){var r=i;return null==n&&(n=i),l(n)?(r=["outfilesuffix",n],u(this.$backend_traits(),"[]=",t.to_a(r)),r[e(r.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},f.$$arity=-1),t.def(g,"$supports_templates",_=function(n){var r;return null==n&&(n=!0),r=["supports_templates",n],u(this.$backend_traits(),"[]=",t.to_a(r)),r[e(r.length,1)]},_.$$arity=-1),t.def(g,"$supports_templates?",p=function(){return this.$backend_traits()["$[]"]("supports_templates")},p.$$arity=0),t.def(g,"$init_backend_traits",h=function(t){var e;return null==t&&(t=i),this.backend_traits=l(e=t)?e:$([],{})},h.$$arity=-1),t.def(g,"$backend_traits",y=function(t){var e;return null==this.backend_traits&&(this.backend_traits=i),null==this.backend&&(this.backend=i),null==t&&(t=i),this.backend_traits=l(e=this.backend_traits)?e:s(v,"Converter").$derive_backend_traits(this.backend,t)},y.$$arity=-1),t.alias(g,"backend_info","backend_traits"),t.defs(g,"$derive_backend_traits",m=function(t,e){return null==e&&(e=i),s(v,"Converter").$derive_backend_traits(t,e)},m.$$arity=-2)}(b[0],b),function(e,n){var r,a=o(e,"Config"),$=[a].concat(n);t.def(a,"$register_for",r=function(e){var n,r,a=this;return n=t.slice.call(arguments,0,arguments.length),u(s($,"Converter"),"register",[a].concat(t.to_a(u(n,"map",[],((r=function(t){return r.$$s,null==t&&(t=i),t.$to_s()}).$$s=a,r.$$arity=1,r)))))},r.$$arity=-1)}(b[0],b),function(n,r){var c,d,f,_,p,h,y,m,g=o(n,"Factory"),v=[g].concat(r);t.defs(g,"$new",c=function(e,n){var r,a,o,u;if(r=t.slice.call(arguments,0,arguments.length),null==(a=t.extract_kwargs(r)))a=$([],{});else if(!a.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return r.length>0&&(o=r[0],r.splice(0,1)),null==o&&(o=i),null==(u=a.$$smap.proxy_default)&&(u=!0),l(u)?s(v,"DefaultFactoryProxy").$new(o):s(v,"CustomFactory").$new(o)},c.$$arity=-1),t.defs(g,"$default",d=function(e){return t.slice.call(arguments,0,arguments.length),s(v,"Converter")},d.$$arity=-1),t.defs(g,"$create",f=function(t,e){return null==e&&(e=$([],{})),this.$default().$create(t,e)},f.$$arity=-2),t.def(g,"$register",_=function(n,r){var a,s,o=this;return a=t.slice.call(arguments,1,arguments.length),u(a,"each",[],((s=function(r){var a=s.$$s||this,o=i;return null==r&&(r=i),r["$=="]("*")?(o=[n],u(a.$registry(),"default=",t.to_a(o)),o[e(o.length,1)]):(o=[r,n],u(a.$registry(),"[]=",t.to_a(o)),o[e(o.length,1)])}).$$s=o,s.$$arity=1,s))},_.$$arity=-2),t.def(g,"$for",p=function(t){return this.$registry()["$[]"](t)},p.$$arity=1),t.def(g,"$create",h=function(t,e){var n,r,o=i,u=i,c=i;return null==e&&(e=$([],{})),l(o=this.$for(t))?(l(a("::","Class")["$==="](o))&&(o=o.$new(t,e)),l(l(n=l(r=u=e["$[]"]("template_dirs"))?s(v,"BackendTraits")["$==="](o):r)?o["$supports_templates?"]():n)?s(v,"CompositeConverter").$new(t,s(v,"TemplateConverter").$new(t,u,e),o,$(["backend_traits_source"],{backend_traits_source:o})):o):l(u=e["$[]"]("template_dirs"))?l(l(n=c=e["$[]"]("delegate_backend"))?o=this.$for(c):n)?(l(a("::","Class")["$==="](o))&&(o=o.$new(c,e)),s(v,"CompositeConverter").$new(t,s(v,"TemplateConverter").$new(t,u,e),o,$(["backend_traits_source"],{backend_traits_source:o}))):s(v,"TemplateConverter").$new(t,u,e):i},h.$$arity=-2),t.def(g,"$converters",y=function(){return this.$registry().$merge()},y.$$arity=0),g.$private(),t.def(g,"$registry",m=function(){return this.$raise(a("::","NotImplementedError"),s(v,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},m.$$arity=0)}(b[0],b),function(n,r,a){var o,d,f=c(n,null,"CustomFactory"),_=[f].concat(a);f.$include(s(_,"Factory")),t.def(f,"$initialize",o=function(n){var r=i;return null==n&&(n=i),l(n)?(r=[n.$delete("*")],u(n,"default=",t.to_a(r)),r[e(r.length,1)],this.registry=n):this.registry=$([],{})},o.$$arity=-1),t.def(f,"$unregister_all",d=function(){var n;return n=[i],u(this.$registry().$clear(),"default=",t.to_a(n)),n[e(n.length,1)]},d.$$arity=0),f.$private(),f.$attr_reader("registry")}(b[0],0,b),function(e,n){var r,a=o(e,"DefaultFactory"),l=[a].concat(n);a.$include(s(l,"Factory")),a.$private(),t.class_variable_set(l[0],"@@registry",$([],{})),t.def(a,"$registry",r=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?i:t},r.$$arity=0),s(l,"RUBY_ENGINE")["$=="]("opal")}(b[0],b),function(t,e,n){var r=c(t,e,"DefaultFactoryProxy"),i=[r].concat(n);r.$include(s(i,"DefaultFactory")),s(i,"RUBY_ENGINE")["$=="]("opal")}(b[0],s(b,"CustomFactory"),b),v.$private_class_method(l((t.defs(v,"$included",g=function(t){return t.$send("include",s(b,"BackendTraits")),t.$extend(s(b,"Config"))},g.$$arity=1),m=i&&"included"))?m:"included"),function(e,r,o){var $,u,f,_,p=c(e,null,"Base"),h=[p].concat(o);p.$$prototype.backend=i,p.$include(s(h,"Converter"),s(h,"Logging")),t.def(p,"$convert",$=function(e,r,o){var $,u,c=i;null==d["!"]&&(d["!"]=i),null==r&&(r=e.$node_name()),null==o&&(o=i);try{return l(o)?this.$send(n("convert_",r),e,o):this.$send(n("convert_",r),e)}catch(e){if(!t.rescue(e,[s(h,"StandardError")]))throw e;try{return l(l($=l(u=a("::","NoMethodError")["$==="](c=d["!"]))?c.$receiver()["$=="](this):u)?c.$name().$to_s()["$=="](r):$)||this.$raise(),this.$logger().$warn("missing convert handler for "+c.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),i}finally{t.pop_exception()}}},$.$$arity=-2),t.def(p,"$handles?",u=function(t){return this["$respond_to?"]("convert_"+t)},u.$$arity=1),t.def(p,"$content_only",f=function(t){return t.$content()},f.$$arity=1),t.def(p,"$skip",_=function(t){return i},_.$$arity=1)}(b[0],0,b),v.$extend(s(b,"DefaultFactory"))}(_[0],_)}(r[0],r)},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,d=t.send,f=t.truthy,_=t.hash2,p=t.hash,h=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$merge","$catalog","$attributes","$safe","$compat_mode","$outfilesuffix","$sourcemap","$path_resolver","$converter","$extensions","$syntax_highlighter","$each","$end_with?","$start_with?","$slice","$length","$chop","$==","$downcase","$extname","$===","$value_for_name","$key?","$freeze","$attribute_undefined","$attribute_missing","$update","$&","$keys","$name_for_value","$expand_path","$pwd","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$fetch","$fill_datetime_attributes","$activate","$groups","$create","$to_proc","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$to_s","$value","$save_to","$register","$tap","$xreftext","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$reftext","$>","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$name","$negate","$rewind","$replace","$attribute_locked?","$apply_attribute_value_subs","$delete?","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$class","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$normalize_system_path","$read_asset","$apply_subs","$docinfo_processors?","$join","$concat","$compact","$docinfo_processors","$object_id","$inspect","$size","$private","$=~","$resolve_pass_subs","$apply_header_subs","$limit_bytesize","$bytesize","$valid_encoding?","$byteslice","$resolve_subs","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$partition","$create_converter","$basebackend","$filetype","$htmlsyntax","$derive_backend_traits","$raise"]),function(s,y){var m=[u(s,"Asciidoctor")].concat(y);!function(s,u,y){var m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt,ut,ct,dt,ft,_t,pt,ht=c(s,u,"Document"),yt=[ht].concat(y);ht.$$prototype.attributes=ht.$$prototype.safe=ht.$$prototype.sourcemap=ht.$$prototype.reader=ht.$$prototype.base_dir=ht.$$prototype.parsed=ht.$$prototype.parent_document=ht.$$prototype.extensions=ht.$$prototype.options=ht.$$prototype.counters=ht.$$prototype.catalog=ht.$$prototype.reftexts=ht.$$prototype.header=ht.$$prototype.blocks=ht.$$prototype.header_attributes=ht.$$prototype.attributes_modified=ht.$$prototype.backend=ht.$$prototype.attribute_overrides=ht.$$prototype.timings=ht.$$prototype.converter=ht.$$prototype.outfilesuffix=ht.$$prototype.docinfo_processor_extensions=ht.$$prototype.document=ht.$$prototype.max_attribute_value_size=ht.$$prototype.id=ht.$$prototype.doctype=o,t.const_set(yt[0],"ImageReference",d($("::","Struct"),"new",["target","imagesdir"],((m=function(){var e=m.$$s||this;return t.alias(e,"to_s","target")}).$$s=ht,m.$$arity=0,m))),t.const_set(yt[0],"Footnote",$("::","Struct").$new("index","id","text")),function(n,r,i){var a,s,$=c(n,null,"AttributeEntry");[$].concat(i),$.$attr_reader("name","value","negate"),t.def($,"$initialize",a=function(t,e,n){return null==n&&(n=o),this.name=t,this.value=e,this.negate=f(n["$nil?"]())?e["$nil?"]():n},a.$$arity=-3),t.def($,"$save_to",s=function(n){var r,i=o;return(f(r=n["$[]"]("attribute_entries"))?r:(i=["attribute_entries",[]],d(n,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},s.$$arity=1)}(yt[0],0,yt),function(e,n,r){var i,a,s,$,u=c(e,null,"Title"),d=[u].concat(r);u.$$prototype.sanitized=u.$$prototype.subtitle=u.$$prototype.combined=o,u.$attr_reader("main"),t.alias(u,"title","main"),u.$attr_reader("subtitle"),u.$attr_reader("combined"),t.def(u,"$initialize",i=function(e,n){var r,i,a=o;return null==n&&(n=_([],{})),f(f(r=this.sanitized=n["$[]"]("sanitize"))?e["$include?"]("<"):r)&&(e=e.$gsub(l(d,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),f(f(r=(a=f(i=n["$[]"]("separator"))?i:":")["$empty?"]())?r:e["$include?"](a+=" ")["$!"]())?(this.main=e,this.subtitle=o):(i=e.$rpartition(a),r=t.to_ary(i),this.main=null==r[0]?o:r[0],null==r[1]||r[1],this.subtitle=null==r[2]?o:r[2]),this.combined=e},i.$$arity=-2),t.def(u,"$sanitized?",a=function(){return this.sanitized},a.$$arity=0),t.def(u,"$subtitle?",s=function(){return!!f(this.subtitle)},s.$$arity=0),t.def(u,"$to_s",$=function(){return this.combined},$.$$arity=0)}(yt[0],0,yt),t.const_set(yt[0],"Author",$("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),ht.$attr_reader("safe"),ht.$attr_reader("compat_mode"),ht.$attr_reader("backend"),ht.$attr_reader("doctype"),ht.$attr_accessor("sourcemap"),ht.$attr_reader("catalog"),t.alias(ht,"references","catalog"),ht.$attr_reader("counters"),ht.$attr_reader("header"),ht.$attr_reader("base_dir"),ht.$attr_reader("options"),ht.$attr_reader("outfilesuffix"),ht.$attr_reader("parent_document"),ht.$attr_reader("reader"),ht.$attr_reader("path_resolver"),ht.$attr_reader("converter"),ht.$attr_reader("syntax_highlighter"),ht.$attr_reader("extensions"),t.def(ht,"$initialize",g=function(i,a){var s,u,c,h,y,m,v,b,x,w,k,A,E=g.$$p,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o,B=o,D=o,z=o;return E&&(g.$$p=null),null==i&&(i=o),null==a&&(a=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",g,!1),[this,"document"],null),f(O=a.$delete("parent"))?(this.parent_document=O,f(s=a["$[]"]("base_dir"))||(S=["base_dir",O.$base_dir()],d(a,"[]=",t.to_a(S)),S[e(S.length,1)]),f(O.$options()["$[]"]("catalog_assets"))&&(S=["catalog_assets",!0],d(a,"[]=",t.to_a(S)),S[e(S.length,1)]),this.catalog=O.$catalog().$merge(_(["footnotes"],{footnotes:[]})),this.attribute_overrides=R=O.$attributes().$merge(),C=R.$delete("doctype"),R.$delete("compat-mode"),R.$delete("toc"),R.$delete("toc-placement"),R.$delete("toc-position"),this.safe=O.$safe(),f(this.compat_mode=O.$compat_mode())&&(S=["compat-mode",""],d(this.attributes,"[]=",t.to_a(S)),S[e(S.length,1)]),this.outfilesuffix=O.$outfilesuffix(),this.sourcemap=O.$sourcemap(),this.timings=o,this.path_resolver=O.$path_resolver(),this.converter=O.$converter(),I=o,this.extensions=O.$extensions(),this.syntax_highlighter=O.$syntax_highlighter()):(this.parent_document=o,this.catalog=_(["ids","refs","footnotes","links","images","callouts","includes"],{ids:_([],{}),refs:_([],{}),footnotes:[],links:[],images:[],callouts:l(yt,"Callouts").$new(),includes:_([],{})}),this.attribute_overrides=R=_([],{}),d(f(s=a["$[]"]("attributes"))?s:_([],{}),"each",[],((u=function(n,r){var i;return u.$$s,null==n&&(n=o),null==r&&(r=o),f(n["$end_with?"]("@"))?f(n["$start_with?"]("!"))?(i=[n.$slice(1,e(n.$length(),2)),!1],n=i[0],r=i[1]):f(n["$end_with?"]("!@"))?(i=[n.$slice(0,e(n.$length(),2)),!1],n=i[0],r=i[1]):(i=[n.$chop(),r+"@"],n=i[0],r=i[1]):f(n["$start_with?"]("!"))?(i=[n.$slice(1,n.$length()),!r["$=="]("@")&&o],n=i[0],r=i[1]):f(n["$end_with?"]("!"))&&(i=[n.$chop(),!r["$=="]("@")&&o],n=i[0],r=i[1]),S=[n.$downcase(),r],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]}).$$s=this,u.$$arity=2,u)),f(T=a["$[]"]("to_file"))&&(S=["outfilesuffix",l(yt,"Helpers").$extname(T)],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f((L=a["$[]"]("safe"))["$!"]())?this.safe=$(l(yt,"SafeMode"),"SECURE"):f($("::","Integer")["$==="](L))?this.safe=L:this.safe=function(){try{return l(yt,"SafeMode").$value_for_name(L)}catch(e){if(!t.rescue(e,[l(yt,"StandardError")]))throw e;try{return $(l(yt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}}(),M=a.$delete("input_mtime"),this.compat_mode=R["$key?"]("compat-mode"),this.sourcemap=a["$[]"]("sourcemap"),this.timings=a.$delete("timings"),this.path_resolver=l(yt,"PathResolver").$new(),I=f(f(s=(c=$("::","Asciidoctor","skip_raise"))&&$(c,"Extensions","skip_raise")?"constant":o)?s:a["$key?"]("extensions"))?$($("::","Asciidoctor"),"Extensions"):o,this.extensions=o,f(f(s=a["$key?"]("header_footer"))?a["$key?"]("standalone")["$!"]():s)&&(S=["standalone",a["$[]"]("header_footer")],d(a,"[]=",t.to_a(S)),S[e(S.length,1)])),this.parsed=this.reftexts=this.header=this.header_attributes=o,this.counters=_([],{}),this.attributes_modified=$("::","Set").$new(),this.docinfo_processor_extensions=_([],{}),b=a["$[]"]("standalone"),(this.options=a).$freeze(),P=this.attributes,S=["attribute-undefined",l(yt,"Compliance").$attribute_undefined()],d(P,"[]=",t.to_a(S)),S[e(S.length,1)],S=["attribute-missing",l(yt,"Compliance").$attribute_missing()],d(P,"[]=",t.to_a(S)),S[e(S.length,1)],P.$update(l(yt,"DEFAULT_ATTRIBUTES")),f(b)?(S=["embedded",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["copycss",""],d(P,"[]=",t.to_a(S)),S[e(S.length,1)],S=["iconfont-remote",""],d(P,"[]=",t.to_a(S)),S[e(S.length,1)],S=["stylesheet",""],d(P,"[]=",t.to_a(S)),S[e(S.length,1)],S=["webfonts",""],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]):(S=["embedded",""],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],f(f(s=R["$key?"]("showtitle"))?R.$keys()["$&"](["notitle","showtitle"])["$[]"](-1)["$=="]("showtitle"):s)?(S=["notitle",p(o,"",!1,"@","@",!1)["$[]"](R["$[]"]("showtitle"))],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]):f(R["$key?"]("notitle"))?(S=["showtitle",p(o,"",!1,"@","@",!1)["$[]"](R["$[]"]("notitle"))],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]):(S=["notitle",""],d(P,"[]=",t.to_a(S)),S[e(S.length,1)])),S=["asciidoctor",""],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["asciidoctor-version",$($("::","Asciidoctor"),"VERSION")],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-name",x=l(yt,"SafeMode").$name_for_value(this.safe)],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-"+x,""],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-level",this.safe],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],f(s=R["$[]"]("max-include-depth"))||(S=["max-include-depth",64],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(s=R["$[]"]("allow-uri-read"))||(S=["allow-uri-read",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["user-home",l(yt,"USER_HOME")],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],f(R["$key?"]("numbered"))&&(S=["sectnums",R.$delete("numbered")],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(R["$key?"]("hardbreaks"))&&(S=["hardbreaks-option",R.$delete("hardbreaks")],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(w=a["$[]"]("base_dir"))?this.base_dir=(S=["docdir",$("::","File").$expand_path(w)],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]):f(R["$[]"]("docdir"))?this.base_dir=R["$[]"]("docdir"):this.base_dir=(S=["docdir",$("::","Dir").$pwd()],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(k=a["$[]"]("backend"))&&(S=["backend",""+k],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(A=a["$[]"]("doctype"))&&(S=["doctype",""+A],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(n(this.safe,$(l(yt,"SafeMode"),"SERVER")))&&(f(s=R["$[]"]("copycss"))||(S=["copycss",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(s=R["$[]"]("source-highlighter"))||(S=["source-highlighter",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(s=R["$[]"]("backend"))||(S=["backend",l(yt,"DEFAULT_BACKEND")],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(f(s=O["$!"]())?R["$key?"]("docfile"):s)&&(S=["docfile",R["$[]"]("docfile")["$[]"](t.Range.$new(r(R["$[]"]("docdir").$length(),1),-1,!1))],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["docdir",""],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["user-home","."],d(R,"[]=",t.to_a(S)),S[e(S.length,1)],f(n(this.safe,$(l(yt,"SafeMode"),"SECURE")))&&(f(R["$key?"]("max-attribute-value-size"))||(S=["max-attribute-value-size",4096],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(R["$key?"]("linkcss"))||(S=["linkcss",""],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]),f(s=R["$[]"]("icons"))||(S=["icons",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]))),this.max_attribute_value_size=f(N=f(s=R["$[]"]("max-attribute-value-size"))?s:(S=["max-attribute-value-size",o],d(R,"[]=",t.to_a(S)),S[e(S.length,1)]))?N.$to_i().$abs():o,d(R,"delete_if",[],((h=function(n,r){h.$$s;var i,a=o;return null==n&&(n=o),null==r&&(r=o),f(r)?(f(f(i=$("::","String")["$==="](r))?r["$end_with?"]("@"):i)&&(i=[r.$chop(),!0],r=i[0],a=i[1]),S=[n,r],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]):(P.$delete(n),a=r["$=="](!1)),a}).$$s=this,h.$$arity=2,h)),f(O)?(this.backend=P["$[]"]("backend"),(this.doctype=(S=["doctype",C],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]))["$=="](l(yt,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(l(yt,"DEFAULT_DOCTYPE")),this.reader=l(yt,"Reader").$new(i,a["$[]"]("cursor")),f(this.sourcemap)&&(this.source_location=this.reader.$cursor()),l(yt,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0):(this.backend=o,(B=f(s=P["$[]"]("backend"))?s:l(yt,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(S=["doctype",(S=["doctype","manpage"],d(R,"[]=",t.to_a(S)),S[e(S.length,1)])],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]):this.doctype=f(s=P["$[]"]("doctype"))?s:(S=["doctype",l(yt,"DEFAULT_DOCTYPE")],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]),this.$update_backend_attributes(B,!0),f(s=P["$[]"]("stylesdir"))||(S=["stylesdir","."],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]),f(s=P["$[]"]("iconsdir"))||(S=["iconsdir",P.$fetch("imagesdir","./images")+"/icons"],d(P,"[]=",t.to_a(S)),S[e(S.length,1)]),this.$fill_datetime_attributes(P,M),f(I)&&(f(D=a["$[]"]("extension_registry"))?f(f(s=$(l(yt,"Extensions"),"Registry")["$==="](D))?s:f(y=(v=$("::","AsciidoctorJ","skip_raise"))&&(m=$(v,"Extensions","skip_raise"))&&$(m,"ExtensionRegistry","skip_raise")?"constant":o)?$($($("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](D):y)&&(this.extensions=D.$activate(this)):f((z=a["$[]"]("extensions"))["$nil?"]())?f(l(yt,"Extensions").$groups()["$empty?"]())||(this.extensions=$(l(yt,"Extensions"),"Registry").$new().$activate(this)):f($("::","Proc")["$==="](z))&&(this.extensions=d(l(yt,"Extensions"),"create",[],z.$to_proc()).$activate(this))),this.reader=l(yt,"PreprocessorReader").$new(this,i,$(l(yt,"Reader"),"Cursor").$new(P["$[]"]("docfile"),this.base_dir),_(["normalize"],{normalize:!0})),f(this.sourcemap)?this.source_location=this.reader.$cursor():o)},g.$$arity=-1),t.def(ht,"$parse",v=function(t){var e,n,r,i=this,a=o,s=o;return null==t&&(t=o),f(i.parsed)?i:(a=i,f(t)&&(i.reader=l(yt,"PreprocessorReader").$new(a,t,$(l(yt,"Reader"),"Cursor").$new(i.attributes["$[]"]("docfile"),i.base_dir),_(["normalize"],{normalize:!0})),f(i.sourcemap)&&(i.source_location=i.reader.$cursor())),f(f(e=s=f(i.parent_document)?o:i.extensions)?s["$preprocessors?"]():e)&&d(s.$preprocessors(),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.reader&&(r.reader=o),null==t&&(t=o),r.reader=f(e=t.$process_method()["$[]"](a,r.reader))?e:r.reader}).$$s=i,n.$$arity=1,n)),l(yt,"Parser").$parse(i.reader,a,_(["header_only"],{header_only:i.options["$[]"]("parse_header_only")})),i.$restore_attributes(),f(f(e=s)?s["$tree_processors?"]():e)&&d(s.$tree_processors(),"each",[],((r=function(t){r.$$s;var e,n,i=o;return null==t&&(t=o),f(f(e=f(n=i=t.$process_method()["$[]"](a))?l(yt,"Document")["$==="](i):n)?i["$!="](a):e)?a=i:o}).$$s=i,r.$$arity=1,r)),i.parsed=!0,a)},v.$$arity=-1),t.def(ht,"$parsed?",b=function(){return this.parsed},b.$$arity=0),t.def(ht,"$counter",x=function(n,r){var i,a,s=o,$=o;return null==r&&(r=o),f(this.parent_document)?this.parent_document.$counter(n,r):f(f(i=a=(s=this.attributes["$[]"](n))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](n):i)?($=[n,($=[n,l(yt,"Helpers").$nextval(s)],d(this.counters,"[]=",t.to_a($)),$[e($.length,1)])],d(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]):f(r)?($=[n,($=[n,r["$=="](r.$to_i().$to_s())?r.$to_i():r],d(this.counters,"[]=",t.to_a($)),$[e($.length,1)])],d(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]):($=[n,($=[n,l(yt,"Helpers").$nextval(f(a)?s:0)],d(this.counters,"[]=",t.to_a($)),$[e($.length,1)])],d(this.attributes,"[]=",t.to_a($)),$[e($.length,1)])},x.$$arity=-2),t.def(ht,"$increment_and_store_counter",w=function(t,e){return l(yt,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},w.$$arity=2),t.alias(ht,"counter_increment","increment_and_store_counter"),t.def(ht,"$register",k=function(n,r){var i=this,a=o,s=o,$=o,u=o,c=o;return"ids"["$==="](a=n)?i.$register("refs",[s=r["$[]"](0),l(yt,"Inline").$new(i,"anchor",r["$[]"](1),_(["type","id"],{type:"ref",id:s}))]):"refs"["$==="](a)?($=i.catalog["$[]"]("refs"),f($["$[]"](r["$[]"](0)))||(u=[r["$[]"](0),c=r["$[]"](1)],d($,"[]=",t.to_a(u)),u[e(u.length,1)]),c):"footnotes"["$==="](a)?i.catalog["$[]"](n)["$<<"](r):f(i.options["$[]"]("catalog_assets"))?i.catalog["$[]"](n)["$<<"](n["$=="]("images")?l(yt,"ImageReference").$new(r,i.attributes["$[]"]("imagesdir")):r):o},k.$$arity=2),t.def(ht,"$resolve_id",A=function(n){var r,i,a=this,s=o;return f(a.reftexts)?a.reftexts["$[]"](n):f(a.parsed)?d(a.reftexts=_([],{}),"tap",[],(r=function(n){var i,a=r.$$s||this;return null==a.catalog&&(a.catalog=o),null==n&&(n=o),d(a.catalog["$[]"]("refs"),"each",[],((i=function(r,a){i.$$s;var s,$=o;return null==r&&(r=o),null==a&&(a=o),f(s=n["$[]"](a.$xreftext()))?s:($=[a.$xreftext(),r],d(n,"[]=",t.to_a($)),$[e($.length,1)])}).$$s=a,i.$$arity=2,i))},r.$$s=a,r.$$arity=1,r))["$[]"](n):(s=o,function(){var r=t.new_brk();try{d(a.reftexts=_([],{}),"tap",[],((i=function(r){var a,$=i.$$s||this;return null==$.catalog&&($.catalog=o),null==r&&(r=o),function(){var i=t.new_brk();try{return d($.catalog["$[]"]("refs"),"each",[],((a=function($,l){a.$$s;var u,c=o,_=o;if(null==$&&($=o),null==l&&(l=o),!(c=l.$xreftext())["$=="](n))return f(u=r["$[]"](c))?u:(_=[c,$],d(r,"[]=",t.to_a(_)),_[e(_.length,1)]);t.brk(s=$,i)}).$$s=$,a.$$brk=i,a.$$arity=2,a))}catch(t){if(t===i)return t.$v;throw t}}()}).$$s=a,i.$$brk=r,i.$$arity=1,i))}catch(t){if(t===r)return t.$v;throw t}}(),a.reftexts=o,s)},A.$$arity=1),t.def(ht,"$footnotes?",E=function(){return!f(this.catalog["$[]"]("footnotes")["$empty?"]())},E.$$arity=0),t.def(ht,"$footnotes",O=function(){return this.catalog["$[]"]("footnotes")},O.$$arity=0),t.def(ht,"$callouts",S=function(){return this.catalog["$[]"]("callouts")},S.$$arity=0),t.def(ht,"$nested?",R=function(){return!!f(this.parent_document)},R.$$arity=0),t.def(ht,"$embedded?",C=function(){return this.attributes["$key?"]("embedded")},C.$$arity=0),t.def(ht,"$extensions?",I=function(){return!!f(this.extensions)},I.$$arity=0),t.def(ht,"$source",T=function(){return f(this.reader)?this.reader.$source():o},T.$$arity=0),t.def(ht,"$source_lines",L=function(){return f(this.reader)?this.reader.$source_lines():o},L.$$arity=0),t.def(ht,"$basebackend?",M=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},M.$$arity=1),t.def(ht,"$title",P=function(){return this.$doctitle()},P.$$arity=0),t.def(ht,"$title=",N=function(n){var r=o,i=o;return f(r=this.header)||(i=["header"],d(r=this.header=l(yt,"Section").$new(this,0),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[n],d(r,"title=",t.to_a(i)),i[e(i.length,1)]},N.$$arity=1),t.def(ht,"$doctitle",B=function(t){var e,n=this,r=o,i=o,a=o;if(null==t&&(t=_([],{})),f(r=n.attributes["$[]"]("title")));else if(f(i=n.$first_section()))r=i.$title();else if(f((f(e=t["$[]"]("use_fallback"))?r=n.attributes["$[]"]("untitled-label"):e)["$!"]()))return o;return f(a=t["$[]"]("partition"))?l(yt,"Title").$new(r,t.$merge(_(["separator"],{separator:a["$=="](!0)?n.attributes["$[]"]("title-separator"):a}))):f(f(e=t["$[]"]("sanitize"))?r["$include?"]("<"):e)?r.$gsub(l(yt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():r},B.$$arity=-1),t.alias(ht,"name","doctitle"),t.def(ht,"$xreftext",D=function(t){var e,n=o;return null==t&&(t=o),f(f(e=n=this.$reftext())?n["$empty?"]()["$!"]():e)?n:this.$title()},D.$$arity=-1),t.def(ht,"$author",z=function(){return this.attributes["$[]"]("author")},z.$$arity=0),t.def(ht,"$authors",F=function(){var t,e=o,n=o,s=o,$=o;if(f((e=this.attributes)["$key?"]("author"))){if(n=[l(yt,"Author").$new(e["$[]"]("author"),e["$[]"]("firstname"),e["$[]"]("middlename"),e["$[]"]("lastname"),e["$[]"]("authorinitials"),e["$[]"]("email"))],f(i(s=f(t=e["$[]"]("authorcount"))?t:0,1)))for($=1;f(a($,s));)$=r($,1),n["$<<"](l(yt,"Author").$new(e["$[]"]("author_"+$),e["$[]"]("firstname_"+$),e["$[]"]("middlename_"+$),e["$[]"]("lastname_"+$),e["$[]"]("authorinitials_"+$),e["$[]"]("email_"+$)));return n}return[]},F.$$arity=0),t.def(ht,"$revdate",j=function(){return this.attributes["$[]"]("revdate")},j.$$arity=0),t.def(ht,"$notitle",q=function(){return this.attributes["$key?"]("notitle")},q.$$arity=0),t.def(ht,"$noheader",U=function(){return this.attributes["$key?"]("noheader")},U.$$arity=0),t.def(ht,"$nofooter",H=function(){return this.attributes["$key?"]("nofooter")},H.$$arity=0),t.def(ht,"$first_section",Y=function(){var t,e;return f(t=this.header)?t:d(this.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=o),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},Y.$$arity=0),t.def(ht,"$header?",G=function(){return!!f(this.header)},G.$$arity=0),t.alias(ht,"has_header?","header?"),t.def(ht,"$<<",W=function(e){var n=W.$$p,r=this,i=o,a=o,s=o;for(n&&(W.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return e.$context()["$=="]("section")&&r.$assign_numeral(e),d(r,t.find_super_dispatcher(r,"<<",W,!1),i,n)},W.$$arity=1),t.def(ht,"$finalize_header",V=function(n,r){var i=o;return null==r&&(r=!0),this.$clear_playback_attributes(n),this.$save_attributes(),f(r)||(i=["invalid-header",!0],d(n,"[]=",t.to_a(i)),i[e(i.length,1)]),n},V.$$arity=-2),t.def(ht,"$playback_attributes",X=function(n){var r;return f(n["$key?"]("attribute_entries"))?d(n["$[]"]("attribute_entries"),"each",[],((r=function(n){var i=r.$$s||this,a=o,s=o;return null==i.attributes&&(i.attributes=o),null==n&&(n=o),a=n.$name(),f(n.$negate())?(i.attributes.$delete(a),a["$=="]("compat-mode")?i.compat_mode=!1:o):(s=[a,n.$value()],d(i.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],a["$=="]("compat-mode")?i.compat_mode=!0:o)}).$$s=this,r.$$arity=1,r)):o},X.$$arity=1),t.def(ht,"$restore_attributes",K=function(){return f(this.parent_document)||this.catalog["$[]"]("callouts").$rewind(),this.attributes.$replace(this.header_attributes)},K.$$arity=0),t.def(ht,"$set_attribute",J=function(n,r){var i,a=o,s=o;return null==r&&(r=""),f(this["$attribute_locked?"](n))?o:(f(r["$empty?"]())||(r=this.$apply_attribute_value_subs(r)),f(this.header_attributes)?(a=[n,r],d(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):("backend"["$==="](s=n)?this.$update_backend_attributes(r,f(i=this.attributes_modified["$delete?"]("htmlsyntax"))?r["$=="](this.backend):i):"doctype"["$==="](s)?this.$update_doctype_attributes(r):(a=[n,r],d(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]),this.attributes_modified["$<<"](n)),r)},J.$$arity=-2),t.def(ht,"$delete_attribute",Z=function(t){return!f(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},Z.$$arity=1),t.def(ht,"$attribute_locked?",Q=function(t){return this.attribute_overrides["$key?"](t)},Q.$$arity=1),t.def(ht,"$set_header_attribute",tt=function(n,r,i){var a,s=o,$=o;return null==r&&(r=""),null==i&&(i=!0),s=f(a=this.header_attributes)?a:this.attributes,!f((a=i["$=="](!1))?s["$key?"](n):i["$=="](!1))&&($=[n,r],d(s,"[]=",t.to_a($)),$[e($.length,1)],!0)},tt.$$arity=-2),t.def(ht,"$convert",et=function(r){var i,a,s=this,u=o,c=o,p=o,h=o,y=o;return null==r&&(r=_([],{})),f(s.timings)&&s.timings.$start("convert"),f(s.parsed)||s.$parse(),f(f(i=n(s.safe,$(l(yt,"SafeMode"),"SERVER")))?i:r["$empty?"]())||(f((u=["outfile",r["$[]"]("outfile")],d(s.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]))||s.attributes.$delete("outfile"),f((u=["outdir",r["$[]"]("outdir")],d(s.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]))||s.attributes.$delete("outdir")),s.$doctype()["$=="]("inline")?f(c=f(i=s.blocks["$[]"](0))?i:s.header)&&(f(f(i=c.$content_model()["$=="]("compound"))?i:c.$content_model()["$=="]("empty"))?s.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):p=c.$content()):(h=f(r["$key?"]("standalone"))?f(r["$[]"]("standalone"))?"document":"embedded":f(r["$key?"]("header_footer"))?f(r["$[]"]("header_footer"))?"document":"embedded":f(s.options["$[]"]("standalone"))?"document":"embedded",p=s.converter.$convert(s,h)),f(s.parent_document)||f(f(i=y=s.extensions)?y["$postprocessors?"]():i)&&d(y.$postprocessors(),"each",[],((a=function(t){var e=a.$$s||this;return null==t&&(t=o),p=t.$process_method()["$[]"](e,p)}).$$s=s,a.$$arity=1,a)),f(s.timings)&&s.timings.$record("convert"),p},et.$$arity=-1),t.alias(ht,"render","convert"),t.def(ht,"$write",nt=function(t,e){var n;return f(this.timings)&&this.timings.$start("write"),f(l(yt,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(f(e["$respond_to?"]("write"))?f(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(l(yt,"LF"))):$("::","File").$write(e,t,_(["mode"],{mode:l(yt,"FILE_WRITE_MODE")})),f(f(n=this.backend["$=="]("manpage")?$("::","String")["$==="](e):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):n)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),e)),f(this.timings)&&this.timings.$record("write"),o},nt.$$arity=2),t.def(ht,"$content",rt=function(){var e=rt.$$p,n=this,r=o,i=o,a=o;for(e&&(rt.$$p=null),i=0,a=arguments.length,r=new Array(a);i<a;i++)r[i]=arguments[i];return n.attributes.$delete("title"),d(n,t.find_super_dispatcher(n,"content",rt,!1),r,e)},rt.$$arity=0),t.def(ht,"$docinfo",it=function(t,e){var n,r,i,s=o,u=o,c=o,p=o,h=o,y=o,m=o,g=o,v=o;return null==t&&(t="head"),null==e&&(e=o),f(a(this.$safe(),$(l(yt,"SafeMode"),"SECURE")))&&(t["$=="]("head")||(s="-"+t),f(e)||(e=this.outfilesuffix),u=f((u=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?f(this.attributes["$key?"]("docinfo2"))?["private","shared"]:f(this.attributes["$key?"]("docinfo1"))?["shared"]:f(u)?["private"]:o:d(u.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=o),t.$strip()}).$$s=this,n.$$arity=1,n)),f(u)&&(c=[],p=(r=["docinfo"+s+e,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()])[0],h=r[1],y=r[2],f(u["$&"](["shared","shared-"+t])["$empty?"]())||(m=this.$normalize_system_path(p,h),f(g=this.$read_asset(m,_(["normalize"],{normalize:!0})))&&c["$<<"](this.$apply_subs(g,y))),f(f(r=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?r:u["$&"](["private","private-"+t])["$empty?"]())||(m=this.$normalize_system_path(this.attributes["$[]"]("docname")+"-"+p,h),f(v=this.$read_asset(m,_(["normalize"],{normalize:!0})))&&c["$<<"](this.$apply_subs(v,y))))),f(f(r=this.extensions)?this["$docinfo_processors?"](t):r)?(f(r=c)?r:[]).$concat(d(this.docinfo_processor_extensions["$[]"](t),"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=o),t.$process_method()["$[]"](e)},i.$$s=this,i.$$arity=1,i)).$compact()).$join(l(yt,"LF")):f(c)?c.$join(l(yt,"LF")):""},it.$$arity=-1),t.def(ht,"$docinfo_processors?",at=function(n){var r,i=o;return null==n&&(n="head"),f(this.docinfo_processor_extensions["$key?"](n))?this.docinfo_processor_extensions["$[]"](n)["$!="](!1):f(f(r=this.extensions)?this.document.$extensions()["$docinfo_processors?"](n):r)?(i=[n,this.document.$extensions().$docinfo_processors(n)],d(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[n,!1],d(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},at.$$arity=-1),t.def(ht,"$to_s",st=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(f(t.header["$!="](o))?t.header.$title():o).$inspect()+", blocks: "+t.blocks.$size()+"}>"},st.$$arity=0),ht.$private(),t.def(ht,"$apply_attribute_value_subs",ot=function(t){var e;return f(l(yt,"AttributeEntryPassMacroRx")["$=~"](t))?(t=(e=h["~"])===o?o:e["$[]"](2),f((e=h["~"])===o?o:e["$[]"](1))&&(t=this.$apply_subs(t,this.$resolve_pass_subs((e=h["~"])===o?o:e["$[]"](1))))):t=this.$apply_header_subs(t),f(this.max_attribute_value_size)?this.$limit_bytesize(t,this.max_attribute_value_size):t},ot.$$arity=1),t.def(ht,"$limit_bytesize",$t=function(t,n){if(f(i(t.$bytesize(),n)))for(;!f((t=t.$byteslice(0,n))["$valid_encoding?"]());)n=e(n,1);return t},$t.$$arity=2),t.def(ht,"$resolve_docinfo_subs",lt=function(){return f(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",o,"docinfo"):["attributes"]},lt.$$arity=0),t.def(ht,"$create_converter",ut=function(n,r){var i,a,s,u,c=o,h=o;return a=_(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")}),f(s=f(i=(c=this.options)["$[]"]("template_dirs"))?i:c["$[]"]("template_dir"))&&(h=["template_dirs",[].concat(t.to_a(s))],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],h=["template_cache",c.$fetch("template_cache",!0)],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],h=["template_engine",c["$[]"]("template_engine")],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],h=["template_engine_options",c["$[]"]("template_engine_options")],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],h=["eruby",c["$[]"]("eruby")],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],h=["safe",this.safe],d(a,"[]=",t.to_a(h)),h[e(h.length,1)],f(r)&&(h=["delegate_backend",r],d(a,"[]=",t.to_a(h)),h[e(h.length,1)])),f(u=c["$[]"]("converter"))?$(l(yt,"Converter"),"CustomFactory").$new(p(n,u)).$create(n,a):c.$fetch("converter_factory",l(yt,"Converter")).$create(n,a)},ut.$$arity=2),t.def(ht,"$clear_playback_attributes",ct=function(t){return t.$delete("attribute_entries")},ct.$$arity=1),t.def(ht,"$save_attributes",dt=function(){var n,r,i=o,a=o,s=o,u=o,c=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o;return f(f(n=(i=this.attributes)["$key?"]("doctitle"))?n:(a=this.$doctitle())["$!"]())||(s=["doctitle",a],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]),this.id=f(n=this.id)?n:i["$[]"]("css-signature"),f(u=f(i.$delete("toc2"))?"left":i["$[]"]("toc"))&&(c=f(f(n=p=i.$fetch("toc-placement","macro"))?p["$!="]("auto"):n)?p:i["$[]"]("toc-position"),f(f(n=u["$empty?"]())?c["$nil_or_empty?"]():n)||(h="left",y="toc2",m=f(c["$nil_or_empty?"]())?f(u["$empty?"]())?h:u:c,s=["toc",""],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement","auto"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],"left"["$==="](g=m)||"<"["$==="](g)||"&lt;"["$==="](g)?(s=["toc-position","left"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]):"right"["$==="](g)||">"["$==="](g)||"&gt;"["$==="](g)?(s=["toc-position","right"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]):"top"["$==="](g)||"^"["$==="](g)?(s=["toc-position","top"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]):"bottom"["$==="](g)||"v"["$==="](g)?(s=["toc-position","bottom"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]):"preamble"["$==="](g)||"macro"["$==="](g)?(s=["toc-position","content"],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],s=["toc-placement",m],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],y=o):(i.$delete("toc-position"),y=o),f(y)&&(f(n=i["$[]"]("toc-class"))||(s=["toc-class",y],d(i,"[]=",t.to_a(s)),s[e(s.length,1)])))),f(f(n=v=i["$[]"]("icons"))?i["$key?"]("icontype")["$!"]():n)&&(""["$==="](g=v)||"font"["$==="](g)||(s=["icons",""],d(i,"[]=",t.to_a(s)),s[e(s.length,1)],v["$=="]("image")||(s=["icontype",v],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]))),f(this.compat_mode=i["$key?"]("compat-mode"))&&f(i["$key?"]("language"))&&(s=["source-language",i["$[]"]("language")],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]),f(this.parent_document)||((b=i["$[]"]("basebackend"))["$=="]("html")?f(f(n=x=i["$[]"]("source-highlighter"))?i["$[]"](x+"-unavailable")["$!"]():n)&&(f(w=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=w.$create(x,this.backend,_(["document"],{document:this})):f(k=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=$(l(yt,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(k).$create(x,this.backend,_(["document"],{document:this})):this.syntax_highlighter=l(yt,"SyntaxHighlighter").$create(x,this.backend,_(["document"],{document:this}))):b["$=="]("docbook")&&(f(f(n=this["$attribute_locked?"]("toc"))?n:this.attributes_modified["$include?"]("toc"))||(s=["toc",""],d(i,"[]=",t.to_a(s)),s[e(s.length,1)]),f(f(n=this["$attribute_locked?"]("sectnums"))?n:this.attributes_modified["$include?"]("sectnums"))||(s=["sectnums",""],d(i,"[]=",t.to_a(s)),s[e(s.length,1)])),this.outfilesuffix=i["$[]"]("outfilesuffix"),d(l(yt,"FLEXIBLE_ATTRIBUTES"),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.attribute_overrides&&(n.attribute_overrides=o),null==t&&(t=o),f(f(e=n.attribute_overrides["$key?"](t))?n.attribute_overrides["$[]"](t):e)?n.attribute_overrides.$delete(t):o}).$$s=this,r.$$arity=1,r))),this.header_attributes=i.$merge()},dt.$$arity=0),t.def(ht,"$fill_datetime_attributes",ft=function(n,r){var i,a,s,l,u=this,c=o,_=o,p=o,h=o,y=o;return c=f($("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?_=$("::","Time").$at(u.$Integer($("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():$("::","Time").$now(),f(p=n["$[]"]("localdate"))?f(i=n["$[]"]("localyear"))||(h=["localyear",p.$index("-")["$=="](4)?p.$slice(0,4):o],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]):(h=["localdate",c.$strftime("%F")],d(n,"[]=",t.to_a(h)),p=h[e(h.length,1)],f(i=n["$[]"]("localyear"))||(h=["localyear",c.$year().$to_s()],d(n,"[]=",t.to_a(h)),h[e(h.length,1)])),s=f(i=n["$[]"]("localtime"))?i:(h=["localtime",c.$strftime("%T "+(c.$utc_offset()["$=="](0)?"UTC":"%z"))],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]),f(i=n["$[]"]("localdatetime"))||(h=["localdatetime",p+" "+s],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]),r=f(i=f(a=_)?a:r)?i:c,f(y=n["$[]"]("docdate"))?f(i=n["$[]"]("docyear"))||(h=["docyear",y.$index("-")["$=="](4)?y.$slice(0,4):o],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]):(h=["docdate",r.$strftime("%F")],d(n,"[]=",t.to_a(h)),y=h[e(h.length,1)],f(i=n["$[]"]("docyear"))||(h=["docyear",r.$year().$to_s()],d(n,"[]=",t.to_a(h)),h[e(h.length,1)])),l=f(i=n["$[]"]("doctime"))?i:(h=["doctime",r.$strftime("%T "+(r.$utc_offset()["$=="](0)?"UTC":"%z"))],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]),f(i=n["$[]"]("docdatetime"))||(h=["docdatetime",y+" "+l],d(n,"[]=",t.to_a(h)),h[e(h.length,1)]),o},ft.$$arity=2),t.def(ht,"$update_backend_attributes",_t=function(n,r){var i,a,s=o,u=o,c=o,_=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o;return null==r&&(r=o),f(f(i=r)?i:n["$!="](this.backend))?(s=this.backend,u=(c=this.attributes)["$[]"]("basebackend"),_=this.doctype,f(n["$include?"](":"))&&(a=n.$partition(":"),p=null==(i=t.to_ary(a))[0]?o:i[0],null==i[1]||i[1],n=null==i[2]?o:i[2]),f(n["$start_with?"]("xhtml"))?(h=["htmlsyntax","xml"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],n=n.$slice(1,n.$length())):f(n["$start_with?"]("html"))&&(f(i=c["$[]"]("htmlsyntax"))||(h=["htmlsyntax","html"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])),n=f(i=l(yt,"BACKEND_ALIASES")["$[]"](n))?i:n,f(p)&&(n=(i=[p,n])[0],y=i[1]),f(_)?(f(s)&&(c.$delete("backend-"+s),c.$delete("backend-"+s+"-doctype-"+_)),h=["backend-"+n+"-doctype-"+_,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["doctype-"+_,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):f(s)&&c.$delete("backend-"+s),h=["backend-"+n,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],this.backend=(h=["backend",n],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),f($(l(yt,"Converter"),"BackendTraits")["$==="](m=this.$create_converter(n,y)))?(g=m.$basebackend(),v=m.$filetype(),f(b=m.$htmlsyntax())&&(h=["htmlsyntax",b],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),f(r)?f(i=c["$[]"]("outfilesuffix"))||(h=["outfilesuffix",m.$outfilesuffix()],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):f(this["$attribute_locked?"]("outfilesuffix"))||(h=["outfilesuffix",m.$outfilesuffix()],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])):f(m)?(g=(x=l(yt,"Converter").$derive_backend_traits(n))["$[]"]("basebackend"),v=x["$[]"]("filetype"),f(r)?f(i=c["$[]"]("outfilesuffix"))||(h=["outfilesuffix",x["$[]"]("outfilesuffix")],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):f(this["$attribute_locked?"]("outfilesuffix"))||(h=["outfilesuffix",x["$[]"]("outfilesuffix")],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])):this.$raise($("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+n+"'. Processing aborted."),this.converter=m,f(w=c["$[]"]("filetype"))&&c.$delete("filetype-"+w),h=["filetype",v],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["filetype-"+v,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],f(k=l(yt,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(h=["pagewidth",k],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):c.$delete("pagewidth"),f(g["$!="](u))&&(f(_)?(f(u)&&(c.$delete("basebackend-"+u),c.$delete("basebackend-"+u+"-doctype-"+_)),h=["basebackend-"+g+"-doctype-"+_,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):f(u)&&c.$delete("basebackend-"+u),h=["basebackend-"+g,""],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["basebackend",g],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),n):o},_t.$$arity=-2),t.def(ht,"$update_doctype_attributes",pt=function(n){var r,i=o,a=o,s=o,$=o,l=o;return f(f(r=n)?n["$!="](this.doctype):r)?(a=(r=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype])[0],s=r[1],$=r[2],f($)?(i.$delete("doctype-"+$),f(a)&&(i.$delete("backend-"+a+"-doctype-"+$),l=["backend-"+a+"-doctype-"+n,""],d(i,"[]=",t.to_a(l)),l[e(l.length,1)]),f(s)&&(i.$delete("basebackend-"+s+"-doctype-"+$),l=["basebackend-"+s+"-doctype-"+n,""],d(i,"[]=",t.to_a(l)),l[e(l.length,1)])):(f(a)&&(l=["backend-"+a+"-doctype-"+n,""],d(i,"[]=",t.to_a(l)),l[e(l.length,1)]),f(s)&&(l=["basebackend-"+s+"-doctype-"+n,""],d(i,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+n,""],d(i,"[]=",t.to_a(l)),l[e(l.length,1)],this.doctype=(l=["doctype",n],d(i,"[]=",t.to_a(l)),l[e(l.length,1)])):o},pt.$$arity=1)}(m[0],l(m,"AbstractBlock"),m)}(s[0],s)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,s=t.hash2,o=t.send,$=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$[]","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(e,l){var u=[i(e,"Asciidoctor")].concat(l);!function(e,r,i){var l,u,c,d,f,_,p,h,y=a(e,r,"Inline");[y].concat(i),y.$$prototype.text=y.$$prototype.type=n,y.$attr_accessor("text"),y.$attr_reader("type"),y.$attr_accessor("target"),t.def(y,"$initialize",l=function(e,r,i,a){var $=l.$$p;return $&&(l.$$p=null),null==i&&(i=n),null==a&&(a=s([],{})),o(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,r,a],null),this.node_name="inline_"+r,this.text=i,this.id=a["$[]"]("id"),this.type=a["$[]"]("type"),this.target=a["$[]"]("target")},l.$$arity=-3),t.def(y,"$block?",u=function(){return!1},u.$$arity=0),t.def(y,"$inline?",c=function(){return!0},c.$$arity=0),t.def(y,"$convert",d=function(){return this.$converter().$convert(this)},d.$$arity=0),t.alias(y,"render","convert"),t.def(y,"$alt",f=function(){var t;return $(t=this.$attr("alt"))?t:""},f.$$arity=0),t.def(y,"$reftext?",_=function(){var t,e;return $(t=this.text)?$(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},_.$$arity=0),t.def(y,"$reftext",p=function(){var t;return $(t=this.text)?this.$apply_reftext_subs(t):n},p.$$arity=0),t.def(y,"$xreftext",h=function(t){return null==t&&(t=n),this.$reftext()},h.$$arity=-1)}(u[0],r(u,"AbstractNode"),u)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,s=t.hash2,o=t.send,$=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$!","$simple?","$source","$shift","$context","$parent"]),function(e,l){var u=[i(e,"Asciidoctor")].concat(l);!function(e,r,i){var l,u,c,d,f=a(e,r,"List");[f].concat(i),f.$$prototype.context=f.$$prototype.document=f.$$prototype.style=n,t.alias(f,"items","blocks"),t.alias(f,"content","blocks"),t.alias(f,"items?","blocks?"),t.def(f,"$initialize",l=function(e,r,i){var a=l.$$p,$=this,u=n,c=n,d=n;for(a&&(l.$$p=null),c=0,d=arguments.length,u=new Array(d);c<d;c++)u[c]=arguments[c];return null==i&&(i=s([],{})),o($,t.find_super_dispatcher($,"initialize",l,!1),u,a)},l.$$arity=-3),t.def(f,"$outline?",u=function(){var t;return $(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},u.$$arity=0),t.def(f,"$convert",c=function(){var e=c.$$p,r=this,i=n,a=n,s=n,$=n;for(e&&(c.$$p=null),s=0,$=arguments.length,a=new Array($);s<$;s++)a[s]=arguments[s];return r.context["$=="]("colist")?(i=o(r,t.find_super_dispatcher(r,"convert",c,!1),a,e),r.document.$callouts().$next_list(),i):o(r,t.find_super_dispatcher(r,"convert",c,!1),a,e)},c.$$arity=0),t.alias(f,"render","convert"),t.def(f,"$to_s",d=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},d.$$arity=0)}(u[0],r(u,"AbstractBlock"),u),function(e,i,s){var l,u,c,d,f,_,p,h,y=a(e,i,"ListItem"),m=[y].concat(s);y.$$prototype.text=y.$$prototype.subs=y.$$prototype.blocks=n,t.alias(y,"list","parent"),y.$attr_accessor("marker"),t.def(y,"$initialize",l=function(e,i){var a=l.$$p;return a&&(l.$$p=null),null==i&&(i=n),o(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"list_item"],null),this.text=i,this.level=e.$level(),this.subs=r(m,"NORMAL_SUBS").$drop(0)},l.$$arity=-2),t.def(y,"$text?",u=function(){return!$(this.text["$nil_or_empty?"]())},u.$$arity=0),t.def(y,"$text",c=function(){var t;return $(t=this.text)?this.$apply_subs(this.text,this.subs):t},c.$$arity=0),t.def(y,"$text=",d=function(t){return this.text=t},d.$$arity=1),t.def(y,"$simple?",f=function(){var t,e,i=n;return $(t=this.blocks["$empty?"]())?t:$(e=this.blocks.$size()["$=="](1)?r(m,"List")["$==="](i=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?i["$outline?"]():e},f.$$arity=0),t.def(y,"$compound?",_=function(){return this["$simple?"]()["$!"]()},_.$$arity=0),t.def(y,"$fold_first",p=function(){var t=this;return t.text=$(t.text["$nil_or_empty?"]())?t.blocks.$shift().$source():""+t.text+r(m,"LF")+t.blocks.$shift().$source(),n},p.$$arity=0),t.def(y,"$to_s",h=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+($(t=this.blocks)?t:[]).$size()+"}>"},h.$$arity=0)}(u[0],r(u,"AbstractBlock"),u)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,d=t.send,f=t.truthy,_=t.hash2,p=t.gvars;return t.add_stubs(["$include","$new","$proc","$start_with?","$match?","$is_delimited_block?","$private_class_method","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$apply_header_subs","$[]=","$source_location=","$header","$attribute_locked?","$id","$clear","$delete","$instance_variable_get","$parse_header_metadata","$include?","$==","$!","$register","$doctype","$parse_manpage_header","$=~","$downcase","$sub_attributes","$error","$logger","$message_with_context","$cursor_at_line","$backend","$skip_blank_lines","$save","$update","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$lstrip","$title","$split","$restore_save","$discard_save","$context","$empty?","$header?","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$<","$>","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$source_location","$merge","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$debug?","$debug","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$uniform?","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$each","$raise","$title?","$update_attributes","$commit_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$advance","$dup","$match","$callout_ids","$next_list","$catalog_inline_anchor","$marker=","$catalog_inline_biblio_anchor","$set_option","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$concat","$find","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$peek_lines","$setext_section_title?","$abs","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$process_authors","$rstrip","$each_with_index","$compact","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$pre_match","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$partition","$shorthand_property_syntax","$each_char","$yield_buffered_attribute","$any?","$*","$each_byte","$%"]),function(s,h){var y=[u(s,"Asciidoctor")].concat(h);!function(s,u,h){var y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt=c(s,null,"Parser"),ut=[lt].concat(h);lt.$include(l(ut,"Logging")),t.const_set(ut[0],"BlockMatchData",l(ut,"Struct").$new("context","masq","tip","terminator")),t.const_set(ut[0],"TAB","\t"),t.const_set(ut[0],"TabIndentRx",/^\t+/),t.const_set(ut[0],"StartOfBlockProc",d(lt,"proc",[],((y=function(t){var e,n,r=y.$$s||this;return null==t&&(t=o),f(e=f(n=t["$start_with?"]("["))?l(ut,"BlockAttributeLineRx")["$match?"](t):n)?e:r["$is_delimited_block?"](t)}).$$s=lt,y.$$arity=1,y))),t.const_set(ut[0],"StartOfListProc",d(lt,"proc",[],((m=function(t){return m.$$s,null==t&&(t=o),l(ut,"AnyListRx")["$match?"](t)}).$$s=lt,m.$$arity=1,m))),t.const_set(ut[0],"StartOfBlockOrListProc",d(lt,"proc",[],((g=function(t){var e,n,r,i=g.$$s||this;return null==t&&(t=o),f(e=f(n=i["$is_delimited_block?"](t))?n:f(r=t["$start_with?"]("["))?l(ut,"BlockAttributeLineRx")["$match?"](t):r)?e:l(ut,"AnyListRx")["$match?"](t)}).$$s=lt,g.$$arity=1,g))),t.const_set(ut[0],"NoOp",o),t.const_set(ut[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),t.const_set(ut[0],"TableCellHorzAlignments",_(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(ut[0],"TableCellVertAlignments",_(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(ut[0],"TableCellStyles",_(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),lt.$private_class_method("new"),t.defs(lt,"$parse",v=function(e,n,r){var i,a,s=o,$=o;if(null==r&&(r=_([],{})),s=this.$parse_document_header(e,n),f(r["$[]"]("header_only")));else for(;f(e["$has_more_lines?"]());)a=this.$next_section(e,n,s),$=null==(i=t.to_ary(a))[0]?o:i[0],s=null==i[1]?o:i[1],f($)&&(n.$assign_numeral($),n.$blocks()["$<<"]($));return n},v.$$arity=-3),t.defs(lt,"$parse_document_header",b=function(n,r){var i,a,s,$=o,l=o,u=o,c=o,_=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o;return $=this.$parse_block_metadata_lines(n,r),l=r.$attributes(),f(f(i=s=this["$is_next_line_doctitle?"](n,$,l["$[]"]("leveloffset")))?$["$[]"]("title"):i)?r.$finalize_header($,!1):(f((u=l["$[]"]("doctitle"))["$nil_or_empty?"]())||(c=[_=u],d(r,"title=",t.to_a(c)),c[e(c.length,1)]),f(s)&&(f(r.$sourcemap())&&(p=n.$cursor()),a=this.$parse_section_title(n,r),i=t.to_ary(a),r["$id="](null==i[0]?o:i[0]),null==i[1]||i[1],h=null==i[2]?o:i[2],null==i[3]||i[3],y=null==i[4]?o:i[4],f(_)?h=o:(c=[h],d(r,"title=",t.to_a(c)),c[e(c.length,1)],c=["doctitle",_=r.$apply_header_subs(h)],d(l,"[]=",t.to_a(c)),c[e(c.length,1)]),f(p)&&(c=[p],d(r.$header(),"source_location=",t.to_a(c)),c[e(c.length,1)]),f(f(i=y)?i:r["$attribute_locked?"]("compat-mode"))||(c=["compat-mode",""],d(l,"[]=",t.to_a(c)),c[e(c.length,1)]),f(m=$["$[]"]("separator"))&&(f(r["$attribute_locked?"]("title-separator"))||(c=["title-separator",m],d(l,"[]=",t.to_a(c)),c[e(c.length,1)])),f(g=$["$[]"]("id"))?(c=[g],d(r,"id=",t.to_a(c)),c[e(c.length,1)]):g=r.$id(),f(v=$["$[]"]("role"))&&(c=["role",v],d(l,"[]=",t.to_a(c)),c[e(c.length,1)]),f(b=$["$[]"]("reftext"))&&(c=["reftext",b],d(l,"[]=",t.to_a(c)),c[e(c.length,1)]),$.$clear(),(x=r.$instance_variable_get("@attributes_modified")).$delete("doctitle"),this.$parse_header_metadata(n,r),f(x["$include?"]("doctitle"))?f(f(i=(u=l["$[]"]("doctitle"))["$nil_or_empty?"]())?i:u["$=="](_))?(c=["doctitle",_],d(l,"[]=",t.to_a(c)),c[e(c.length,1)]):(c=[u],d(r,"title=",t.to_a(c)),c[e(c.length,1)]):f(h["$!"]())&&x["$<<"]("doctitle"),f(g)&&r.$register("refs",[g,r])),r.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(n,r,$),r.$finalize_header($))},b.$$arity=2),t.defs(lt,"$parse_manpage_header",x=function(n,r,i){var a,s,$,u,c=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o;return f(l(ut,"ManpageTitleVolnumRx")["$=~"]((c=r.$attributes())["$[]"]("doctitle")))?(h=["manvolnum",y=(a=p["~"])===o?o:a["$[]"](2)],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["mantitle",(f((m=(a=p["~"])===o?o:a["$[]"](1))["$include?"](l(ut,"ATTR_REF_HEAD")))?r.$sub_attributes(m):m).$downcase()],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",_(["source_location"],{source_location:n.$cursor_at_line(1)}))),h=["mantitle",f(a=f(s=c["$[]"]("doctitle"))?s:c["$[]"]("docname"))?a:"command"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["manvolnum",y="1"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),f(f(a=g=c["$[]"]("manname"))?c["$[]"]("manpurpose"):a)?(f(a=c["$[]"]("manname-title"))||(h=["manname-title","Name"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),h=["mannames",[g]],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],r.$backend()["$=="]("manpage")&&(h=["docname",g],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["outfilesuffix","."+y],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])):(n.$skip_blank_lines(),n.$save(),i.$update(this.$parse_block_metadata_lines(n,r)),f(v=this["$is_next_line_section?"](n,_([],{})))?v["$=="](1)?(b=this.$initialize_section(n,r,_([],{})),x=d(n.$read_lines_until(_(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],($=function(t){return $.$$s,null==t&&(t=o),t.$lstrip()},$.$$s=this,$.$$arity=1,$)).$join(" "),f(l(ut,"ManpageNamePurposeRx")["$=~"](x))?(f(a=c["$[]"]("manname-title"))||(h=["manname-title",b.$title()],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),f(b.$id())&&(h=["manname-id",b.$id()],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]),h=["manpurpose",(a=p["~"])===o?o:a["$[]"](2)],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],f((g=(a=p["~"])===o?o:a["$[]"](1))["$include?"](l(ut,"ATTR_REF_HEAD")))&&(g=r.$sub_attributes(g)),f(g["$include?"](","))?g=(w=d(g.$split(","),"map",[],(u=function(t){return u.$$s,null==t&&(t=o),t.$lstrip()},u.$$s=this,u.$$arity=1,u)))["$[]"](0):w=[g],h=["manname",g],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["mannames",w],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],r.$backend()["$=="]("manpage")&&(h=["docname",g],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["outfilesuffix","."+y],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])):k="non-conforming name section body"):k="name section must be at level 1":k="name section expected",f(k)?(n.$restore_save(),this.$logger().$error(this.$message_with_context(k,_(["source_location"],{source_location:n.$cursor()}))),h=["manname",g=f(a=c["$[]"]("docname"))?a:"command"],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["mannames",[g]],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],r.$backend()["$=="]("manpage")&&(h=["docname",g],d(c,"[]=",t.to_a(h)),h[e(h.length,1)],h=["outfilesuffix","."+y],d(c,"[]=",t.to_a(h)),h[e(h.length,1)])):n.$discard_save()),o},x.$$arity=3),t.defs(lt,"$next_section",w=function(a,s,$){var u,c,p,h,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o;for(null==$&&($=_([],{})),y=m=g=!1,f(f(u=(c=s.$context()["$=="]("document"))?s.$blocks()["$empty?"]():s.$context()["$=="]("document"))?f(c=f(p=v=s["$header?"]())?p:$.$delete("invalid-header"))?c:this["$is_next_line_section?"](a,$)["$!"]():u)?(b=(x=s).$doctype()["$=="]("book"),f(f(u=v)?u:f(c=b)?$["$[]"](1)["$!="]("abstract"):c)&&(y=m=l(ut,"Block").$new(s,"preamble",_(["content_model"],{content_model:"compound"})),f(f(u=b)?s["$attr?"]("preface-title"):u)&&(w=[s.$attr("preface-title")],d(y,"title=",t.to_a(w)),w[e(w.length,1)]),s.$blocks()["$<<"](y)),k=s,A=0,f(s.$attributes()["$key?"]("fragment"))?E=-1:f(b)?(E=(u=[1,0])[0],O=u[1]):E=1):(b=(x=s.$document()).$doctype()["$=="]("book"),k=this.$initialize_section(a,s,$),$=f(S=$["$[]"]("title"))?_(["title"],{title:S}):_([],{}),E=n(A=k.$level(),1),A["$=="](0)?g=b:f((u=A["$=="](1))?k.$special():A["$=="](1))&&(f(f(u=f(c=(R=k.$sectname())["$=="]("appendix"))?c:R["$=="]("preface"))?u:R["$=="]("abstract"))||(E=o))),a.$skip_blank_lines();f(a["$has_more_lines?"]());){if(this.$parse_block_metadata_lines(a,x,$),f(C=this["$is_next_line_section?"](a,$)))if(f(x["$attr?"]("leveloffset"))&&(C=n(C,x.$attr("leveloffset").$to_i()),f(r(C,0))&&(C=0)),f(i(C,A)))f(E)?f(f(c=f(p=C["$=="](E))?p:f(h=O)?C["$=="](O):h)?c:r(E,0))||(I=f(O)?"expected levels "+O+" or "+E:"expected level "+E,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+I+", got level "+C,_(["source_location"],{source_location:a.$cursor()})))):this.$logger().$error(this.$message_with_context(R+" sections do not support nested sections",_(["source_location"],{source_location:a.$cursor()}))),p=this.$next_section(a,k,$),T=null==(c=t.to_ary(p))[0]?o:c[0],$=null==c[1]?o:c[1],k.$assign_numeral(T),k.$blocks()["$<<"](T);else{if(!f((c=C["$=="](0))?k["$=="](x):C["$=="](0)))break;f(b)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",_(["source_location"],{source_location:a.$cursor()}))),p=this.$next_section(a,k,$),T=null==(c=t.to_ary(p))[0]?o:c[0],$=null==c[1]?o:c[1],k.$assign_numeral(T),k.$blocks()["$<<"](T)}else L=a.$cursor(),f(M=this.$next_block(a,f(c=m)?c:k,$,_(["parse_metadata"],{parse_metadata:!1})))&&(f(g)&&(f(k["$blocks?"]()["$!"]())?f(M.$style()["$!="]("partintro"))&&(M.$context()["$=="]("paragraph")?(w=["open"],d(M,"context=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],d(M,"style=",t.to_a(w)),w[e(w.length,1)]):(w=[m=l(ut,"Block").$new(k,"open",_(["content_model"],{content_model:"compound"}))],d(M,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],d(m,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks()["$<<"](m))):k.$blocks().$size()["$=="](1)&&(P=k.$blocks()["$[]"](0),f(f(c=m["$!"]())?P.$content_model()["$=="]("compound"):c)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",_(["source_location"],{source_location:L}))):f(P.$content_model()["$!="]("compound"))&&(w=[m=l(ut,"Block").$new(k,"open",_(["content_model"],{content_model:"compound"}))],d(M,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],d(m,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks().$shift(),P.$style()["$=="]("partintro")&&(w=["paragraph"],d(P,"context=",t.to_a(w)),w[e(w.length,1)],w=[o],d(P,"style=",t.to_a(w)),w[e(w.length,1)]),m["$<<"](P),k.$blocks()["$<<"](m)))),(f(c=m)?c:k).$blocks()["$<<"](M),$.$clear());if(!f(c=a.$skip_blank_lines()))break}if(f(g))f(f(u=k["$blocks?"]())?k.$blocks()["$[]"](-1).$context()["$=="]("section"):u)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",_(["source_location"],{source_location:a.$cursor()})));else if(f(y))if(f(y["$blocks?"]()))if(f(f(u=f(c=b)?c:x.$blocks()["$[]"](1))?u:l(ut,"Compliance").$unwrap_standalone_preamble()["$!"]()))f(x.$sourcemap())&&(w=[y.$blocks()["$[]"](0).$source_location()],d(y,"source_location=",t.to_a(w)),w[e(w.length,1)]);else for(x.$blocks().$shift();f(N=y.$blocks().$shift());)x["$<<"](N);else x.$blocks().$shift();return[f(k["$!="](s))?k:o,$.$merge()]},w.$$arity=-3),t.defs(lt,"$next_block",k=function(a,s,$,u){try{var c,h,y,m,g,v,b,x,w=this,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o,B=o,D=o,z=o,F=o,j=o,q=o,U=o,H=o,Y=o,G=o,W=o,V=o,X=o,K=o,J=o,Z=o,Q=o,tt=o,et=o,nt=o,rt=o,it=o,at=o,st=o,ot=o,$t=o,lt=o,ct=o,dt=o,ft=o,_t=o,pt=o,ht=o,yt=o,mt=o,gt=o;if(null==p["~"]&&(p["~"]=o),null==$&&($=_([],{})),null==u&&(u=_([],{})),!f(k=a.$skip_blank_lines()))return o;if(f(f(c=A=u["$[]"]("text_only"))?i(k,0):c)&&(u.$delete("text_only"),A=o),E=s.$document(),f(u.$fetch("parse_metadata",!0)))for(;f(w.$parse_block_metadata_line(a,E,$,u));)a.$shift(),f(h=a.$skip_blank_lines())||t.ret(o);if(f(O=E.$extensions())&&(S=(c=[O["$blocks?"](),O["$block_macros?"]()])[0],R=c[1]),a.$mark(),c=[a.$read_line(),E.$attributes(),$["$[]"](1)],C=c[0],I=c[1],T=c[2],L=M=P=N=o,f(B=w["$is_delimited_block?"](C,!0))&&(M=P=B.$context(),N=B.$terminator(),f(T)?T["$=="](M.$to_s())||(f(B.$masq()["$include?"](T))?M=T.$to_sym():f(f(c=B.$masq()["$include?"]("admonition"))?l(ut,"ADMONITION_STYLES")["$include?"](T):c)?M="admonition":f(f(c=S)?O["$registered_for_block?"](T,M):c)?M=T.$to_sym():(f(w.$logger()["$debug?"]())&&w.$logger().$debug(w.$message_with_context("unknown style for "+M+" block: "+T,_(["source_location"],{source_location:a.$cursor_at_mark()}))),T=M.$to_s())):(D=["style",M.$to_s()],d($,"[]=",t.to_a(D)),T=D[e(D.length,1)])),f(B));else for(;f(!0);){if(f(f(h=f(y=T)?l(ut,"Compliance").$strict_verbatim_paragraphs():y)?l(ut,"VERBATIM_STYLES")["$include?"](T):h)){M=T.$to_sym(),a.$unshift_line(C);break}if(f(A))z=C["$start_with?"](" ",l(ut,"TAB"));else if(F=l(ut,"Compliance").$markdown_syntax(),f(C["$start_with?"](" "))){if(z=(h=[!0," "])[0],j=h[1],f(f(h=f(y=F)?d(C.$lstrip(),"start_with?",t.to_a(l(ut,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):y)?l(ut,"MarkdownThematicBreakRx")["$match?"](C):h)){L=l(ut,"Block").$new(s,"thematic_break",_(["content_model"],{content_model:"empty"}));break}}else if(f(C["$start_with?"](l(ut,"TAB"))))h=[!0,l(ut,"TAB")],z=h[0],j=h[1];else{if(h=[!1,C.$chr()],z=h[0],j=h[1],q=f(F)?l(ut,"HYBRID_LAYOUT_BREAK_CHARS"):l(ut,"LAYOUT_BREAK_CHARS"),f(f(h=q["$key?"](j))?f(F)?l(ut,"ExtLayoutBreakRx")["$match?"](C):f(y=w["$uniform?"](C,j,U=C.$length()))?i(U,2):y:h)){L=l(ut,"Block").$new(s,q["$[]"](j),_(["content_model"],{content_model:"empty"}));break}if(f(f(h=C["$end_with?"]("]"))?C["$include?"]("::"):h)){if(f(f(h=f(y=j["$=="]("i"))?y:C["$start_with?"]("video:","audio:"))?l(ut,"BlockMediaMacroRx")["$=~"](C):h)){if(H=(h=[((y=p["~"])===o?o:y["$[]"](1)).$to_sym(),(y=p["~"])===o?o:y["$[]"](2),(y=p["~"])===o?o:y["$[]"](3)])[0],Y=h[1],G=h[2],L=l(ut,"Block").$new(s,H,_(["content_model"],{content_model:"empty"})),f(G)&&(V="video"["$==="](W=H)?["poster","width","height"]:"audio"["$==="](W)?[]:["alt","width","height"],L.$parse_attributes(G,V,_(["sub_input","into"],{sub_input:!0,into:$}))),f($["$key?"]("style"))&&$.$delete("style"),f(Y["$include?"](l(ut,"ATTR_REF_HEAD")))){if(f(f(h=f(y=(X=L.$sub_attributes(Y))["$empty?"]())?(f(m=I["$[]"]("attribute-missing"))?m:l(ut,"Compliance").$attribute_missing())["$=="]("drop-line"):y)?L.$sub_attributes(n(Y," "),_(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():h))return $.$clear(),o;Y=X}H["$=="]("image")&&(E.$register("images",Y),D=["imagesdir",I["$[]"]("imagesdir")],d($,"[]=",t.to_a(D)),D[e(D.length,1)],f(h=$["$[]"]("alt"))||(D=["alt",f(y=T)?y:(D=["default-alt",l(ut,"Helpers").$basename(Y,!0).$tr("_-"," ")],d($,"[]=",t.to_a(D)),D[e(D.length,1)])],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f((K=$.$delete("scaledwidth"))["$nil_or_empty?"]())||(D=["scaledwidth",f(l(ut,"TrailingDigitsRx")["$match?"](K))?K+"%":K],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f($["$[]"]("title"))&&(D=[J=$.$delete("title")],d(L,"title=",t.to_a(D)),D[e(D.length,1)],L.$assign_caption($.$delete("caption"),"figure"))),D=["target",Y],d($,"[]=",t.to_a(D)),D[e(D.length,1)];break}if(f(f(h=(y=j["$=="]("t"))?C["$start_with?"]("toc:"):j["$=="]("t"))?l(ut,"BlockTocMacroRx")["$=~"](C):h)){L=l(ut,"Block").$new(s,"toc",_(["content_model"],{content_model:"empty"})),f((h=p["~"])===o?o:h["$[]"](1))&&L.$parse_attributes((h=p["~"])===o?o:h["$[]"](1),[],_(["into"],{into:$}));break}if(f(f(R)?f(h=f(y=l(ut,"CustomBlockMacroRx")["$=~"](C))?Z=O["$registered_for_block_macro?"]((m=p["~"])===o?o:m["$[]"](1)):y)?h:Q=w.$logger()["$debug?"]():f(h=w.$logger()["$debug?"]())?Q=l(ut,"CustomBlockMacroRx")["$=~"](C):h)){if(!f(Q)){if(tt=(h=p["~"])===o?o:h["$[]"](3),f((Y=(h=p["~"])===o?o:h["$[]"](2))["$include?"](l(ut,"ATTR_REF_HEAD")))){if(f(f(h=f(y=(X=s.$sub_attributes(Y))["$empty?"]())?(f(m=I["$[]"]("attribute-missing"))?m:l(ut,"Compliance").$attribute_missing())["$=="]("drop-line"):y)?s.$sub_attributes(n(Y," "),_(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():h))return $.$clear(),o;Y=X}if((et=Z.$config())["$[]"]("content_model")["$=="]("attributes")?f(tt)&&E.$parse_attributes(tt,f(h=f(y=et["$[]"]("positional_attrs"))?y:et["$[]"]("pos_attrs"))?h:[],_(["sub_input","into"],{sub_input:!0,into:$})):(D=["text",f(h=tt)?h:""],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f(nt=et["$[]"]("default_attrs"))&&d($,"update",[nt],((g=function(t,e){return g.$$s,null==t&&(t=o),null==e&&(e=o),e}).$$s=w,g.$$arity=2,g)),f(L=Z.$process_method()["$[]"](s,Y,$))){$.$replace(L.$attributes());break}return $.$clear(),o}w.$logger().$debug(w.$message_with_context("unknown name for block macro: "+((h=p["~"])===o?o:h["$[]"](1)),_(["source_location"],{source_location:a.$cursor_at_mark()})))}}}if(f(f(h=f(y=z["$!"]())?(j=f(m=j)?m:C.$chr())["$=="]("<"):y)?l(ut,"CalloutListRx")["$=~"](C):h)){a.$unshift_line(C),L=w.$parse_callout_list(a,p["~"],s,E.$callouts()),D=["style","arabic"],d($,"[]=",t.to_a(D)),D[e(D.length,1)];break}if(f(l(ut,"UnorderedListRx")["$match?"](C))){a.$unshift_line(C),f(f(h=f(y=T["$!"]())?l(ut,"Section")["$==="](s):y)?s.$sectname()["$=="]("bibliography"):h)&&(D=["style",T="bibliography"],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),L=w.$parse_list(a,"ulist",s,T);break}if(f(l(ut,"OrderedListRx")["$match?"](C))){a.$unshift_line(C),L=w.$parse_list(a,"olist",s,T),f(L.$style())&&(D=["style",L.$style()],d($,"[]=",t.to_a(D)),D[e(D.length,1)]);break}if(f(f(h=f(y=C["$include?"]("::"))?y:C["$include?"](";;"))?l(ut,"DescriptionListRx")["$=~"](C):h)){a.$unshift_line(C),L=w.$parse_description_list(a,p["~"],s);break}if(f(f(h=f(y=T["$=="]("float"))?y:T["$=="]("discrete"))?f(l(ut,"Compliance").$underline_style_section_titles())?w["$is_section_title?"](C,a.$peek_line()):f(y=z["$!"]())?w["$atx_section_title?"](C):y:h)){a.$unshift_line(C),y=w.$parse_section_title(a,E,$["$[]"]("id")),rt=null==(h=t.to_ary(y))[0]?o:h[0],it=null==h[1]?o:h[1],J=null==h[2]?o:h[2],at=null==h[3]?o:h[3],f(it)&&(D=["reftext",it],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),L=l(ut,"Block").$new(s,"floating_title",_(["content_model"],{content_model:"empty"})),D=[J],d(L,"title=",t.to_a(D)),D[e(D.length,1)],$.$delete("title"),D=[f(h=rt)?h:f(I["$key?"]("sectids"))?l(ut,"Section").$generate_id(L.$title(),E):o],d(L,"id=",t.to_a(D)),D[e(D.length,1)],D=[at],d(L,"level=",t.to_a(D)),D[e(D.length,1)];break}if(f(f(h=T)?T["$!="]("normal"):h)){if(f(l(ut,"PARAGRAPH_STYLES")["$include?"](T))){M=T.$to_sym(),P="paragraph",a.$unshift_line(C);break}if(f(l(ut,"ADMONITION_STYLES")["$include?"](T))){M="admonition",P="paragraph",a.$unshift_line(C);break}if(f(f(h=S)?O["$registered_for_block?"](T,"paragraph"):h)){M=T.$to_sym(),P="paragraph",a.$unshift_line(C);break}f(w.$logger()["$debug?"]())&&w.$logger().$debug(w.$message_with_context("unknown style for paragraph: "+T,_(["source_location"],{source_location:a.$cursor_at_mark()}))),T=o}if(a.$unshift_line(C),f(f(h=z)?T["$!"]():h))st=w.$read_paragraph_lines(a,ot=k["$=="](0)?u["$[]"]("list_type"):o,_(["skip_line_comments"],{skip_line_comments:A})),w["$adjust_indentation!"](st),L=f(f(h=A)?h:ot["$=="]("dlist"))?l(ut,"Block").$new(s,"paragraph",_(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:$})):l(ut,"Block").$new(s,"literal",_(["content_model","source","attributes"],{content_model:"verbatim",source:st,attributes:$}));else{if(st=w.$read_paragraph_lines(a,(h=k["$=="](0))?u["$[]"]("list_type"):k["$=="](0),_(["skip_line_comments"],{skip_line_comments:!0})),f(A))f(f(h=z)?T["$=="]("normal"):h)&&w["$adjust_indentation!"](st),L=l(ut,"Block").$new(s,"paragraph",_(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:$}));else if(f(f(h=f(y=l(ut,"ADMONITION_STYLE_HEADS")["$include?"](j))?C["$include?"](":"):y)?l(ut,"AdmonitionParagraphRx")["$=~"](C):h))D=[0,(h=p["~"])===o?o:h.$post_match()],d(st,"[]=",t.to_a(D)),D[e(D.length,1)],D=["name",$t=(D=["style",(h=p["~"])===o?o:h["$[]"](1)],d($,"[]=",t.to_a(D)),D[e(D.length,1)]).$downcase()],d($,"[]=",t.to_a(D)),D[e(D.length,1)],D=["textlabel",f(h=$.$delete("caption"))?h:I["$[]"]($t+"-caption")],d($,"[]=",t.to_a(D)),D[e(D.length,1)],L=l(ut,"Block").$new(s,"admonition",_(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:$}));else if(f(f(h=f(y=F)?j["$=="](">"):y)?C["$start_with?"]("> "):h)){if(d(st,"map!",[],((v=function(t){return v.$$s,null==t&&(t=o),t["$=="](">")?t.$slice(1,t.$length()):f(t["$start_with?"]("> "))?t.$slice(2,t.$length()):t}).$$s=w,v.$$arity=1,v)),f(st["$[]"](-1)["$start_with?"]("-- ")))if(lt=(lt=st.$pop()).$slice(3,lt.$length()),f(st["$empty?"]()));else for(;f(st["$[]"](-1)["$empty?"]());)st.$pop();D=["style","quote"],d($,"[]=",t.to_a(D)),D[e(D.length,1)],L=w.$build_block("quote","compound",!1,s,l(ut,"Reader").$new(st),$),f(lt)&&(y=L.$apply_subs(lt).$split(", ",2),ct=null==(h=t.to_ary(y))[0]?o:h[0],dt=null==h[1]?o:h[1],f(ct)&&(D=["attribution",ct],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f(dt)&&(D=["citetitle",dt],d($,"[]=",t.to_a(D)),D[e(D.length,1)]))}else if(f(f(h=f(y=(m=j["$=="]('"'))?i(st.$size(),1):j["$=="]('"'))?st["$[]"](-1)["$start_with?"]("-- "):y)?st["$[]"](-2)["$end_with?"]('"'):h)){for(D=[0,C.$slice(1,C.$length())],d(st,"[]=",t.to_a(D)),D[e(D.length,1)],lt=(lt=st.$pop()).$slice(3,lt.$length());f(st["$[]"](-1)["$empty?"]());)st.$pop();st["$<<"](st.$pop().$chop()),D=["style","quote"],d($,"[]=",t.to_a(D)),D[e(D.length,1)],L=l(ut,"Block").$new(s,"quote",_(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:$})),y=L.$apply_subs(lt).$split(", ",2),ct=null==(h=t.to_ary(y))[0]?o:h[0],dt=null==h[1]?o:h[1],f(ct)&&(D=["attribution",ct],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f(dt)&&(D=["citetitle",dt],d($,"[]=",t.to_a(D)),D[e(D.length,1)])}else f(f(h=z)?T["$=="]("normal"):h)&&w["$adjust_indentation!"](st),L=l(ut,"Block").$new(s,"paragraph",_(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:$}));w.$catalog_inline_anchors(st.$join(l(ut,"LF")),L,E,a)}break}if(f(L));else if("listing"["$==="](W=M)||"source"["$==="](W))f(f(c=M["$=="]("source"))?c:f(h=$["$[]"](1)["$!"]())?ft=f(y=$["$[]"](2))?y:I["$[]"]("source-language"):h)&&(f(ft)?(D=["style","source"],d($,"[]=",t.to_a(D)),D[e(D.length,1)],D=["language",ft],d($,"[]=",t.to_a(D)),D[e(D.length,1)],l(ut,"AttributeList").$rekey($,[o,o,"linenums"])):(l(ut,"AttributeList").$rekey($,[o,"language","linenums"]),f($["$key?"]("language"))||f(I["$key?"]("source-language"))&&(D=["language",I["$[]"]("source-language")],d($,"[]=",t.to_a(D)),D[e(D.length,1)])),f($["$key?"]("linenums"))||f(f(c=$["$[]"]("linenums-option"))?c:I["$[]"]("source-linenums-option"))&&(D=["linenums",""],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f($["$key?"]("indent"))||f(I["$key?"]("source-indent"))&&(D=["indent",I["$[]"]("source-indent")],d($,"[]=",t.to_a(D)),D[e(D.length,1)])),L=w.$build_block("listing","verbatim",N,s,a,$);else if("fenced_code"["$==="](W))D=["style","source"],d($,"[]=",t.to_a(D)),D[e(D.length,1)],f(i(U=C.$length(),3))&&(f(_t=(ft=C.$slice(3,U)).$index(","))?f(i(_t,0))?(ft=ft.$slice(0,_t).$strip(),f(r(_t,e(U,4)))&&(D=["linenums",""],d($,"[]=",t.to_a(D)),D[e(D.length,1)])):f(i(U,4))&&(D=["linenums",""],d($,"[]=",t.to_a(D)),D[e(D.length,1)]):ft=ft.$lstrip()),f(ft["$nil_or_empty?"]())?f(I["$key?"]("source-language"))&&(D=["language",I["$[]"]("source-language")],d($,"[]=",t.to_a(D)),D[e(D.length,1)]):(D=["language",ft],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f($["$key?"]("linenums"))||f(f(c=$["$[]"]("linenums-option"))?c:I["$[]"]("source-linenums-option"))&&(D=["linenums",""],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),f($["$key?"]("indent"))||f(I["$key?"]("source-indent"))&&(D=["indent",I["$[]"]("source-indent")],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),N=N.$slice(0,3),L=w.$build_block("listing","verbatim",N,s,a,$);else if("table"["$==="](W))pt=a.$cursor(),ht=l(ut,"Reader").$new(a.$read_lines_until(_(["terminator","skip_line_comments","context","cursor"],{terminator:N,skip_line_comments:!0,context:"table",cursor:"at_mark"})),pt),f(N["$start_with?"]("|","!"))||f(c=$["$[]"]("format"))||(D=["format",f(N["$start_with?"](","))?"csv":"dsv"],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),L=w.$parse_table(ht,s,$);else if("sidebar"["$==="](W))L=w.$build_block(M,"compound",N,s,a,$);else if("admonition"["$==="](W))D=["name",$t=T.$downcase()],d($,"[]=",t.to_a(D)),D[e(D.length,1)],D=["textlabel",f(c=$.$delete("caption"))?c:I["$[]"]($t+"-caption")],d($,"[]=",t.to_a(D)),D[e(D.length,1)],L=w.$build_block(M,"compound",N,s,a,$);else if("open"["$==="](W)||"abstract"["$==="](W)||"partintro"["$==="](W))L=w.$build_block("open","compound",N,s,a,$);else if("literal"["$==="](W))L=w.$build_block(M,"verbatim",N,s,a,$);else if("example"["$==="](W))f($["$[]"]("collapsible-option"))&&(D=["caption",""],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),L=w.$build_block(M,"compound",N,s,a,$);else if("quote"["$==="](W)||"verse"["$==="](W))l(ut,"AttributeList").$rekey($,[o,"attribution","citetitle"]),L=w.$build_block(M,M["$=="]("verse")?"verbatim":"compound",N,s,a,$);else if("stem"["$==="](W)||"latexmath"["$==="](W)||"asciimath"["$==="](W))M["$=="]("stem")&&(D=["style",l(ut,"STEM_TYPE_ALIASES")["$[]"](f(c=$["$[]"](2))?c:I["$[]"]("stem"))],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),L=w.$build_block("stem","raw",N,s,a,$);else if("pass"["$==="](W))L=w.$build_block(M,"raw",N,s,a,$);else{if("comment"["$==="](W))return w.$build_block(M,"skip",N,s,a,$),$.$clear(),o;if(f(f(c=S)?Z=O["$registered_for_block?"](M,P):c)){if((yt=(et=Z.$config())["$[]"]("content_model"))["$=="]("skip")||(f((mt=f(c=et["$[]"]("positional_attrs"))?c:et["$[]"]("pos_attrs"))["$nil_or_empty?"]())||l(ut,"AttributeList").$rekey($,n([o],mt)),f(nt=et["$[]"]("default_attrs"))&&d(nt,"each",[],((b=function(n,r){var i;return b.$$s,null==n&&(n=o),null==r&&(r=o),f(i=$["$[]"](n))?i:(D=[n,r],d($,"[]=",t.to_a(D)),D[e(D.length,1)])}).$$s=w,b.$$arity=2,b)),D=["cloaked-context",P],d($,"[]=",t.to_a(D)),D[e(D.length,1)]),!f(L=w.$build_block(M,yt,N,s,a,$,_(["extension"],{extension:Z}))))return $.$clear(),o}else w.$raise("Unsupported block type "+M+" at "+a.$cursor())}return f(E.$sourcemap())&&(D=[a.$cursor_at_mark()],d(L,"source_location=",t.to_a(D)),D[e(D.length,1)]),f($["$[]"]("title"))&&(D=[J=$.$delete("title")],d(L,"title=",t.to_a(D)),D[e(D.length,1)],f(f(c=gt=l(ut,"CAPTION_ATTRIBUTE_NAMES")["$[]"](L.$context()))?E.$attributes()["$[]"](gt):c)&&L.$assign_caption($.$delete("caption"))),D=[$["$[]"]("style")],d(L,"style=",t.to_a(D)),D[e(D.length,1)],f(x=f(c=L.$id())?c:(D=[$["$[]"]("id")],d(L,"id=",t.to_a(D)),D[e(D.length,1)]))&&(f(f(J)?J["$include?"](l(ut,"ATTR_REF_HEAD")):L["$title?"]())&&L.$title(),f(E.$register("refs",[x,L]))||w.$logger().$warn(w.$message_with_context("id assigned to block already in use: "+x,_(["source_location"],{source_location:a.$cursor_at_mark()})))),f($["$empty?"]())||L.$update_attributes($),L.$commit_subs(),f(L["$sub?"]("callouts"))&&(f(w.$catalog_callouts(L.$source(),E))||L.$remove_sub("callouts")),L}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=-3),t.defs(lt,"$read_paragraph_lines",A=function(n,r,i){var a=o,s=o;return null==i&&(i=_([],{})),a=["break_on_blank_lines",!0],d(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["break_on_list_continuation",!0],d(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["preserve_last_line",!0],d(i,"[]=",t.to_a(a)),a[e(a.length,1)],s=f(r)?f(l(ut,"Compliance").$block_terminates_paragraph())?l(ut,"StartOfBlockOrListProc"):l(ut,"StartOfListProc"):f(l(ut,"Compliance").$block_terminates_paragraph())?l(ut,"StartOfBlockProc"):l(ut,"NoOp"),d(n,"read_lines_until",[i],s.$to_proc())},A.$$arity=-3),t.defs(lt,"$is_delimited_block?",E=function(n,a){var s,$,u,c,d=o,_=o,p=o;if(null==a&&(a=o),!f(f(s=i(d=n.$length(),1))?l(ut,"DELIMITED_BLOCK_HEADS")["$[]"](n.$slice(0,2)):s))return o;if(d["$=="](2))_=n,p=2;else if(f(r(d,5))?(_=n,p=d):_=n.$slice(0,p=4),f(f(s=l(ut,"Compliance").$markdown_syntax())?_["$start_with?"]("`"):s)){if(p["$=="](4)){if(_["$=="]("````"))return o;if(!(_=_.$chop())["$=="]("```"))return o;n=_,d=p=3}else if(!_["$=="]("```"))return o}else if(p["$=="](3))return o;return $=l(ut,"DELIMITED_BLOCKS")["$[]"](_),u=null==(s=t.to_ary($))[0]?o:s[0],c=null==s[1]?o:s[1],f(f(s=u)?f($=d["$=="](p))?$:this["$uniform?"](n.$slice(1,d),l(ut,"DELIMITED_BLOCK_TAILS")["$[]"](_),e(d,1)):s)?!f(a)||l(ut,"BlockMatchData").$new(u,c,_,n):o},E.$$arity=-2),t.defs(lt,"$build_block",O=function(t,e,n,r,a,s,$){var u,c=o,d=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o;if(null==$&&($=_([],{})),e["$=="]("skip")?(c=(u=[!0,"simple"])[0],d=u[1]):e["$=="]("raw")?(c=(u=[!1,"simple"])[0],d=u[1]):(c=(u=[!1,e])[0],d=u[1]),f(n["$nil?"]())?(d["$=="]("verbatim")?p=a.$read_lines_until(_(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),p=this.$read_paragraph_lines(a,!1,_(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:c}))),h=o):f(d["$!="]("compound"))?(p=a.$read_lines_until(_(["terminator","skip_processing","context","cursor"],{terminator:n,skip_processing:c,context:t,cursor:"at_mark"})),h=o):n["$=="](!1)?(p=o,h=a):(p=o,y=a.$cursor(),h=l(ut,"Reader").$new(a.$read_lines_until(_(["terminator","skip_processing","context","cursor"],{terminator:n,skip_processing:c,context:t,cursor:"at_mark"})),y)),e["$=="]("verbatim"))m=(f(u=s["$[]"]("tabsize"))?u:r.$document().$attributes()["$[]"]("tabsize")).$to_i(),f(g=s["$[]"]("indent"))?this["$adjust_indentation!"](p,g.$to_i(),m):f(i(m,0))&&this["$adjust_indentation!"](p,-1,m);else if(e["$=="]("skip"))return o;if(f(v=$["$[]"]("extension"))){if(s.$delete("style"),!f(b=v.$process_method()["$[]"](r,f(u=h)?u:l(ut,"Reader").$new(p),s.$merge())))return o;s.$replace(b.$attributes()),f((u=b.$content_model()["$=="]("compound"))?(p=b.$lines())["$empty?"]()["$!"]():b.$content_model()["$=="]("compound"))&&(e="compound",h=l(ut,"Reader").$new(p))}else b=l(ut,"Block").$new(r,t,_(["content_model","source","attributes"],{content_model:e,source:p,attributes:s}));return e["$=="]("compound")&&this.$parse_blocks(h,b),b},O.$$arity=-7),t.defs(lt,"$parse_blocks",S=function(t,e,n){var r,i,a=o;if(null==n&&(n=o),f(n))for(;f(f(r=f(i=a=this.$next_block(t,e,n.$merge()))?e.$blocks()["$<<"](a):i)?r:t["$has_more_lines?"]()););else for(;f(f(r=f(i=a=this.$next_block(t,e))?e.$blocks()["$<<"](a):i)?r:t["$has_more_lines?"]()););return o},S.$$arity=-3),t.defs(lt,"$parse_list",R=function(t,e,n,r){var i,a=o,s=o,$=o;for(null==p["~"]&&(p["~"]=o),a=l(ut,"List").$new(n,e),s=l(ut,"ListRxMap")["$[]"](e);f(f(i=t["$has_more_lines?"]())?s["$=~"](t.$peek_line()):i)&&(f($=this.$parse_list_item(t,a,p["~"],(i=p["~"])===o?o:i["$[]"](1),r))&&a.$items()["$<<"]($),f(i=t.$skip_blank_lines())););return a},R.$$arity=4),t.defs(lt,"$catalog_callouts",C=function(t,e){var r,i=o,a=o;return i=!1,a=0,f(t["$include?"]("<"))&&d(t,"scan",[l(ut,"CalloutScanRx")],((r=function(){var t;return r.$$s,f(((t=p["~"])===o?o:t["$[]"](0))["$start_with?"]("\\"))||e.$callouts().$register(((t=p["~"])===o?o:t["$[]"](2))["$=="](".")?(a=n(a,1)).$to_s():(t=p["~"])===o?o:t["$[]"](2)),i=!0}).$$s=this,r.$$arity=0,r)),i},C.$$arity=2),t.defs(lt,"$catalog_inline_anchor",I=function(t,e,n,r,i){var a;return null==i&&(i=n.$document()),f(f(a=e)?e["$include?"](l(ut,"ATTR_REF_HEAD")):a)&&(e=i.$sub_attributes(e)),f(i.$register("refs",[t,l(ut,"Inline").$new(n,"anchor",e,_(["type","id"],{type:"ref",id:t}))]))||(f(l(ut,"Reader")["$==="](r))&&(r=r.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+t,_(["source_location"],{source_location:r})))),o},I.$$arity=-5),t.defs(lt,"$catalog_inline_anchors",T=function(t,e,r,a){var s,$;return f(f(s=t["$include?"]("[["))?s:t["$include?"]("or:"))&&d(t,"scan",[l(ut,"InlineAnchorScanRx")],(($=function(){var t,s,u,c=$.$$s||this,d=o,h=o,y=o,m=o;if(f(d=(t=p["~"])===o?o:t["$[]"](1))){if(f(f(t=f(s=h=(u=p["~"])===o?o:u["$[]"](2))?h["$include?"](l(ut,"ATTR_REF_HEAD")):s)?(h=r.$sub_attributes(h))["$empty?"]():t))return o}else if(d=(t=p["~"])===o?o:t["$[]"](3),f(h=(t=p["~"])===o?o:t["$[]"](4)))if(f(h["$include?"]("]")))h=h.$gsub("\\]","]"),f(h["$include?"](l(ut,"ATTR_REF_HEAD")))&&(h=r.$sub_attributes(h));else if(f(f(t=h["$include?"](l(ut,"ATTR_REF_HEAD")))?(h=r.$sub_attributes(h))["$empty?"]():t))return o;return f(r.$register("refs",[d,l(ut,"Inline").$new(e,"anchor",h,_(["type","id"],{type:"ref",id:d}))]))?o:(y=a.$cursor_at_mark(),f(i(m=n(((t=p["~"])===o?o:t.$pre_match()).$count(l(ut,"LF")),f(((t=p["~"])===o?o:t["$[]"](0))["$start_with?"](l(ut,"LF")))?1:0),0))&&(y=y.$dup()).$advance(m),c.$logger().$warn(c.$message_with_context("id assigned to anchor already in use: "+d,_(["source_location"],{source_location:y}))))}).$$s=this,$.$$arity=0,$)),o},T.$$arity=4),t.defs(lt,"$catalog_inline_biblio_anchor",L=function(t,e,n,r){var i;return f(n.$document().$register("refs",[t,l(ut,"Inline").$new(n,"anchor",f(i=e)?"["+e+"]":i,_(["type","id"],{type:"bibref",id:t}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+t,_(["source_location"],{source_location:r.$cursor()}))),o},L.$$arity=4),t.defs(lt,"$parse_description_list",M=function(n,r,i){var a,s=o,$=o,u=o,c=o,_=o;for(null==p["~"]&&(p["~"]=o),s=l(ut,"List").$new(i,"dlist"),$=l(ut,"DescriptionListSiblingRx")["$[]"](r["$[]"](2)),s.$items()["$<<"](u=this.$parse_list_item(n,s,r,$));f(f(a=n["$has_more_lines?"]())?$["$=~"](n.$peek_line()):a);)c=this.$parse_list_item(n,s,p["~"],$),f(u["$[]"](1))?s.$items()["$<<"](u=c):(u["$[]"](0)["$<<"](c["$[]"](0)["$[]"](0)),_=[1,c["$[]"](1)],d(u,"[]=",t.to_a(_)),_[e(_.length,1)]);return s},M.$$arity=3),t.defs(lt,"$parse_callout_list",P=function(r,i,a,s){var $,u,c=o,p=o,h=o,y=o,m=o,g=o,v=o;for(c=l(ut,"List").$new(a,"colist"),p=1,h=0;f(f($=i)?$:f(u=i=l(ut,"CalloutListRx").$match(r.$peek_line()))?r.$mark():u);)(y=i["$[]"](1))["$=="](".")&&(y=(h=n(h,1)).$to_s()),y["$=="](p.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+p+", got "+y,_(["source_location"],{source_location:r.$cursor_at_mark()}))),f(m=this.$parse_list_item(r,c,i,"<1>"))&&(c.$items()["$<<"](m),f((g=s.$callout_ids(c.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+c.$items().$size()+">",_(["source_location"],{source_location:r.$cursor_at_mark()}))):(v=["coids",g],d(m.$attributes(),"[]=",t.to_a(v)),v[e(v.length,1)])),p=n(p,1),i=o;return s.$next_list(),c},P.$$arity=4),t.defs(lt,"$parse_list_item",N=function(n,r,i,a,s){var $,u,c,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o;if(null==s&&(s=o),(h=r.$context())["$=="]("dlist")?(y=!0,m=l(ut,"ListItem").$new(r,g=i["$[]"](1)),f(f($=g["$start_with?"]("[["))?l(ut,"LeadingInlineAnchorRx")["$=~"](g):$)&&this.$catalog_inline_anchor(($=p["~"])===o?o:$["$[]"](1),f($=(u=p["~"])===o?o:u["$[]"](2))?$:((u=p["~"])===o?o:u.$post_match()).$lstrip(),m,n),f(v=i["$[]"](3))&&(b=!0),x=l(ut,"ListItem").$new(r,v),f(r.$document().$sourcemap())&&(w=[n.$cursor()],d(m,"source_location=",t.to_a(w)),w[e(w.length,1)],f(b)?(w=[m.$source_location()],d(x,"source_location=",t.to_a(w)),w[e(w.length,1)]):k=!0)):(b=!0,x=l(ut,"ListItem").$new(r,v=i["$[]"](2)),f(r.$document().$sourcemap())&&(w=[n.$cursor()],d(x,"source_location=",t.to_a(w)),w[e(w.length,1)]),h["$=="]("ulist")?(w=[a],d(x,"marker=",t.to_a(w)),w[e(w.length,1)],f(v["$start_with?"]("["))&&(f(f($=s)?s["$=="]("bibliography"):$)?f(l(ut,"InlineBiblioAnchorRx")["$=~"](v))&&this.$catalog_inline_biblio_anchor(($=p["~"])===o?o:$["$[]"](1),($=p["~"])===o?o:$["$[]"](2),x,n):f(v["$start_with?"]("[["))?f(l(ut,"LeadingInlineAnchorRx")["$=~"](v))&&this.$catalog_inline_anchor(($=p["~"])===o?o:$["$[]"](1),($=p["~"])===o?o:$["$[]"](2),x,n):f(v["$start_with?"]("[ ] ","[x] ","[*] "))&&(r.$set_option("checklist"),w=["checkbox",""],d(x.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)],f(v["$start_with?"]("[ "))||(w=["checked",""],d(x.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)]),w=[v.$slice(4,v.$length())],d(x,"text=",t.to_a(w)),w[e(w.length,1)]))):h["$=="]("olist")?(u=this.$resolve_ordered_list_marker(a,A=r.$items().$size(),!0,n),a=null==($=t.to_ary(u))[0]?o:$[0],E=null==$[1]?o:$[1],w=[a],d(x,"marker=",t.to_a(w)),w[e(w.length,1)],f(($=A["$=="](0))?s["$!"]():A["$=="](0))&&(w=[f($=E)?$:(f(u=l(ut,"ORDERED_LIST_STYLES")["$[]"](e(a.$length(),1)))?u:"arabic").$to_s()],d(r,"style=",t.to_a(w)),w[e(w.length,1)]),f(f($=v["$start_with?"]("[["))?l(ut,"LeadingInlineAnchorRx")["$=~"](v):$)&&this.$catalog_inline_anchor(($=p["~"])===o?o:$["$[]"](1),($=p["~"])===o?o:$["$[]"](2),x,n)):(w=[a],d(x,"marker=",t.to_a(w)),w[e(w.length,1)],f(f($=v["$start_with?"]("[["))?l(ut,"LeadingInlineAnchorRx")["$=~"](v):$)&&this.$catalog_inline_anchor(($=p["~"])===o?o:$["$[]"](1),($=p["~"])===o?o:$["$[]"](2),x,n))),n.$shift(),c=n.$cursor(),O=l(ut,"Reader").$new(this.$read_lines_for_list_item(n,h,a,b),c),f(O["$has_more_lines?"]())){for(f(k)&&(w=[c],d(x,"source_location=",t.to_a(w)),w[e(w.length,1)]),S=O.$skip_line_comments(),f(R=O.$peek_line())&&(f(S["$empty?"]())||O.$unshift_lines(S),f(R["$empty?"]())||(C=!0,f(y)||(b=o))),f(I=this.$next_block(O,x,_([],{}),_(["text_only","list_type"],{text_only:!f(b)||o,list_type:h})))&&x.$blocks()["$<<"](I);f(O["$has_more_lines?"]());)f(I=this.$next_block(O,x,_([],{}),_(["list_type"],{list_type:h})))&&x.$blocks()["$<<"](I);f(f($=f(u=C)?T=x.$blocks()["$[]"](0):u)?T.$context()["$=="]("paragraph"):$)&&x.$fold_first()}return f(y)?[[m],f(f($=x["$text?"]())?$:x["$blocks?"]())?x:o]:x},N.$$arity=-5),t.defs(lt,"$read_lines_for_list_item",B=function(n,r,i,a){var s,$,u,c,h,y,m,g,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o;for(null==i&&(i=o),null==a&&(a=!0),v=[],b="inactive",x=!1,w=o,g=r["$=="]("dlist");f(n["$has_more_lines?"]())&&(k=n.$read_line(),!f(this["$is_sibling_list_item?"](k,r,i)));)if((A=f(v["$empty?"]())?o:v["$[]"](-1))["$=="](l(ut,"LIST_CONTINUATION"))&&(b["$=="]("inactive")&&(b="active",a=!0,f(x)||(E=[-1,""],d(v,"[]=",t.to_a(E)),E[e(E.length,1)])),k["$=="](l(ut,"LIST_CONTINUATION"))))f(b["$!="]("frozen"))&&(b="frozen",v["$<<"](k)),k=o;else{if(f(O=this["$is_delimited_block?"](k,!0))){if(!b["$=="]("active"))break;v["$<<"](k),v.$concat(n.$read_lines_until(_(["terminator","read_last_line","context"],{terminator:O.$terminator(),read_last_line:!0,context:o}))),b="inactive"}else{if(f(f(s=f($=g)?b["$!="]("active"):$)?l(ut,"BlockAttributeLineRx")["$match?"](k):s))break;if(f((s=b["$=="]("active"))?k["$empty?"]()["$!"]():b["$=="]("active")))f(l(ut,"LiteralParagraphRx")["$match?"](k))?(n.$unshift_line(k),f(g)?v.$concat(d(n,"read_lines_until",[_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((u=function(t){var e=u.$$s||this;return null==t&&(t=o),e["$is_sibling_list_item?"](t,r,i)}).$$s=this,u.$$arity=1,u))):v.$concat(n.$read_lines_until(_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),b="inactive"):f(f(s=f($=l(ut,"BlockTitleRx")["$match?"](k))?$:l(ut,"BlockAttributeLineRx")["$match?"](k))?s:l(ut,"AttributeEntryRx")["$match?"](k))?v["$<<"](k):(f(S=d(f(x)?["dlist"]:l(ut,"NESTABLE_LIST_CONTEXTS"),"find",[],((c=function(t){return c.$$s,null==t&&(t=o),l(ut,"ListRxMap")["$[]"](t)["$match?"](k)}).$$s=this,c.$$arity=1,c)))&&(x=!0,f((s=S["$=="]("dlist"))?(($=p["~"])===o?o:$["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),v["$<<"](k),b="inactive");else if(f(f(s=A)?A["$empty?"]():s)){if(f(k["$empty?"]())){if(!f(k=f(s=n.$skip_blank_lines())?n.$read_line():s))break;if(f(this["$is_sibling_list_item?"](k,r,i)))break}if(k["$=="](l(ut,"LIST_CONTINUATION")))w=v.$size(),v["$<<"](k);else if(f(a)){if(f(this["$is_sibling_list_item?"](k,r,i)))break;if(f(S=d(l(ut,"NESTABLE_LIST_CONTEXTS"),"find",[],((h=function(t){return h.$$s,null==t&&(t=o),l(ut,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,h.$$arity=1,h))))v["$<<"](k),x=!0,f((s=S["$=="]("dlist"))?(($=p["~"])===o?o:$["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1);else{if(!f(l(ut,"LiteralParagraphRx")["$match?"](k)))break;n.$unshift_line(k),f(g)?v.$concat(d(n,"read_lines_until",[_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((y=function(t){var e=y.$$s||this;return null==t&&(t=o),e["$is_sibling_list_item?"](t,r,i)}).$$s=this,y.$$arity=1,y))):v.$concat(n.$read_lines_until(_(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else f(x)||v.$pop(),v["$<<"](k),a=!0}else f(k["$empty?"]())||(a=!0),f(S=d(f(x)?["dlist"]:l(ut,"NESTABLE_LIST_CONTEXTS"),"find",[],((m=function(t){return m.$$s,null==t&&(t=o),l(ut,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,m.$$arity=1,m)))&&(x=!0,f((s=S["$=="]("dlist"))?(($=p["~"])===o?o:$["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&(a=!1)),v["$<<"](k)}k=o}for(f(k)&&n.$unshift_line(k),f(w)&&(E=[w,""],d(v,"[]=",t.to_a(E)),E[e(E.length,1)]);!f(v["$empty?"]());){if(!f((R=v["$[]"](-1))["$empty?"]())){R["$=="](l(ut,"LIST_CONTINUATION"))&&v.$pop();break}v.$pop()}return v},B.$$arity=-3),t.defs(lt,"$initialize_section",D=function(n,r,a){var s,$,u,c,p,h,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o;return null==a&&(a=_([],{})),y=r.$document(),u=(m=y.$doctype())["$=="]("book"),f(y.$sourcemap())&&(g=n.$cursor()),v=a["$[]"](1),$=this.$parse_section_title(n,y,a["$[]"]("id")),c=null==(s=t.to_ary($))[0]?o:s[0],b=null==s[1]?o:s[1],x=null==s[2]?o:s[2],w=null==s[3]?o:s[3],p=null==s[4]?o:s[4],f(b)?(k=["reftext",b],d(a,"[]=",t.to_a(k)),k[e(k.length,1)]):b=a["$[]"]("reftext"),f(v)?f(f(s=u)?v["$=="]("abstract"):s)?(A=(s=["chapter",1])[0],w=s[1]):f(f(s=v["$start_with?"]("sect"))?l(ut,"SectionLevelStyleRx")["$match?"](v):s)?A="section":(A=(s=[v,!0])[0],E=s[1],w["$=="](0)&&(w=1),O=A["$=="]("appendix")):f(u)?A=w["$=="](0)?"part":f(i(w,1))?"section":"chapter":f((s=m["$=="]("manpage"))?x.$casecmp("synopsis")["$=="](0):m["$=="]("manpage"))?(A=(s=["synopsis",!0])[0],E=s[1]):A="section",S=l(ut,"Section").$new(r,w),s=[c,x,A,g],S["$id="](s[0]),S["$title="](s[1]),S["$sectname="](s[2]),S["$source_location="](s[3]),f(E)?(k=[!0],d(S,"special=",t.to_a(k)),k[e(k.length,1)],f(O)?(k=[!0],d(S,"numbered=",t.to_a(k)),k[e(k.length,1)]):y.$attributes()["$[]"]("sectnums")["$=="]("all")&&(k=[!f(f(s=u)?w["$=="](1):s)||"chapter"],d(S,"numbered=",t.to_a(k)),k[e(k.length,1)])):f(f(s=y.$attributes()["$[]"]("sectnums"))?i(w,0):s)?(k=[!f(S.$special())||!!f(s=r.$numbered())||s],d(S,"numbered=",t.to_a(k)),k[e(k.length,1)]):f(f(s=f($=u)?w["$=="](0):$)?y.$attributes()["$[]"]("partnums"):s)&&(k=[!0],d(S,"numbered=",t.to_a(k)),k[e(k.length,1)]),f(h=f(s=S.$id())?s:(k=[f(y.$attributes()["$key?"]("sectids"))?R=l(ut,"Section").$generate_id(S.$title(),y):o],d(S,"id=",t.to_a(k)),k[e(k.length,1)]))&&(f(R)||f(x["$include?"](l(ut,"ATTR_REF_HEAD")))&&S.$title(),f(y.$register("refs",[h,S]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+h,_(["source_location"],{source_location:n.$cursor_at_line(e(n.$lineno(),f(p)?1:2))})))),S.$update_attributes(a),n.$skip_blank_lines(),S},D.$$arity=-3),t.defs(lt,"$is_next_line_section?",z=function(t,e){var n,r,i=o,a=o;return f(f(n=i=e["$[]"](1))?f(r=i["$=="]("discrete"))?r:i["$=="]("float"):n)?o:f(l(ut,"Compliance").$underline_style_section_titles())?(a=t.$peek_lines(2,f(n=i)?i["$=="]("comment"):n),this["$is_section_title?"](f(n=a["$[]"](0))?n:"",a["$[]"](1))):this["$atx_section_title?"](f(n=t.$peek_line())?n:"")},z.$$arity=2),t.defs(lt,"$is_next_line_doctitle?",F=function(t,e,r){var i,a=o;return f(r)?f(i=a=this["$is_next_line_section?"](t,e))?n(a,r.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},F.$$arity=3),t.defs(lt,"$is_section_title?",j=function(t,e){var n,r=this;return null==e&&(e=o),f(n=r["$atx_section_title?"](t))?n:f(e["$nil_or_empty?"]())?o:r["$setext_section_title?"](t,e)},j.$$arity=-2),t.defs(lt,"$atx_section_title?",q=function(t){var n;return f(f(l(ut,"Compliance").$markdown_syntax())?f(n=t["$start_with?"]("=","#"))?l(ut,"ExtAtxSectionTitleRx")["$=~"](t):n:f(n=t["$start_with?"]("="))?l(ut,"AtxSectionTitleRx")["$=~"](t):n)?e(((n=p["~"])===o?o:n["$[]"](1)).$length(),1):o},q.$$arity=1),t.defs(lt,"$setext_section_title?",U=function(t,n){var i,a,s,$,u,c=o;return f(f(i=f(a=f(s=$=l(ut,"SETEXT_SECTION_LEVELS")["$[]"](u=n.$chr()))?this["$uniform?"](n,u,c=n.$length()):s)?l(ut,"SetextSectionTitleRx")["$match?"](t):a)?r(e(t.$length(),c).$abs(),2):i)?$:o},U.$$arity=2),t.defs(lt,"$parse_section_title",H=function(t,i,a){var s,$,u,c,d,_=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o;return null==a&&(a=o),_=o,h=t.$read_line(),f(f(l(ut,"Compliance").$markdown_syntax())?f(s=h["$start_with?"]("=","#"))?l(ut,"ExtAtxSectionTitleRx")["$=~"](h):s:f(s=h["$start_with?"]("="))?l(ut,"AtxSectionTitleRx")["$=~"](h):s)?(y=(s=[e((($=p["~"])===o?o:$["$[]"](1)).$length(),1),($=p["~"])===o?o:$["$[]"](2),!0])[0],m=s[1],g=s[2],f(a)||f(f(s=f($=m["$end_with?"]("]]"))?l(ut,"InlineSectionAnchorRx")["$=~"](m):$)?(($=p["~"])===o?o:$["$[]"](1))["$!"]():s)&&(s=[m.$slice(0,e(m.$length(),(($=p["~"])===o?o:$["$[]"](0)).$length())),($=p["~"])===o?o:$["$[]"](2),($=p["~"])===o?o:$["$[]"](3)],m=s[0],a=s[1],_=s[2])):f(f(s=f($=f(u=f(c=f(d=l(ut,"Compliance").$underline_style_section_titles())?v=t.$peek_line(!0):d)?y=l(ut,"SETEXT_SECTION_LEVELS")["$[]"](b=v.$chr()):c)?this["$uniform?"](v,b,x=v.$length()):u)?m=f(u=l(ut,"SetextSectionTitleRx")["$=~"](h))?(c=p["~"])===o?o:c["$[]"](1):u:$)?r(e(h.$length(),x).$abs(),2):s)?(g=!1,f(a)||f(f(s=f($=m["$end_with?"]("]]"))?l(ut,"InlineSectionAnchorRx")["$=~"](m):$)?(($=p["~"])===o?o:$["$[]"](1))["$!"]():s)&&(s=[m.$slice(0,e(m.$length(),(($=p["~"])===o?o:$["$[]"](0)).$length())),($=p["~"])===o?o:$["$[]"](2),($=p["~"])===o?o:$["$[]"](3)],m=s[0],a=s[1],_=s[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$cursor_at_prev_line()),f(i["$attr?"]("leveloffset"))&&(y=n(y,i.$attr("leveloffset").$to_i()),f(r(y,0))&&(y=0)),[a,_,m,y,g]},H.$$arity=-3),t.defs(lt,"$parse_header_metadata",Y=function(r,i){var a,s,u,c,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o;if(null==i&&(i=o),p=f(a=i)?i.$attributes():a,this.$process_attribute_entries(r,i),y=(a=[h=_([],{}),o,o])[0],m=a[1],g=a[2],f(f(a=r["$has_more_lines?"]())?r["$next_line_empty?"]()["$!"]():a)?(f((v=this.$process_authors(r.$read_line()))["$empty?"]())||(f(i)&&(d(v,"each",[],((s=function(n,r){s.$$s;var a=o;return null==n&&(n=o),null==r&&(r=o),f(p["$key?"](n))?o:(a=[n,f($("::","String")["$==="](r))?i.$apply_header_subs(r):r],d(p,"[]=",t.to_a(a)),a[e(a.length,1)])}).$$s=this,s.$$arity=2,s)),m=p["$[]"]("author"),g=p["$[]"]("authorinitials"),h=p["$[]"]("authors")),y=v),this.$process_attribute_entries(r,i),b=_([],{}),f(f(a=r["$has_more_lines?"]())?r["$next_line_empty?"]()["$!"]():a)&&(x=r.$read_line(),f(w=l(ut,"RevisionInfoLineRx").$match(x))?(f(w["$[]"](1))&&(k=["revnumber",w["$[]"](1).$rstrip()],d(b,"[]=",t.to_a(k)),k[e(k.length,1)]),f((A=w["$[]"](2).$strip())["$empty?"]())||(f(f(a=w["$[]"](1)["$!"]())?A["$start_with?"]("v"):a)?(k=["revnumber",A.$slice(1,A.$length())],d(b,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["revdate",A],d(b,"[]=",t.to_a(k)),k[e(k.length,1)])),f(w["$[]"](3))&&(k=["revremark",w["$[]"](3).$rstrip()],d(b,"[]=",t.to_a(k)),k[e(k.length,1)])):r.$unshift_line(x)),f(b["$empty?"]())||(f(i)&&d(b,"each",[],((u=function(n,r){return u.$$s,null==n&&(n=o),null==r&&(r=o),f(p["$key?"](n))?o:(k=[n,i.$apply_header_subs(r)],d(p,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,u.$$arity=2,u)),y.$update(b)),this.$process_attribute_entries(r,i),r.$skip_blank_lines()):v=_([],{}),f(i)){if(f(f(a=p["$key?"]("author"))?(E=p["$[]"]("author"))["$!="](m):a))v=this.$process_authors(E,!0,!1),f(p["$[]"]("authorinitials")["$!="](g))&&v.$delete("authorinitials");else if(f(f(a=p["$key?"]("authors"))?(E=p["$[]"]("authors"))["$!="](h):a))v=this.$process_authors(E,!0);else{for(O=(a=[[],1,"author_1",!1,!1])[0],S=a[1],R=a[2],C=a[3],I=a[4];f(p["$key?"](R));)(T=p["$[]"](R))["$=="](v["$[]"](R))?(O["$<<"](o),I=!0):(O["$<<"](T),C=!0),R="author_"+(S=n(S,1));f(C)?(f(I)&&d(O,"each_with_index",[],((c=function(r,i){var a,s=c.$$s||this,$=o;return null==r&&(r=o),null==i&&(i=o),f(r)?o:(k=[i,d([v["$[]"]("firstname_"+($=n(i,1))),v["$[]"]("middlename_"+$),v["$[]"]("lastname_"+$)].$compact(),"map",[],(a=function(t){return a.$$s,null==t&&(t=o),t.$tr(" ","_")},a.$$s=s,a.$$arity=1,a)).$join(" ")],d(O,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,c.$$arity=2,c)),v=this.$process_authors(O,!0,!1)):v=_([],{})}f(v["$empty?"]())?f(a=y["$[]"]("authorcount"))||(k=["authorcount",(k=["authorcount",0],d(p,"[]=",t.to_a(k)),k[e(k.length,1)])],d(y,"[]=",t.to_a(k)),k[e(k.length,1)]):(p.$update(v),f(f(a=p["$key?"]("email")["$!"]())?p["$key?"]("email_1"):a)&&(k=["email",p["$[]"]("email_1")],d(p,"[]=",t.to_a(k)),k[e(k.length,1)]))}return y},Y.$$arity=-2),t.defs(lt,"$process_authors",G=function(r,i,a){var s,$,u,c=o,p=o;return null==i&&(i=!1),null==a&&(a=!0),c=_([],{}),p=0,d(f(f(s=a)?r["$include?"](";"):s)?r.$split(l(ut,"AuthorDelimiterRx")):[].concat(t.to_a(r)),"each",[],(($=function(r){var a,s,u,h,y=$.$$s||this,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o;return null==r&&(r=o),f(r["$empty?"]())?o:(m=_([],{}),(p=n(p,1))["$=="](1)?d(l(ut,"AuthorKeys"),"each",[],((a=function(n){var r;return a.$$s,null==n&&(n=o),r=[n.$to_sym(),n],d(m,"[]=",t.to_a(r)),r[e(r.length,1)]}).$$s=y,a.$$arity=1,a)):d(l(ut,"AuthorKeys"),"each",[],((s=function(n){var r;return s.$$s,null==n&&(n=o),r=[n.$to_sym(),n+"_"+p],d(m,"[]=",t.to_a(r)),r[e(r.length,1)]}).$$s=y,s.$$arity=1,s)),f(i)?(f(r["$include?"]("<"))&&(g=[m["$[]"]("author"),r.$tr("_"," ")],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],r=r.$gsub(l(ut,"XmlSanitizeRx"),"")),(v=r.$split(o,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):f(b=l(ut,"AuthorInfoLineRx").$match(r))&&(v=b.$to_a()).$shift(),f(v)?(g=[m["$[]"]("firstname"),w=v["$[]"](0).$tr("_"," ")],d(c,"[]=",t.to_a(g)),x=g[e(g.length,1)],g=[m["$[]"]("authorinitials"),w.$chr()],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],f(v["$[]"](1))&&(f(v["$[]"](2))?(g=[m["$[]"]("middlename"),k=v["$[]"](1).$tr("_"," ")],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],g=[m["$[]"]("lastname"),A=v["$[]"](2).$tr("_"," ")],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],x=n(n(n(n(w," "),k)," "),A),g=[m["$[]"]("authorinitials"),""+w.$chr()+k.$chr()+A.$chr()],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]):(g=[m["$[]"]("lastname"),A=v["$[]"](1).$tr("_"," ")],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],x=n(n(w," "),A),g=[m["$[]"]("authorinitials"),""+w.$chr()+A.$chr()],d(c,"[]=",t.to_a(g)),g[e(g.length,1)])),f(u=c["$[]"](m["$[]"]("author")))||(g=[m["$[]"]("author"),x],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]),f(f(u=i)?u:v["$[]"](3)["$!"]())||(g=[m["$[]"]("email"),v["$[]"](3)],d(c,"[]=",t.to_a(g)),g[e(g.length,1)])):(g=[m["$[]"]("author"),(g=[m["$[]"]("firstname"),w=r.$squeeze(" ").$strip()],d(c,"[]=",t.to_a(g)),g[e(g.length,1)])],d(c,"[]=",t.to_a(g)),g[e(g.length,1)],g=[m["$[]"]("authorinitials"),w.$chr()],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]),p["$=="](1)?(g=["authors",c["$[]"](m["$[]"]("author"))],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]):(p["$=="](2)&&d(l(ut,"AuthorKeys"),"each",[],((h=function(n){return h.$$s,null==n&&(n=o),f(c["$key?"](n))?(g=[n+"_1",c["$[]"](n)],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]):o}).$$s=y,h.$$arity=1,h)),g=["authors",c["$[]"]("authors")+", "+c["$[]"](m["$[]"]("author"))],d(c,"[]=",t.to_a(g)),g[e(g.length,1)]))}).$$s=this,$.$$arity=1,$)),u=["authorcount",p],d(c,"[]=",t.to_a(u)),e(u.length,1),c},G.$$arity=-2),t.defs(lt,"$parse_block_metadata_lines",W=function(t,e,n,r){for(null==n&&(n=_([],{})),null==r&&(r=_([],{}));f(this.$parse_block_metadata_line(t,e,n,r))&&(t.$shift(),f(t.$skip_blank_lines())););return n},W.$$arity=-3),t.defs(lt,"$parse_block_metadata_line",V=function(n,r,i,a){var s,$,u=o,c=o,h=o,y=o,m=o,g=o;return null==p["~"]&&(p["~"]=o),null==a&&(a=_([],{})),f(f(s=u=n.$peek_line())?f(a["$[]"]("text_only"))?u["$start_with?"]("[","/"):c=u["$start_with?"]("[",".","/",":"):s)?f(u["$start_with?"]("["))?f(u["$start_with?"]("[["))?f(f(s=u["$end_with?"]("]]"))?l(ut,"BlockAnchorRx")["$=~"](u):s)?(h=["id",(s=p["~"])===o?o:s["$[]"](1)],d(i,"[]=",t.to_a(h)),h[e(h.length,1)],f(y=(s=p["~"])===o?o:s["$[]"](2))&&(h=["reftext",f(y["$include?"](l(ut,"ATTR_REF_HEAD")))?r.$sub_attributes(y):y],d(i,"[]=",t.to_a(h)),h[e(h.length,1)]),!0):o:f(f(s=u["$end_with?"]("]"))?l(ut,"BlockAttributeListRx")["$=~"](u):s)?(m=i["$[]"](1),f(r.$parse_attributes((s=p["~"])===o?o:s["$[]"](1),[],_(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:i}))["$[]"](1))&&(h=[1,f(s=this.$parse_style_attribute(i,n))?s:m],d(i,"[]=",t.to_a(h)),h[e(h.length,1)]),!0):o:f(f(s=c)?u["$start_with?"]("."):s)?f(l(ut,"BlockTitleRx")["$=~"](u))?(h=["title",(s=p["~"])===o?o:s["$[]"](1)],d(i,"[]=",t.to_a(h)),h[e(h.length,1)],!0):o:f(f(s=c["$!"]())?s:u["$start_with?"]("/"))?f(u["$start_with?"]("//"))?!!u["$=="]("//")||(f(f(s=c)?this["$uniform?"](u,"/",g=u.$length()):s)?g["$=="](3)?o:(n.$read_lines_until(_(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0):!f(u["$start_with?"]("///"))||o):o:f(f(s=f($=c)?u["$start_with?"](":"):$)?l(ut,"AttributeEntryRx")["$=~"](u):s)?(this.$process_attribute_entry(n,r,i,p["~"]),!0):o:o},V.$$arity=-4),t.defs(lt,"$process_attribute_entries",X=function(t,e,n){for(null==n&&(n=o),t.$skip_comment_lines();f(this.$process_attribute_entry(t,e,n));)t.$shift(),t.$skip_comment_lines()},X.$$arity=-3),t.defs(lt,"$process_attribute_entry",K=function(t,n,r,i){var a,s,$,u=o,c=o,d=o,_=o;if(null==r&&(r=o),null==i&&(i=o),f(f(a=i)?a:i=f(t["$has_more_lines?"]())?l(ut,"AttributeEntryRx").$match(t.$peek_line()):o)){if(f((u=i["$[]"](2))["$nil_or_empty?"]()))u="";else if(f(u["$end_with?"](l(ut,"LINE_CONTINUATION"),l(ut,"LINE_CONTINUATION_LEGACY"))))for(c=(a=[u.$slice(e(u.$length(),2),2),u.$slice(0,e(u.$length(),2)).$rstrip()])[0],u=a[1];f(f(s=t.$advance())?(d=f($=t.$peek_line())?$:"")["$empty?"]()["$!"]():s)&&(d=d.$lstrip(),f(_=d["$end_with?"](c))&&(d=d.$slice(0,e(d.$length(),2)).$rstrip()),u=""+u+(f(u["$end_with?"](l(ut,"HARD_LINE_BREAK")))?l(ut,"LF"):" ")+d,f(_)););return this.$store_attribute(i["$[]"](1),u,n,r),!0}return o},K.$$arity=-3),t.defs(lt,"$store_attribute",J=function(t,r,i,a){var s,u=o;return null==i&&(i=o),null==a&&(a=o),f(t["$end_with?"]("!"))?(t=t.$chop(),r=o):f(t["$start_with?"]("!"))&&(t=t.$slice(1,t.$length()),r=o),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")?t="sectnums":t["$=="]("hardbreaks")?t="hardbreaks-option":t["$=="]("showtitle")&&this.$store_attribute("notitle",f(r)?o:"",i,a),f(i)?f(r)?(t["$=="]("leveloffset")&&(f(r["$start_with?"]("+"))?r=n(i.$attr("leveloffset",0).$to_i(),r.$slice(1,r.$length()).$to_i()).$to_s():f(r["$start_with?"]("-"))&&(r=e(i.$attr("leveloffset",0).$to_i(),r.$slice(1,r.$length()).$to_i()).$to_s())),f(u=i.$set_attribute(t,r))&&(r=u,f(a)&&$(l(ut,"Document"),"AttributeEntry").$new(t,r).$save_to(a))):f(f(s=i.$delete_attribute(t))?a:s)&&$(l(ut,"Document"),"AttributeEntry").$new(t,r).$save_to(a):f(a)&&$(l(ut,"Document"),"AttributeEntry").$new(t,r).$save_to(a),[t,r]},J.$$arity=-3),t.defs(lt,"$resolve_list_marker",Z=function(t,e,n,r,i){return null==n&&(n=0),null==r&&(r=!1),null==i&&(i=o),t["$=="]("ulist")?e:t["$=="]("olist")?this.$resolve_ordered_list_marker(e,n,r,i)["$[]"](0):"<1>"},Z.$$arity=-3),t.defs(lt,"$resolve_ordered_list_marker",Q=function(t,e,r,i){var a,s,$,u,c=o,p=o;return null==e&&(e=0),null==r&&(r=!1),null==i&&(i=o),f(t["$start_with?"]("."))?[t]:($=u=d(l(ut,"ORDERED_LIST_STYLES"),"find",[],((a=function(e){return a.$$s,null==e&&(e=o),l(ut,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)}).$$s=this,a.$$arity=1,a)),"arabic"["$==="]($)?(f(r)&&(c=n(e,1),p=t.$to_i()),t="1."):"loweralpha"["$==="]($)?(f(r)&&(c=n("a"["$[]"](0).$ord(),e).$chr(),p=t.$chop()),t="a."):"upperalpha"["$==="]($)?(f(r)&&(c=n("A"["$[]"](0).$ord(),e).$chr(),p=t.$chop()),t="A."):"lowerroman"["$==="]($)?(f(r)&&(c=l(ut,"Helpers").$int_to_roman(n(e,1)).$downcase(),p=t.$chop()),t="i)"):"upperroman"["$==="]($)&&(f(r)&&(c=l(ut,"Helpers").$int_to_roman(n(e,1)),p=t.$chop()),t="I)"),f(f(s=r)?c["$!="](p):s)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+c+", got "+p,_(["source_location"],{source_location:i.$cursor()}))),[t,u])},Q.$$arity=-2),t.defs(lt,"$is_sibling_list_item?",tt=function(t,e,n){var r,i;return f($("::","Regexp")["$==="](n))?n["$match?"](t):f(r=l(ut,"ListRxMap")["$[]"](e)["$=~"](t))?n["$=="](this.$resolve_list_marker(e,(i=p["~"])===o?o:i["$[]"](1))):r},tt.$$arity=3),t.defs(lt,"$parse_table",et=function(r,a,s){var u,c,_,p,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o;for(h=l(ut,"Table").$new(a,s),f(f(u=s["$key?"]("cols"))?(y=this.$parse_colspecs(s["$[]"]("cols")))["$empty?"]()["$!"]():u)&&(h.$create_columns(y),m=!0),g=f(u=r.$skip_blank_lines())?u:0,f(s["$[]"]("header-option"))?(v=[!0],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)]):f((u=g["$=="](0))?s["$[]"]("noheader-option")["$!"]():g["$=="](0))&&(v=["implicit"],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)],b=!0),w=(u=[(x=$(l(ut,"Table"),"ParserContext").$new(r,h,s)).$format(),-1,o])[0],k=u[1],A=u[2],u=!1;u||f(E=r.$read_line());){for(u=!1,f(f(c=O=i(k=n(k,1),0))?E["$empty?"]():c)?(E=o,f(A)&&(A=n(A,1))):w["$=="]("psv")&&(f(x["$starts_with_delimiter?"](E))?(E=E.$slice(1,E.$length()),x.$close_open_cell(),f(A)&&(A=o)):(_=this.$parse_cellspec(E,"start",x.$delimiter()),S=null==(c=t.to_ary(_))[0]?o:c[0],E=null==c[1]?o:c[1],f(S)?(x.$close_open_cell(S),f(A)&&(A=o)):f(f(c=A)?A["$=="](k):c)&&(v=[b=A=o],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)]))),f(O)||(r.$mark(),f(b)&&(f(f(c=r["$has_more_lines?"]())?r.$peek_line()["$empty?"]():c)?A=1:(v=[b=o],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)]))),c=!1;c||f(!0);){if(c=!1,!f(f(_=E)?R=x.$match_delimiter(E):_)){v=[""+x.$buffer()+E+l(ut,"LF")],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)],"csv"["$==="](T=w)?f(x["$buffer_has_unclosed_quotes?"]())?(f(f(_=A)?k["$=="](0):_)&&(v=[b=A=o],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)]),x.$keep_cell_open()):x.$close_cell(!0):"dsv"["$==="](T)?x.$close_cell(!0):x.$keep_cell_open();break}if(C=(_=[R.$pre_match(),R.$post_match()])[0],I=_[1],"csv"["$==="](T=w)){if(f(x["$buffer_has_unclosed_quotes?"](C))){if(x.$skip_past_delimiter(C),f((E=I)["$empty?"]()))break;c=!0;continue}v=[""+x.$buffer()+C],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)]}else if("dsv"["$==="](T)){if(f(C["$end_with?"]("\\"))){if(x.$skip_past_escaped_delimiter(C),f((E=I)["$empty?"]())){v=[""+x.$buffer()+l(ut,"LF")],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)],x.$keep_cell_open();break}c=!0;continue}v=[""+x.$buffer()+C],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)]}else{if(f(C["$end_with?"]("\\"))){if(x.$skip_past_escaped_delimiter(C),f((E=I)["$empty?"]())){v=[""+x.$buffer()+l(ut,"LF")],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)],x.$keep_cell_open();break}c=!0;continue}p=this.$parse_cellspec(C),S=null==(_=t.to_ary(p))[0]?o:_[0],L=null==_[1]?o:_[1],x.$push_cellspec(S),v=[""+x.$buffer()+L],d(x,"buffer=",t.to_a(v)),v[e(v.length,1)]}f((E=I)["$empty?"]())&&(E=o),x.$close_cell()}if(f(x["$cell_open?"]()))f(r["$has_more_lines?"]())||x.$close_cell(!0);else if(!f(c=r.$skip_blank_lines()))break}return f(f(u=(M=h.$attributes(),f(c=M["$[]"]("colcount"))?c:(v=["colcount",h.$columns().$size()],d(M,"[]=",t.to_a(v)),v[e(v.length,1)]))["$=="](0))?u:m)||h.$assign_column_widths(),f(b)&&(v=[!0],d(h,"has_header_option=",t.to_a(v)),v[e(v.length,1)]),h.$partition_header_footer(s),h},et.$$arity=3),t.defs(lt,"$parse_colspecs",nt=function(n){var r,i,a=o;return f(n["$include?"](" "))&&(n=n.$delete(" ")),n["$=="](n.$to_i().$to_s())?d($("::","Array"),"new",[n.$to_i()],((r=function(){return r.$$s,_(["width"],{width:1})}).$$s=this,r.$$arity=0,r)):(a=[],d(f(n["$include?"](","))?n.$split(",",-1):n.$split(";",-1),"each",[],((i=function(n){var r,s,$,u=i.$$s||this,c=o,p=o,h=o,y=o,m=o,g=o;return null==n&&(n=o),f(n["$empty?"]())?a["$<<"](_(["width"],{width:1})):f(c=l(ut,"ColumnSpecRx").$match(n))?(p=_([],{}),f(c["$[]"](2))&&(s=c["$[]"](2).$split("."),h=null==(r=t.to_ary(s))[0]?o:r[0],y=null==r[1]?o:r[1],f(f(r=h["$nil_or_empty?"]()["$!"]())?l(ut,"TableCellHorzAlignments")["$key?"](h):r)&&(m=["halign",l(ut,"TableCellHorzAlignments")["$[]"](h)],d(p,"[]=",t.to_a(m)),m[e(m.length,1)]),f(f(r=y["$nil_or_empty?"]()["$!"]())?l(ut,"TableCellVertAlignments")["$key?"](y):r)&&(m=["valign",l(ut,"TableCellVertAlignments")["$[]"](y)],d(p,"[]=",t.to_a(m)),m[e(m.length,1)])),f(g=c["$[]"](3))?(m=["width",g["$=="]("~")?-1:g.$to_i()],d(p,"[]=",t.to_a(m)),m[e(m.length,1)]):(m=["width",1],d(p,"[]=",t.to_a(m)),m[e(m.length,1)]),f(f(r=c["$[]"](4))?l(ut,"TableCellStyles")["$key?"](c["$[]"](4)):r)&&(m=["style",l(ut,"TableCellStyles")["$[]"](c["$[]"](4))],d(p,"[]=",t.to_a(m)),m[e(m.length,1)]),f(c["$[]"](1))?d(1,"upto",[c["$[]"](1).$to_i()],(($=function(){return $.$$s,a["$<<"](p.$merge())}).$$s=u,$.$$arity=0,$)):a["$<<"](p)):o}).$$s=this,i.$$arity=1,i)),a)},nt.$$arity=1),t.defs(lt,"$parse_cellspec",rt=function(n,r,i){var a,s,$,u=o,c=o,p=o,h=o,y=o,m=o;if(null==r&&(r="end"),null==i&&(i=o),u=(a=[o,""])[0],c=a[1],r["$=="]("start")){if(!f(n["$include?"](i)))return[o,n];if(s=n.$partition(i),p=null==(a=t.to_ary(s))[0]?o:a[0],i=null==a[1]?o:a[1],c=null==a[2]?o:a[2],!f(u=l(ut,"CellSpecStartRx").$match(p)))return[o,n];if(f(u["$[]"](0)["$empty?"]()))return[_([],{}),c]}else{if(!f(u=l(ut,"CellSpecEndRx").$match(n)))return[_([],{}),n];if(f(u["$[]"](0).$lstrip()["$empty?"]()))return[_([],{}),n.$rstrip()];c=u.$pre_match()}return $=_([],{}),f(u["$[]"](1))&&(s=u["$[]"](1).$split("."),a=t.to_ary(s),h=null==a[0]?o:a[0],y=null==a[1]?o:a[1],h=f(h["$nil_or_empty?"]())?1:h.$to_i(),y=f(y["$nil_or_empty?"]())?1:y.$to_i(),u["$[]"](2)["$=="]("+")?(h["$=="](1)||(m=["colspan",h],d($,"[]=",t.to_a(m)),m[e(m.length,1)]),y["$=="](1)||(m=["rowspan",y],d($,"[]=",t.to_a(m)),m[e(m.length,1)])):u["$[]"](2)["$=="]("*")&&(h["$=="](1)||(m=["repeatcol",h],d($,"[]=",t.to_a(m)),m[e(m.length,1)]))),f(u["$[]"](3))&&(s=u["$[]"](3).$split("."),a=t.to_ary(s),h=null==a[0]?o:a[0],y=null==a[1]?o:a[1],f(f(a=h["$nil_or_empty?"]()["$!"]())?l(ut,"TableCellHorzAlignments")["$key?"](h):a)&&(m=["halign",l(ut,"TableCellHorzAlignments")["$[]"](h)],d($,"[]=",t.to_a(m)),m[e(m.length,1)]),f(f(a=y["$nil_or_empty?"]()["$!"]())?l(ut,"TableCellVertAlignments")["$key?"](y):a)&&(m=["valign",l(ut,"TableCellVertAlignments")["$[]"](y)],d($,"[]=",t.to_a(m)),m[e(m.length,1)])),f(f(a=u["$[]"](4))?l(ut,"TableCellStyles")["$key?"](u["$[]"](4)):a)&&(m=["style",l(ut,"TableCellStyles")["$[]"](u["$[]"](4))],d($,"[]=",t.to_a(m)),m[e(m.length,1)]),[$,c]},rt.$$arity=-2),t.defs(lt,"$parse_style_attribute",it=function(r,i){var a,s,$,u,c=o,p=o,h=o,y=o,m=o,g=o,v=o;return null==i&&(i=o),f(f(a=f(s=c=r["$[]"](1))?c["$include?"](" ")["$!"]():s)?l(ut,"Compliance").$shorthand_property_syntax():a)?(p=o,h="",y=_([],{}),d(c,"each_char",[],(($=function(t){var e=$.$$s||this,r=o;return null==t&&(t=o),"."["$==="](r=t)?(e.$yield_buffered_attribute(y,p,h,i),h="",p="role"):"#"["$==="](r)?(e.$yield_buffered_attribute(y,p,h,i),h="",p="id"):"%"["$==="](r)?(e.$yield_buffered_attribute(y,p,h,i),h="",p="option"):h=n(h,t)}).$$s=this,$.$$arity=1,$)),f(p)?(this.$yield_buffered_attribute(y,p,h,i),f(m=y["$[]"]("style"))&&(g=["style",m],d(r,"[]=",t.to_a(g)),g[e(g.length,1)]),f(y["$key?"]("id"))&&(g=["id",y["$[]"]("id")],d(r,"[]=",t.to_a(g)),g[e(g.length,1)]),f(y["$key?"]("role"))&&(g=["role",f((v=r["$[]"]("role"))["$nil_or_empty?"]())?y["$[]"]("role").$join(" "):v+" "+y["$[]"]("role").$join(" ")],d(r,"[]=",t.to_a(g)),g[e(g.length,1)]),f(y["$key?"]("option"))&&d(y["$[]"]("option"),"each",[],((u=function(n){return u.$$s,null==n&&(n=o),g=[n+"-option",""],d(r,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=this,u.$$arity=1,u)),m):(g=["style",c],d(r,"[]=",t.to_a(g)),g[e(g.length,1)])):(g=["style",c],d(r,"[]=",t.to_a(g)),g[e(g.length,1)])},it.$$arity=-2),t.defs(lt,"$yield_buffered_attribute",at=function(n,r,i,a){var s,$=o;return f(r)?f(i["$empty?"]())?f(a)?this.$logger().$warn(this.$message_with_context("invalid empty "+r+" detected in style attribute",_(["source_location"],{source_location:a.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+r+" detected in style attribute"):r["$=="]("id")?(f(n["$key?"]("id"))&&(f(a)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",_(["source_location"],{source_location:a.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),$=[r,i],d(n,"[]=",t.to_a($)),$[e($.length,1)]):(f(s=n["$[]"](r))?s:($=[r,[]],d(n,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](i):f(i["$empty?"]())||($=["style",i],d(n,"[]=",t.to_a($)),$[e($.length,1)]),o},at.$$arity=4),t.defs(lt,"$adjust_indentation!",st=function(s,$,u){var c,_,p,h,y,m,g,v=this,b=o,x=o,w=o;return null==$&&($=0),null==u&&(u=0),f(s["$empty?"]())||(f(f(c=i(u,0))?d(s,"any?",[],((_=function(t){return _.$$s,null==t&&(t=o),t["$include?"](l(ut,"TAB"))}).$$s=v,_.$$arity=1,_)):c)&&(b=a(" ",u),function(){var r=t.new_brk();try{d(s,"map!",[],((p=function(r){var i,s,$=p.$$s||this,c=o,_=o,h=o,y=o,m=o;return null==r&&(r=o),f(r["$empty?"]())?r:f(c=r.$index(l(ut,"TAB")))?c["$=="](0)&&(_=0,function(){var e=t.new_brk();try{d(r,"each_byte",[],((i=function(r){return i.$$s,null==r&&(r=o),r["$=="](9)||t.brk(o,e),_=n(_,1)}).$$s=$,i.$$brk=e,i.$$arity=1,i))}catch(t){if(t===e)return t.$v;throw t}}(),r=""+a(b,_)+r.$slice(_,r.$length()),!f(r["$include?"](l(ut,"TAB"))))?r:(h=0,y=0,m="",d(r,"each_char",[],((s=function(t){s.$$s;var r=o,i=o;return null==t&&(t=o),t["$=="](l(ut,"TAB"))?(r=n(y,h))["$%"](u)["$=="](0)?(h=n(h,e(u,1)),m=n(m,b)):((i=e(u,r["$%"](u)))["$=="](1)||(h=n(h,e(i,1))),m=n(m,a(" ",i))):m=n(m,t),y=n(y,1)}).$$s=$,s.$$arity=1,s)),m):r}).$$s=v,p.$$brk=r,p.$$arity=1,p))}catch(t){if(t===r)return t.$v;throw t}}()),f(r($,0))||(x=o,function(){var n=t.new_brk();try{d(s,"each",[],((h=function(i){h.$$s;var a,s=o;return null==i&&(i=o),f(i["$empty?"]())?o:((s=e(i.$length(),i.$lstrip().$length()))["$=="](0)&&(x=o,t.brk(o,n)),f(f(a=x)?r(x,s):a)?o:x=s)}).$$s=v,h.$$brk=n,h.$$arity=1,h))}catch(t){if(t===n)return t.$v;throw t}}(),$["$=="](0)?f(x)&&d(s,"map!",[],((y=function(t){return y.$$s,null==t&&(t=o),f(t["$empty?"]())?t:t.$slice(x,t.$length())}).$$s=v,y.$$arity=1,y)):(w=a(" ",$),f(x)?d(s,"map!",[],((m=function(t){return m.$$s,null==t&&(t=o),f(t["$empty?"]())?t:n(w,t.$slice(x,t.$length()))}).$$s=v,m.$$arity=1,m)):d(s,"map!",[],((g=function(t){return g.$$s,null==t&&(t=o),f(t["$empty?"]())?t:n(w,t)}).$$s=v,g.$$arity=1,g))))),o},st.$$arity=-2),t.defs(lt,"$uniform?",ot=function(t,e,n){return t.$count(e)["$=="](n)},ot.$$arity=3),t.defs(lt,"$sanitize_attribute_name",$t=function(t){return t.$gsub(l(ut,"InvalidAttributeNameCharsRx"),"").$downcase()},$t.$$arity=1)}(y[0],0,y)}(s[0],s)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.klass,$=t.truthy,l=t.hash2,u=t.send,c=t.gvars;return t.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$extract_uri_prefix","$end_with?","$gsub","$private","$=~"]),function(n,d){var f=[s(n,"Asciidoctor")].concat(d);!function(n,s,d){var f,_,p,h,y,m,g,v,b,x,w,k,A,E,O=o(n,null,"PathResolver"),S=[O].concat(d);O.$$prototype.file_separator=O.$$prototype._partition_path_web=O.$$prototype._partition_path_sys=O.$$prototype.working_dir=r,O.$include(a(S,"Logging")),t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),t.def(O,"$initialize",f=function(t,e){var n,a,s=this;return null==t&&(t=r),null==e&&(e=r),s.file_separator=$(n=$(a=t)?a:i(i("::","File"),"ALT_SEPARATOR"))?n:i(i("::","File"),"SEPARATOR"),s.working_dir=$(e)?$(s["$root?"](e))?s.$posixify(e):i("::","File").$expand_path(e):i("::","Dir").$pwd(),s._partition_path_sys=l([],{}),s._partition_path_web=l([],{})},f.$$arity=-1),t.def(O,"$absolute_path?",_=function(t){var e;return $(e=t["$start_with?"](a(S,"SLASH")))?e:this.file_separator["$=="](a(S,"BACKSLASH"))?a(S,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](a(S,"BACKSLASH"))},_.$$arity=1),$(a(S,"RUBY_ENGINE")["$=="]("opal")?i("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):a(S,"RUBY_ENGINE")["$=="]("opal"))?t.def(O,"$root?",p=function(t){var e;return $(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},p.$$arity=1):t.alias(O,"root?","absolute_path?"),t.def(O,"$unc?",h=function(t){return t["$start_with?"](a(S,"DOUBLE_SLASH"))},h.$$arity=1),t.def(O,"$web_root?",y=function(t){return t["$start_with?"](a(S,"SLASH"))},y.$$arity=1),t.def(O,"$descends_from?",m=function(t,n){var r;return n["$=="](t)?0:n["$=="](a(S,"SLASH"))?$(r=t["$start_with?"](a(S,"SLASH")))?1:r:$(r=t["$start_with?"](e(n,a(S,"SLASH"))))?e(n.$length(),1):r},m.$$arity=2),t.def(O,"$relative_path",g=function(e,n){var i=r;if(!$(this["$root?"](e)))return e;if($(i=this["$descends_from?"](e,n)))return e.$slice(i,e.$length());try{return a(S,"Pathname").$new(e).$relative_path_from(a(S,"Pathname").$new(n)).$to_s()}catch(n){if(!t.rescue(n,[a(S,"StandardError")]))throw n;try{return e}finally{t.pop_exception()}}},g.$$arity=2),t.def(O,"$posixify",v=function(t){return $(t)?$(this.file_separator["$=="](a(S,"BACKSLASH"))?t["$include?"](a(S,"BACKSLASH")):this.file_separator["$=="](a(S,"BACKSLASH")))?t.$tr(a(S,"BACKSLASH"),a(S,"SLASH")):t:""},v.$$arity=1),t.alias(O,"posixfy","posixify"),t.def(O,"$expand_path",b=function(e){var n,i,s,o,l,c=r;return i=this.$partition_path(e),o=null==(n=t.to_ary(i))[0]?r:n[0],l=null==n[1]?r:n[1],$(e["$include?"](a(S,"DOT_DOT")))?(c=[],u(o,"each",[],((s=function(t){return s.$$s,null==t&&(t=r),t["$=="](a(S,"DOT_DOT"))?c.$pop():c["$<<"](t)}).$$s=this,s.$$arity=1,s)),this.$join_path(c,l)):this.$join_path(o,l)},b.$$arity=1),t.def(O,"$partition_path",x=function(n,i){var s,o,l,c,d=this,f=r,_=r,p=r,h=r;return null==i&&(i=r),$(s=(f=$(i)?d._partition_path_web:d._partition_path_sys)["$[]"](n))?s:(_=d.$posixify(n),$(i)?$(d["$web_root?"](_))?p=a(S,"SLASH"):$(_["$start_with?"](a(S,"DOT_SLASH")))&&(p=a(S,"DOT_SLASH")):$(d["$root?"](_))?p=$(d["$unc?"](_))?a(S,"DOUBLE_SLASH"):$(_["$start_with?"](a(S,"SLASH")))?a(S,"SLASH"):_.$slice(0,e(_.$index(a(S,"SLASH")),1)):$(_["$start_with?"](a(S,"DOT_SLASH")))&&(p=a(S,"DOT_SLASH")),(h=($(p)?_.$slice(p.$length(),_.$length()):_).$split(a(S,"SLASH"))).$delete(a(S,"DOT")),o=[n,[h,p]],u(f,"[]=",t.to_a(o)),o[(l=o.length,c=1,"number"==typeof l&&"number"==typeof c?l-c:l["$-"](c))])},x.$$arity=-2),t.def(O,"$join_path",w=function(t,e){return null==e&&(e=r),$(e)?""+e+t.$join(a(S,"SLASH")):t.$join(a(S,"SLASH"))},w.$$arity=-2),t.def(O,"$system_path",k=function(n,s,o,c){var d,f,_,p,h=r,y=r,m=r,g=r,v=r,b=r,x=r,w=r,k=r,A=r;if(null==s&&(s=r),null==o&&(o=r),null==c&&(c=l([],{})),$(o)&&($(this["$root?"](o))||this.$raise(i("::","SecurityError"),"Jail is not an absolute path: "+o),o=this.$posixify(o)),$(n)){if($(this["$root?"](n))){if(h=this.$expand_path(n),$($(d=o)?this["$descends_from?"](h,o)["$!"]():d)){if($(c.$fetch("recover",!0)))return this.$logger().$warn(($(d=c["$[]"]("target_name"))?d:"path")+" is outside of jail; recovering automatically"),f=this.$partition_path(h),y=null==(d=t.to_ary(f))[0]?r:d[0],f=this.$partition_path(o),d=t.to_ary(f),m=null==d[0]?r:d[0],g=null==d[1]?r:d[1],this.$join_path(e(m,y),g);this.$raise(i("::","SecurityError"),($(d=c["$[]"]("target_name"))?d:"path")+" "+n+" is outside of jail: "+o+" (disallowed in safe mode)")}return h}f=this.$partition_path(n),y=null==(d=t.to_ary(f))[0]?r:d[0]}else y=[];if($(y["$empty?"]())){if($(s["$nil_or_empty?"]()))return $(d=o)?d:this.working_dir;if($(this["$root?"](s))){if(!$(o))return this.$expand_path(s);s=this.$posixify(s)}else f=this.$partition_path(s),y=null==(d=t.to_ary(f))[0]?r:d[0],s=$(d=o)?d:this.working_dir}else $(s["$nil_or_empty?"]())?s=$(d=o)?d:this.working_dir:$(this["$root?"](s))?$(o)&&(s=this.$posixify(s)):s=($(d=o)?d:this.working_dir).$chomp("/")+"/"+s;return $($(d=$(f=o)?v=this["$descends_from?"](s,o)["$!"]():f)?this.file_separator["$=="](a(S,"BACKSLASH")):d)?(f=this.$partition_path(s),b=null==(d=t.to_ary(f))[0]?r:d[0],x=null==d[1]?r:d[1],f=this.$partition_path(o),d=t.to_ary(f),m=null==d[0]?r:d[0],g=null==d[1]?r:d[1],$(x["$!="](g))&&($(c.$fetch("recover",!0))?(this.$logger().$warn("start path for "+($(d=c["$[]"]("target_name"))?d:"path")+" is outside of jail root; recovering automatically"),b=m,v=!1):this.$raise(i("::","SecurityError"),"start path for "+($(d=c["$[]"]("target_name"))?d:"path")+" "+s+" refers to location outside jail root: "+o+" (disallowed in safe mode)"))):(f=this.$partition_path(s),b=null==(d=t.to_ary(f))[0]?r:d[0],g=null==d[1]?r:d[1]),$((w=e(b,y))["$include?"](a(S,"DOT_DOT")))&&(k=(d=[w,[]])[0],w=d[1],$(o)?($(m)||(f=this.$partition_path(o),d=t.to_ary(f),m=null==d[0]?r:d[0]),A=!1,u(k,"each",[],((_=function(t){var e,s,l,u=_.$$s||this;return null==t&&(t=r),t["$=="](a(S,"DOT_DOT"))?$((s=w.$size(),l=m.$size(),"number"==typeof s&&"number"==typeof l?s>l:s["$>"](l)))?w.$pop():$(c.$fetch("recover",!0))?$(A)?r:(u.$logger().$warn(($(e=c["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically"),A=!0):u.$raise(i("::","SecurityError"),($(e=c["$[]"]("target_name"))?e:"path")+" "+n+" refers to location outside jail: "+o+" (disallowed in safe mode)"):w["$<<"](t)}).$$s=this,_.$$arity=1,_))):u(k,"each",[],((p=function(t){return p.$$s,null==t&&(t=r),t["$=="](a(S,"DOT_DOT"))?w.$pop():w["$<<"](t)}).$$s=this,p.$$arity=1,p))),$(v)?(h=this.$join_path(w,g),$(this["$descends_from?"](h,o))?h:$(c.$fetch("recover",!0))?(this.$logger().$warn(($(d=c["$[]"]("target_name"))?d:"path")+" is outside of jail; recovering automatically"),$(m)||(f=this.$partition_path(o),d=t.to_ary(f),m=null==d[0]?r:d[0]),this.$join_path(e(m,y),g)):this.$raise(i("::","SecurityError"),($(d=c["$[]"]("target_name"))?d:"path")+" "+n+" is outside of jail: "+o+" (disallowed in safe mode)")):this.$join_path(w,g)},k.$$arity=-2),t.def(O,"$web_path",A=function(e,n){var i,s,o,l,c=r,d=r,f=r,_=r;return null==n&&(n=r),e=this.$posixify(e),n=this.$posixify(n),$($(i=n["$nil_or_empty?"]())?i:this["$web_root?"](e))||(s=this.$extract_uri_prefix(""+n+($(n["$end_with?"](a(S,"SLASH")))?"":a(S,"SLASH"))+e),e=null==(i=t.to_ary(s))[0]?r:i[0],c=null==i[1]?r:i[1]),s=this.$partition_path(e,!0),l=null==(i=t.to_ary(s))[0]?r:i[0],d=null==i[1]?r:i[1],f=[],u(l,"each",[],((o=function(t){var e;return o.$$s,null==t&&(t=r),t["$=="](a(S,"DOT_DOT"))?$(f["$empty?"]())?$($(e=d)?d["$!="](a(S,"DOT_SLASH")):e)?r:f["$<<"](t):f["$[]"](-1)["$=="](a(S,"DOT_DOT"))?f["$<<"](t):f.$pop():f["$<<"](t)}).$$s=this,o.$$arity=1,o)),$((_=this.$join_path(f,d))["$include?"](" "))&&(_=_.$gsub(" ","%20")),$(c)?""+c+_:_},A.$$arity=-2),O.$private(),t.def(O,"$extract_uri_prefix",E=function(t){var e;return $($(e=t["$include?"](":"))?a(S,"UriSniffRx")["$=~"](t):e)?[t.$slice(((e=c["~"])===r?r:e["$[]"](0)).$length(),t.$length()),(e=c["~"])===r?r:e["$[]"](0)]:t},E.$$arity=1)}(f[0],0,f)}(n[0],n)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,d=t.hash2,f=t.truthy,_=t.send,p=t.gvars,h=t.hash;return t.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$prepare_lines","$drop","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$[]","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$new","$tap","$each","$instance_variables","$instance_variable_get","$instance_variable_set","$class","$object_id","$inspect","$private","$prepare_source_array","$prepare_source_string","$chomp","$valid_encoding?","$to_s","$raise","$to_i","$attributes","$catalog","$pop_include","$parse","$path=","$dup","$end_with?","$keys","$rindex","$rootname","$key?","$attr","$>=","$nil?","$extensions?","$include_processors?","$extensions","$include_processors","$map","$skip_front_matter!","$pop","$adjust_indentation!","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$downcase","$error","$none?","$any?","$all?","$strip","$send","$resolve_expr_val","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$info","$parse_attributes","$find","$handles?","$instance","$process_method","$safe","$resolve_include_path","$method","$split_delimited_value","$partition","$<","$/","$to_a","$uniq","$sort","$call","$each_line","$infinite?","$push_include","$delete","$value?","$create_include_cursor","$delete_at","$read","$uriish?","$attr?","$require_library","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_f"]),function(s,y){var m=[u(s,"Asciidoctor")].concat(y);!function(i,a,s){var u,p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J=c(i,null,"Reader"),Z=[J].concat(s);J.$$prototype.file=J.$$prototype.lines=J.$$prototype.look_ahead=J.$$prototype.unescape_next_line=J.$$prototype.lineno=J.$$prototype.process_lines=J.$$prototype.dir=J.$$prototype.path=J.$$prototype.mark=J.$$prototype.source_lines=J.$$prototype.saved=o,J.$include(l(Z,"Logging")),function(n,r,i){var a,s,$,l=c(n,null,"Cursor");[l].concat(i),l.$$prototype.lineno=l.$$prototype.path=o,l.$attr_reader("file","dir","path","lineno"),t.def(l,"$initialize",a=function(t,e,n,r){var i;return null==e&&(e=o),null==n&&(n=o),null==r&&(r=1),i=[t,e,n,r],this.file=i[0],this.dir=i[1],this.path=i[2],this.lineno=i[3],i},a.$$arity=-2),t.def(l,"$advance",s=function(t){return this.lineno=e(this.lineno,t)},s.$$arity=1),t.def(l,"$line_info",$=function(){return this.path+": line "+this.lineno},$.$$arity=0),t.alias(l,"to_s","line_info")}(Z[0],0,Z),J.$attr_reader("file"),J.$attr_reader("dir"),J.$attr_reader("path"),J.$attr_reader("lineno"),J.$attr_reader("source_lines"),J.$attr_accessor("process_lines"),J.$attr_accessor("unterminated"),t.def(J,"$initialize",u=function(e,n,r){var i,a;return null==e&&(e=o),null==n&&(n=o),null==r&&(r=d([],{})),f(n["$!"]())?(this.file=o,this.dir=".",this.path="<stdin>",this.lineno=1):f($("::","String")["$==="](n))?(this.file=n,a=$("::","File").$split(this.file),i=t.to_ary(a),this.dir=null==i[0]?o:i[0],this.path=null==i[1]?o:i[1],this.lineno=1):(f(this.file=n.$file())?(this.dir=f(i=n.$dir())?i:$("::","File").$dirname(this.file),this.path=f(i=n.$path())?i:$("::","File").$basename(this.file)):(this.dir=f(i=n.$dir())?i:".",this.path=f(i=n.$path())?i:"<stdin>"),this.lineno=f(i=n.$lineno())?i:1),this.lines=this.$prepare_lines(e,r),this.source_lines=this.lines.$drop(0),this.mark=o,this.look_ahead=0,this.process_lines=!0,this.unescape_next_line=!1,this.unterminated=o,this.saved=o},u.$$arity=-1),t.def(J,"$has_more_lines?",p=function(){return!f(this.lines["$empty?"]())||(this.look_ahead=0,!1)},p.$$arity=0),t.def(J,"$empty?",h=function(){return!!f(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},h.$$arity=0),t.alias(J,"eof?","empty?"),t.def(J,"$next_line_empty?",y=function(){return this.$peek_line()["$nil_or_empty?"]()},y.$$arity=0),t.def(J,"$peek_line",m=function(t){var e,r=o;return null==t&&(t=!1),f(f(e=t)?e:n(this.look_ahead,0))?f(this.unescape_next_line)?(r=this.lines["$[]"](0)).$slice(1,r.$length()):this.lines["$[]"](0):f(this.lines["$empty?"]())?(this.look_ahead=0,o):f(r=this.$process_line(this.lines["$[]"](0)))?r:this.$peek_line()},m.$$arity=-1),t.def(J,"$peek_lines",g=function(e,n){var i,a,s,$=this,u=o;return null==e&&(e=o),null==n&&(n=!1),s=$.look_ahead,u=[],function(){var s=t.new_brk();try{_(f(i=e)?i:l(Z,"MAX_INT"),"times",[],((a=function(){var e,i=a.$$s||this;if(null==i.lineno&&(i.lineno=o),f(e=f(n)?i.$shift():i.$read_line()))return u["$<<"](e);f(n)&&(i.lineno=r(i.lineno,1)),t.brk(o,s)}).$$s=$,a.$$brk=s,a.$$arity=0,a))}catch(t){if(t===s)return t.$v;throw t}}(),f(u["$empty?"]())||($.$unshift_all(u),f(n)&&($.look_ahead=s)),u},g.$$arity=-1),t.def(J,"$read_line",v=function(){var t;return f(f(t=n(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():o},v.$$arity=0),t.def(J,"$read_lines",b=function(){var t=o;for(t=[];f(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},b.$$arity=0),t.alias(J,"readlines","read_lines"),t.def(J,"$read",x=function(){return this.$read_lines().$join(l(Z,"LF"))},x.$$arity=0),t.def(J,"$advance",w=function(){return!!f(this.$shift())},w.$$arity=0),t.def(J,"$unshift_line",k=function(t){return this.$unshift(t),o},k.$$arity=1),t.alias(J,"restore_line","unshift_line"),t.def(J,"$unshift_lines",A=function(t){return this.$unshift_all(t),o},A.$$arity=1),t.alias(J,"restore_lines","unshift_lines"),t.def(J,"$replace_next_line",E=function(t){return this.$shift(),this.$unshift(t),!0},E.$$arity=1),t.alias(J,"replace_line","replace_next_line"),t.def(J,"$skip_blank_lines",O=function(){var t=o,n=o;if(f(this["$empty?"]()))return o;for(t=0;f(n=this.$peek_line());){if(!f(n["$empty?"]()))return t;this.$shift(),t=e(t,1)}},O.$$arity=0),t.def(J,"$skip_comment_lines",S=function(){var t,e,r,i=o,a=o;if(f(this["$empty?"]()))return o;for(;f(f(t=i=this.$peek_line())?i["$empty?"]()["$!"]():t)&&f(i["$start_with?"]("//"));)if(f(i["$start_with?"]("///"))){if(!f(f(t=n(a=i.$length(),3))?i["$=="]((e="/",r=a,"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r))):t))break;this.$read_lines_until(d(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:i,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else this.$shift();return o},S.$$arity=0),t.def(J,"$skip_line_comments",R=function(){var t,e=o,n=o;if(f(this["$empty?"]()))return[];for(e=[];f(f(t=n=this.$peek_line())?n["$empty?"]()["$!"]():t)&&f(n["$start_with?"]("//"));)e["$<<"](this.$shift());return e},R.$$arity=0),t.def(J,"$terminate",C=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,o},C.$$arity=0),t.def(J,"$read_lines_until",I=function(e){var n,i,a,s,$,u=I.$$p,c=u||o,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o;for(u&&(I.$$p=null),null==e&&(e=d([],{})),p=[],f(f(n=this.process_lines)?e["$[]"]("skip_processing"):n)&&(this.process_lines=!1,h=!0),f(y=e["$[]"]("terminator"))?(m=f(n=e["$[]"]("cursor"))?n:this.$cursor(),g=!1,v=!1):(g=e["$[]"]("break_on_blank_lines"),v=e["$[]"]("break_on_list_continuation")),$=e["$[]"]("skip_line_comments"),b=x=w=o,f(e["$[]"]("skip_first_line"))&&this.$shift();f(f(i=b["$!"]())?k=this.$read_line():i);)b=function(){for(;f(!0);)return!(!f(f(a=y)?k["$=="](y):a)&&!f(f(a=g)?k["$empty?"]():a)&&(f(f(a=f(s=v)?x:s)?k["$=="](l(Z,"LIST_CONTINUATION")):a)?(A=["preserve_last_line",!0],_(e,"[]=",t.to_a(A)),A[r(A.length,1)],0):!f((a=c!==o)?t.yield1(c,k):c!==o)));return o}(),f(b)?(f(e["$[]"]("read_last_line"))&&(p["$<<"](k),x=!0),f(e["$[]"]("preserve_last_line"))&&(this.$unshift(k),w=!0)):f(f(i=f(a=$)?k["$start_with?"]("//"):a)?k["$start_with?"]("///")["$!"]():i)||(p["$<<"](k),x=!0);return f(h)&&(this.process_lines=!0,f(f(n=w)?y["$!"]():n)&&(this.look_ahead=r(this.look_ahead,1))),f(f(n=f(i=y)?y["$!="](k):i)?E=e.$fetch("context",y):n)&&(m["$=="]("at_mark")&&(m=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+E+" block",d(["source_location"],{source_location:m}))),this.unterminated=!0),p},I.$$arity=-1),t.def(J,"$shift",T=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=r(this.look_ahead,1)),this.lines.$shift()},T.$$arity=0),t.def(J,"$unshift",L=function(t){return this.lineno=r(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},L.$$arity=1),t.def(J,"$unshift_all",M=function(n){return this.lineno=r(this.lineno,n.$size()),this.look_ahead=e(this.look_ahead,n.$size()),_(this.lines,"unshift",t.to_a(n))},M.$$arity=1),t.def(J,"$cursor",P=function(){return l(Z,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},P.$$arity=0),t.def(J,"$cursor_at_line",N=function(t){return l(Z,"Cursor").$new(this.file,this.dir,this.path,t)},N.$$arity=1),t.def(J,"$cursor_at_mark",B=function(){return f(this.mark)?_(l(Z,"Cursor"),"new",t.to_a(this.mark)):this.$cursor()},B.$$arity=0),t.def(J,"$cursor_before_mark",D=function(){var e,n,i=o,a=o,s=o,$=o;return f(this.mark)?(n=this.mark,i=null==(e=t.to_ary(n))[0]?o:e[0],a=null==e[1]?o:e[1],s=null==e[2]?o:e[2],$=null==e[3]?o:e[3],l(Z,"Cursor").$new(i,a,s,r($,1))):l(Z,"Cursor").$new(this.file,this.dir,this.path,r(this.lineno,1))},D.$$arity=0),t.def(J,"$cursor_at_prev_line",z=function(){return l(Z,"Cursor").$new(this.file,this.dir,this.path,r(this.lineno,1))},z.$$arity=0),t.def(J,"$mark",F=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},F.$$arity=0),t.def(J,"$line_info",j=function(){return this.path+": line "+this.lineno},j.$$arity=0),t.def(J,"$lines",q=function(){return this.lines.$drop(0)},q.$$arity=0),t.def(J,"$string",U=function(){return this.lines.$join(l(Z,"LF"))},U.$$arity=0),t.def(J,"$source",H=function(){return this.source_lines.$join(l(Z,"LF"))},H.$$arity=0),t.def(J,"$save",Y=function(){var e;return this.saved=_(d([],{}),"tap",[],((e=function(n){var i,a=e.$$s||this;return null==n&&(n=o),_(a.$instance_variables(),"each",[],((i=function(e){var a,s=i.$$s||this,l=o,u=o;return null==e&&(e=o),f(f(a=e["$=="]("@saved"))?a:e["$=="]("@source_lines"))?o:(l=[e,f($("::","Array")["$==="](u=s.$instance_variable_get(e)))?u.$drop(0):u],_(n,"[]=",t.to_a(l)),l[r(l.length,1)])}).$$s=a,i.$$arity=1,i))}).$$s=this,e.$$arity=1,e)),o},Y.$$arity=0),t.def(J,"$restore_save",G=function(){var t;return f(this.saved)?(_(this.saved,"each",[],((t=function(e,n){var r=t.$$s||this;return null==e&&(e=o),null==n&&(n=o),r.$instance_variable_set(e,n)}).$$s=this,t.$$arity=2,t)),this.saved=o):o},G.$$arity=0),t.def(J,"$discard_save",W=function(){return this.saved=o},W.$$arity=0),t.def(J,"$to_s",V=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+"}>"},V.$$arity=0),J.$private(),t.def(J,"$prepare_lines",X=function(e,n){var r=o,i=o;null==n&&(n=d([],{}));try{return f(r=n["$[]"]("normalize"))?(i=!r["$=="]("chomp"),f($("::","Array")["$==="](e))?l(Z,"Helpers").$prepare_source_array(e,i):l(Z,"Helpers").$prepare_source_string(e,i)):f($("::","Array")["$==="](e))?e.$drop(0):f(e)?e.$chomp().$split(l(Z,"LF"),-1):[]}catch(n){if(!t.rescue(n,[l(Z,"StandardError")]))throw n;try{return f((f($("::","Array")["$==="](e))?e.$join():e.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise($("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{t.pop_exception()}}},X.$$arity=-2),t.def(J,"$process_line",K=function(t){return f(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},K.$$arity=1)}(m[0],0,m),function(s,u,y){var m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D=c(s,u,"PreprocessorReader"),z=[D].concat(y);D.$$prototype.include_stack=D.$$prototype.lines=D.$$prototype.file=D.$$prototype.dir=D.$$prototype.path=D.$$prototype.lineno=D.$$prototype.maxdepth=D.$$prototype.process_lines=D.$$prototype.includes=D.$$prototype.document=D.$$prototype.unescape_next_line=D.$$prototype.include_processor_extensions=D.$$prototype.look_ahead=D.$$prototype.skipping=D.$$prototype.conditional_stack=o,D.$attr_reader("include_stack"),t.def(D,"$initialize",m=function(e,r,i,a){var s,$,l=m.$$p;return l&&(m.$$p=null),null==r&&(r=o),null==i&&(i=o),null==a&&(a=d([],{})),this.document=e,_(this,t.find_super_dispatcher(this,"initialize",m,!1),[r,i,a],null),f(n($=(f(s=e.$attributes()["$[]"]("max-include-depth"))?s:64).$to_i(),0))?this.maxdepth=d(["abs","curr","rel"],{abs:$,curr:$,rel:$}):this.maxdepth=o,this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=o},m.$$arity=-2),t.def(D,"$has_more_lines?",g=function(){return!!f(this.$peek_line())},g.$$arity=0),t.def(D,"$empty?",v=function(){return!f(this.$peek_line())},v.$$arity=0),t.alias(D,"eof?","empty?"),t.def(D,"$peek_line",b=function(e){var n=b.$$p,r=this,i=o,a=o,s=o,$=o;for(n&&(b.$$p=null),s=0,$=arguments.length,a=new Array($);s<$;s++)a[s]=arguments[s];return null==e&&(e=!1),f(i=_(r,t.find_super_dispatcher(r,"peek_line",b,!1),a,n))?i:f(r.include_stack["$empty?"]())?o:(r.$pop_include(),r.$peek_line(e))},b.$$arity=-1),t.def(D,"$push_include",x=function(i,a,s,u,c){var p,h=o,y=o,m=o,g=o,v=o,b=o;return null==a&&(a=o),null==s&&(s=o),null==u&&(u=1),null==c&&(c=d([],{})),this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]),f(this.file=a)?(f($("::","String")["$==="](a))?this.dir=$("::","File").$dirname(a):f(l(z,"RUBY_ENGINE_OPAL"))?this.dir=$("::","URI").$parse($("::","File").$dirname(a=a.$to_s())):(h=[(y=$("::","File").$dirname(a.$path()))["$=="]("/")?"":y],_(this.dir=a.$dup(),"path=",t.to_a(h)),h[r(h.length,1)],a=a.$to_s()),this.path=s=f(p=s)?p:$("::","File").$basename(a),f(this.process_lines=_(a,"end_with?",t.to_a(l(z,"ASCIIDOC_EXTENSIONS").$keys())))&&(h=[s.$slice(0,s.$rindex(".")),!f(c["$[]"]("partial-option"))||o],_(this.includes,"[]=",t.to_a(h)),h[r(h.length,1)])):(this.dir=".",this.process_lines=!0,f(this.path=s)?(h=[l(z,"Helpers").$rootname(s),!f(c["$[]"]("partial-option"))||o],_(this.includes,"[]=",t.to_a(h)),h[r(h.length,1)]):this.path="<stdin>"),this.lineno=u,f(f(p=this.maxdepth)?c["$key?"]("depth"):p)&&(f(n(m=c["$[]"]("depth").$to_i(),0))?(f(n(g=e(this.include_stack.$size(),m),v=this.maxdepth["$[]"]("abs")))&&(g=m=v),this.maxdepth=d(["abs","curr","rel"],{abs:v,curr:g,rel:m})):this.maxdepth=d(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0})),f((this.lines=this.$prepare_lines(i,d(["normalize","condense","indent"],{normalize:f(p=this.process_lines)?p:"chomp",condense:this.process_lines,indent:c["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(f(c["$key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+c["$[]"]("leveloffset")),this.lines["$<<"](""),f(b=this.document.$attr("leveloffset"))?this.lines["$<<"](":leveloffset: "+b):this.lines["$<<"](":leveloffset!:"),this.lineno=r(this.lineno,2)),this.look_ahead=0),this},x.$$arity=-2),t.def(D,"$include_depth",w=function(){return this.include_stack.$size()},w.$$arity=0),t.def(D,"$exceeds_max_depth?",k=function(){var t,e;return f(t=f(e=this.maxdepth)?i(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):e)?this.maxdepth["$[]"]("rel"):t},k.$$arity=0),t.alias(D,"exceeded_max_depth?","exceeds_max_depth?"),t.def(D,"$shift",A=function(){var e=A.$$p,n=this,r=o,i=o,a=o,s=o;for(e&&(A.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return f(n.unescape_next_line)?(n.unescape_next_line=!1,(r=_(n,t.find_super_dispatcher(n,"shift",A,!1),i,e)).$slice(1,r.$length())):_(n,t.find_super_dispatcher(n,"shift",A,!1),i,e)},A.$$arity=0),t.def(D,"$include_processors?",E=function(){var t;return f(this.include_processor_extensions["$nil?"]())?f(f(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},E.$$arity=0),t.def(D,"$create_include_cursor",O=function(t,e,n){var r=o;return f($("::","String")["$==="](t))?r=$("::","File").$dirname(t):f(l(z,"RUBY_ENGINE_OPAL"))?r=$("::","File").$dirname(t=t.$to_s()):(r=(r=$("::","File").$dirname(t.$path()))["$=="]("")?"/":r,t=t.$to_s()),l(z,"Cursor").$new(t,r,e,n)},O.$$arity=3),t.def(D,"$to_s",S=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+_(this.include_stack,"map",[],(t=function(e){return t.$$s,null==e&&(e=o),e.$to_s()},t.$$s=this,t.$$arity=1,t)).$join(", ")+"]}>"},S.$$arity=0),D.$private(),t.def(D,"$prepare_lines",R=function(n,i){var a,s,$=R.$$p,u=this,c=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o;for($&&(R.$$p=null),v=0,b=arguments.length,g=new Array(b);v<b;v++)g[v]=arguments[v];if(null==i&&(i=d([],{})),c=_(u,t.find_super_dispatcher(u,"prepare_lines",R,!1),g,$),f(f(a=u.document)?u.document.$attributes()["$[]"]("skip-front-matter"):a)&&f(p=u["$skip_front_matter!"](c))&&(h=["front-matter",p.$join(l(z,"LF"))],_(u.document.$attributes(),"[]=",t.to_a(h)),h[r(h.length,1)]),f(i.$fetch("condense",!0))){for(;f(f(s=y=c["$[]"](0))?y["$empty?"]():s);)f(s=c.$shift())&&(u.lineno=e(u.lineno,1));for(;f(f(s=m=c["$[]"](-1))?m["$empty?"]():s);)c.$pop()}return f(i["$[]"]("indent"))&&l(z,"Parser")["$adjust_indentation!"](c,i["$[]"]("indent").$to_i(),u.document.$attr("tabsize").$to_i()),c},R.$$arity=-2),t.def(D,"$process_line",C=function(t){var n,r;return f(this.process_lines)?f(t["$empty?"]())?(this.look_ahead=e(this.look_ahead,1),t):f(f(n=f(r=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():r)?t["$include?"]("::"):n)?f(f(n=t["$include?"]("if"))?l(z,"ConditionalDirectiveRx")["$=~"](t):n)?((n=p["~"])===o?o:n["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):f(this.$preprocess_conditional_directive((n=p["~"])===o?o:n["$[]"](2),(n=p["~"])===o?o:n["$[]"](3),(n=p["~"])===o?o:n["$[]"](4),(n=p["~"])===o?o:n["$[]"](5)))?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):f(this.skipping)?(this.$shift(),o):f(f(n=t["$start_with?"]("inc","\\inc"))?l(z,"IncludeDirectiveRx")["$=~"](t):n)?((n=p["~"])===o?o:n["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):f(this.$preprocess_include_directive((n=p["~"])===o?o:n["$[]"](2),(n=p["~"])===o?o:n["$[]"](3)))?o:(this.look_ahead=e(this.look_ahead,1),t):(this.look_ahead=e(this.look_ahead,1),t):f(this.skipping)?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):t},C.$$arity=1),t.def(D,"$preprocess_conditional_directive",I=function(t,e,n,i){var a,s,$,u,c,h,y=this,m=o,g=o,v=o,b=o,x=o,w=o;if(f(h=e["$empty?"]())||(e=e.$downcase()),t["$=="]("endif"))return f(i)?y.$logger().$error(y.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+e+"["+i+"]",d(["source_location"],{source_location:y.$cursor()}))):f(y.conditional_stack["$empty?"]())?y.$logger().$error(y.$message_with_context("unmatched preprocessor directive: endif::"+e+"[]",d(["source_location"],{source_location:y.$cursor()}))):f(f(a=h)?a:e["$=="]((m=y.conditional_stack["$[]"](-1))["$[]"]("target")))?(y.conditional_stack.$pop(),y.skipping=!f(y.conditional_stack["$empty?"]())&&y.conditional_stack["$[]"](-1)["$[]"]("skipping")):y.$logger().$error(y.$message_with_context("mismatched preprocessor directive: endif::"+e+"[], expected endif::"+m["$[]"]("target")+"[]",d(["source_location"],{source_location:y.$cursor()}))),!0;if(f(y.skipping))g=!1;else if("ifdef"["$==="](v=t)){if(f(h))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+i+"]",d(["source_location"],{source_location:y.$cursor()}))),!0;g=","["$==="](v=n)?_(e.$split(",",-1),"none?",[],((s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,s.$$arity=1,s)):"+"["$==="](v)?_(e.$split("+",-1),"any?",[],(($=function(t){var e=$.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=y,$.$$arity=1,$)):y.document.$attributes()["$key?"](e)["$!"]()}else if("ifndef"["$==="](v)){if(f(h))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+i+"]",d(["source_location"],{source_location:y.$cursor()}))),!0;g=","["$==="](v=n)?_(e.$split(",",-1),"any?",[],((u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,u.$$arity=1,u)):"+"["$==="](v)?_(e.$split("+",-1),"all?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=y,c.$$arity=1,c)):y.document.$attributes()["$key?"](e)}else if("ifeval"["$==="](v)){if(!f(h))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+e+"["+i+"]",d(["source_location"],{source_location:y.$cursor()}))),!0;if(!f(f(a=i)?l(z,"EvalExpressionRx")["$=~"](i.$strip()):a))return y.$logger().$error(y.$message_with_context("malformed preprocessor directive - "+(f(i)?"invalid expression":"missing expression")+": ifeval::["+i+"]",d(["source_location"],{source_location:y.$cursor()}))),!0;b=(a=p["~"])===o?o:a["$[]"](1),x=(a=p["~"])===o?o:a["$[]"](2),w=(a=p["~"])===o?o:a["$[]"](3),g=!f(y.$resolve_expr_val(b).$send(x,y.$resolve_expr_val(w)))}return f(f(a=t["$=="]("ifeval"))?a:i["$!"]())?(f(g)&&(y.skipping=!0),y.conditional_stack["$<<"](d(["target","skip","skipping"],{target:e,skip:g,skipping:y.skipping}))):f(f(a=y.skipping)?a:g)||(y.$replace_next_line(i.$rstrip()),y.$unshift(""),f(i["$start_with?"]("include::"))&&(y.look_ahead=r(y.look_ahead,1))),!0},I.$$arity=4),t.def(D,"$preprocess_include_directive",T=function(s,u){var c,y,m,g,v,b,x,w,k,A,E,O=this,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o,B=o,D=o,F=o,j=o,q=o,U=o,H=o,Y=o,G=o,W=o,V=o,X=o,K=o,J=o,Z=o,Q=o,tt=o,et=o;if(S=O.document,f(f(c=(R=s)["$include?"](l(z,"ATTR_REF_HEAD")))?(R=S.$sub_attributes(s,d(["attribute_missing"],{attribute_missing:(C=f(y=S.$attributes()["$[]"]("attribute-missing"))?y:l(z,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":C})))["$empty?"]():c))return f((c=C["$=="]("drop-line"))?S.$sub_attributes(e(s," "),d(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("drop-line"))?(_(O.$logger(),"info",[],((m=function(){var t=m.$$s||this;return t.$message_with_context("include dropped due to missing attribute: include::"+s+"["+u+"]",d(["source_location"],{source_location:t.$cursor()}))}).$$s=O,m.$$arity=0,m)),O.$shift(),!0):f(S.$parse_attributes(u,[],d(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(_(O.$logger(),"info",[],((g=function(){var t=g.$$s||this;return t.$message_with_context("optional include dropped "+(f(C["$=="]("warn")?S.$sub_attributes(e(s," "),d(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+s+"["+u+"]",d(["source_location"],{source_location:t.$cursor()}))}).$$s=O,g.$$arity=0,g)),O.$shift(),!0):(O.$logger().$warn(O.$message_with_context("include dropped "+(f((c=C["$=="]("warn"))?S.$sub_attributes(e(s," "),d(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+s+"["+u+"]",d(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+s+"["+u+"]"));if(f(f(c=O["$include_processors?"]())?I=_(O.include_processor_extensions,"find",[],((v=function(t){return v.$$s,null==t&&(t=o),t.$instance()["$handles?"](R)}).$$s=O,v.$$arity=1,v)):c))return O.$shift(),I.$process_method()["$[]"](S,O,R,S.$parse_attributes(u,[],d(["sub_input"],{sub_input:!0}))),!0;if(f(i(S.$safe(),$(l(z,"SafeMode"),"SECURE"))))return O.$replace_next_line("link:"+R+"[]");if(f(O.maxdepth)){if(f(i(O.include_stack.$size(),O.maxdepth["$[]"]("curr"))))return O.$logger().$error(O.$message_with_context("maximum include depth of "+O.maxdepth["$[]"]("rel")+" exceeded",d(["source_location"],{source_location:O.$cursor()}))),o;if(T=S.$parse_attributes(u,[],d(["sub_input"],{sub_input:!0})),y=O.$resolve_include_path(R,u,T),c=t.to_ary(y),L=null==c[0]?o:c[0],M=null==c[1]?o:c[1],P=null==c[2]?o:c[2],M["$=="]("file"))N=$("::","File").$method("open"),B=l(z,"FILE_READ_MODE");else{if(!M["$=="]("uri"))return L;N=$("::","OpenURI").$method("open_uri"),B=l(z,"URI_READ_MODE")}if(f(l(z,"RUBY_ENGINE_OPAL"))||f(f(c=D=T["$[]"]("encoding"))?function(){try{return $("::","Encoding").$find(D)}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}():c)&&(F=[1,D],_(j=B.$split(":"),"[]=",t.to_a(F)),F[r(F.length,1)],B=j.$join(":")),q=U=o,f(u)&&(f(T["$key?"]("lines"))?(q=[],_(O.$split_delimited_value(T["$[]"]("lines")),"each",[],((b=function(n){b.$$s;var r,i,s,$,l=o,u=o;return null==n&&(n=o),f(n["$include?"](".."))?(i=n.$partition(".."),r=t.to_ary(i),l=null==r[0]?o:r[0],null==r[1]||r[1],u=null==r[2]?o:r[2],q=e(q,f(f(r=u["$empty?"]())?r:(s=u=u.$to_i(),$=0,"number"==typeof s&&"number"==typeof $?s<$:s["$<"]($)))?[l.$to_i(),a(1,0)]:t.Range.$new(l.$to_i(),u,!1).$to_a())):q["$<<"](n.$to_i())}).$$s=O,b.$$arity=1,b)),q=f(q["$empty?"]())?o:q.$sort().$uniq()):f(T["$key?"]("tag"))?f(f(c=(H=T["$[]"]("tag"))["$empty?"]())?c:H["$=="]("!"))||(U=f(H["$start_with?"]("!"))?h(H.$slice(1,H.$length()),!1):h(H,!0)):f(T["$key?"]("tags"))&&(U=d([],{}),_(O.$split_delimited_value(T["$[]"]("tags")),"each",[],((x=function(e){var n;return x.$$s,null==e&&(e=o),f(f(n=e["$empty?"]())?n:e["$=="]("!"))?o:f(e["$start_with?"]("!"))?(F=[e.$slice(1,e.$length()),!1],_(U,"[]=",t.to_a(F)),F[r(F.length,1)]):(F=[e,!0],_(U,"[]=",t.to_a(F)),F[r(F.length,1)])}).$$s=O,x.$$arity=1,x)),f(U["$empty?"]())&&(U=o))),f(q)){Y=(c=[[],o,0])[0],G=c[1],W=c[2];try{!function(){var n=t.new_brk();try{_(N,"call",[L,B],((w=function(n){var r,i=w.$$s||this,a=o;return null==n&&(n=o),a=o,function(){var s=t.new_brk();try{return _(n,"each_line",[],((r=function(n){r.$$s;var i,l,u=o;return null==n&&(n=o),W=e(W,1),f(f(i=a)?i:f(l=$("::","Float")["$==="](u=q["$[]"](0)))?a=u["$infinite?"]():l)?(G=f(i=G)?i:W,Y["$<<"](n)):(u["$=="](W)&&(G=f(i=G)?i:W,Y["$<<"](n),q.$shift()),f(q["$empty?"]())?void t.brk(o,s):o)}).$$s=i,r.$$brk=s,r.$$arity=1,r))}catch(t){if(t===s)return t.$v;throw t}}()}).$$s=O,w.$$brk=n,w.$$arity=1,w))}catch(t){if(t===n)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+M+" not readable: "+L,d(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+u+"]")}finally{t.pop_exception()}}O.$shift(),f(G)&&(F=["partial-option",""],_(T,"[]=",t.to_a(F)),F[r(F.length,1)],O.$push_include(Y,L,P,G,T))}else if(f(U)){c=[[],o,0,[],$("::","Set").$new(),o],Y=c[0],G=c[1],W=c[2],V=c[3],X=c[4],K=c[5],f(U["$key?"]("**"))?f(U["$key?"]("*"))?(J=Z=U.$delete("**"),Q=U.$delete("*")):J=Z=Q=U.$delete("**"):(J=Z=U["$value?"](!0)["$!"](),Q=U.$delete("*"));try{_(N,"call",[L,B],((k=function(n){var r,i,a,s,$=k.$$s||this;return null==n&&(n=o),a=(r=["::","[]"])[0],s=r[1],_(n,"each_line",[],((i=function(n){var r,$,u,c=i.$$s||this,h=o,y=o,m=o;return null==n&&(n=o),W=e(W,1),f(f(r=f($=n["$include?"](a))?n["$include?"](s):$)?l(z,"TagDirectiveRx")["$=~"](n):r)?(h=(r=p["~"])===o?o:r["$[]"](2),f((r=p["~"])===o?o:r["$[]"](1))?h["$=="](K)?(V.$pop(),$=f(V["$empty?"]())?[o,Z]:V["$[]"](-1),r=t.to_ary($),K=null==r[0]?o:r[0],J=null==r[1]?o:r[1],$):f(U["$key?"](h))?(y=c.$create_include_cursor(L,R,W),f(m=_(V,"rindex",[],((u=function(t){return u.$$s,null==t&&(t=o),t["$=="](h)}).$$s=c,u.$$arity=1,u.$$has_trailing_comma_in_args=!0,u)))?(m["$=="](0)?V.$shift():V.$delete_at(m),c.$logger().$warn(c.$message_with_context("mismatched end tag (expected '"+K+"' but found '"+h+"') at line "+W+" of include "+M+": "+L,d(["source_location","include_location"],{source_location:c.$cursor(),include_location:y})))):c.$logger().$warn(c.$message_with_context("unexpected end tag '"+h+"' at line "+W+" of include "+M+": "+L,d(["source_location","include_location"],{source_location:c.$cursor(),include_location:y})))):o:f(U["$key?"](h))?(X["$<<"](h),V["$<<"]([K=h,J=U["$[]"](h),W])):f(Q["$nil?"]()["$!"]())?(J=!f(f(r=K)?J["$!"]():r)&&Q,V["$<<"]([K=h,J,W])):o):f(J)?(G=f(r=G)?r:W,Y["$<<"](n)):o}).$$s=$,i.$$arity=1,i))}).$$s=O,k.$$arity=1,k))}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+M+" not readable: "+L,d(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+u+"]")}finally{t.pop_exception()}}f(V["$empty?"]())||_(V,"each",[],((A=function(t,e,n){var r=A.$$s||this;return null==t&&(t=o),null==e&&(e=o),null==n&&(n=o),r.$logger().$warn(r.$message_with_context("detected unclosed tag '"+t+"' starting at line "+n+" of include "+M+": "+L,d(["source_location","include_location"],{source_location:r.$cursor(),include_location:r.$create_include_cursor(L,R,n)})))}).$$s=O,A.$$arity=3,A)),f((tt=r(U.$keys(),X.$to_a()))["$empty?"]())||O.$logger().$warn(O.$message_with_context("tag"+(f(n(tt.$size(),1))?"s":"")+" '"+tt.$join(", ")+"' not found in include "+M+": "+L,d(["source_location"],{source_location:O.$cursor()}))),O.$shift(),f(G)&&(f(f(c=f(y=Z)?Q:y)?U["$empty?"]():c)||(F=["partial-option",""],_(T,"[]=",t.to_a(F)),F[r(F.length,1)]),O.$push_include(Y,L,P,G,T))}else try{et=_(N,"call",[L,B],((E=function(t){return E.$$s,null==t&&(t=o),t.$read()}).$$s=O,E.$$arity=1,E)),O.$shift(),O.$push_include(et,L,P,1,T)}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+M+" not readable: "+L,d(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+u+"]")}finally{t.pop_exception()}}return!0}return o},T.$$arity=2),t.def(D,"$resolve_include_path",L=function(t,e,n){var r,i,a,s=this,u=o,c=o,p=o;return u=s.document,f(f(r=l(z,"Helpers")["$uriish?"](t))?r:f($("::","String")["$==="](s.dir))?o:t=s.dir+"/"+t)?f(u["$attr?"]("allow-uri-read"))?(f(u["$attr?"]("cache-uri"))?f((i=$("::","OpenURI","skip_raise"))&&(r=$(i,"Cache","skip_raise"))?"constant":o)||l(z,"Helpers").$require_library("open-uri/cached","open-uri-cached"):f(l(z,"RUBY_ENGINE_OPAL")["$!"]())&&$("::","OpenURI"),[$("::","URI").$parse(t),"uri",t]):s.$replace_next_line("link:"+t+"["+e+"]"):(c=u.$normalize_system_path(t,s.dir,o,d(["target_name"],{target_name:"include file"})),f($("::","File")["$file?"](c))?(p=u.$path_resolver().$relative_path(c,u.$base_dir()),[c,"file",p]):f(n["$[]"]("optional-option"))?(_(s.$logger(),"info",[],((a=function(){var t=a.$$s||this;return t.$message_with_context("optional include dropped because include file not found: "+c,d(["source_location"],{source_location:t.$cursor()}))}).$$s=s,a.$$arity=0,a)),s.$shift(),!0):(s.$logger().$error(s.$message_with_context("include file not found: "+c,d(["source_location"],{source_location:s.$cursor()}))),s.$replace_next_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]")))},L.$$arity=3),t.def(D,"$pop_include",M=function(){var e,r;return f(n(this.include_stack.$size(),0))?(r=this.include_stack.$pop(),e=t.to_ary(r),this.lines=null==e[0]?o:e[0],this.file=null==e[1]?o:e[1],this.dir=null==e[2]?o:e[2],this.path=null==e[3]?o:e[3],this.lineno=null==e[4]?o:e[4],this.maxdepth=null==e[5]?o:e[5],this.process_lines=null==e[6]?o:e[6],this.look_ahead=0,o):o},M.$$arity=0),t.def(D,"$split_delimited_value",P=function(t){return f(t["$include?"](","))?t.$split(","):t.$split(";")},P.$$arity=1),t.def(D,"$skip_front_matter!",N=function(n,r){var i,a=o,s=o;if(null==r&&(r=!0),a=o,n["$[]"](0)["$=="]("---")){for(s=n.$drop(0),n.$shift(),a=[],f(r)&&(this.lineno=e(this.lineno,1));f(f(i=n["$empty?"]()["$!"]())?n["$[]"](0)["$!="]("---"):i);)a["$<<"](n.$shift()),f(r)&&(this.lineno=e(this.lineno,1));f(n["$empty?"]())?(_(n,"unshift",t.to_a(s)),f(r)&&(this.lineno=0),a=o):(n.$shift(),f(r)&&(this.lineno=e(this.lineno,1)))}return a},N.$$arity=-2),t.def(D,"$resolve_expr_val",B=function(t){var e,n,i=o;return f(f(e=f(n=t["$start_with?"]('"'))?t["$end_with?"]('"'):n)?e:f(n=t["$start_with?"]("'"))?t["$end_with?"]("'"):n)?(i=!0,t=t.$slice(1,r(t.$length(),1))):i=!1,f(t["$include?"](l(z,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,d(["attribute_missing"],{attribute_missing:"drop"}))),f(i)?t:f(t["$empty?"]())?o:!!t["$=="]("true")||!t["$=="]("false")&&(f(t.$rstrip()["$empty?"]())?" ":f(t["$include?"]("."))?t.$to_f():t.$to_i())},B.$$arity=1)}(m[0],l(m,"Reader"),m)}(s[0],s)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],r=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,$=t.send,l=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$==","$>","$sectnum","$reftext","$!","$empty?","$sub_placeholder","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(n,u){var c=[a(n,"Asciidoctor")].concat(u);!function(n,a,u){var c,d,f,_,p,h,y,m=s(n,a,"Section"),g=[m].concat(u);m.$$prototype.document=m.$$prototype.level=m.$$prototype.parent=m.$$prototype.numeral=m.$$prototype.numbered=m.$$prototype.sectname=m.$$prototype.title=m.$$prototype.blocks=r,m.$attr_accessor("index"),m.$attr_accessor("sectname"),m.$attr_accessor("special"),m.$attr_accessor("numbered"),m.$attr_reader("caption"),t.def(m,"$initialize",c=function(n,a,s,u){var d,f,_=c.$$p;return _&&(c.$$p=null),null==n&&(n=r),null==a&&(a=r),null==s&&(s=!1),null==u&&(u=o([],{})),$(this,t.find_super_dispatcher(this,"initialize",c,!1),[n,"section",u],null),l(i(g,"Section")["$==="](n))?(d=[l(f=a)?f:e(n.$level(),1),n.$special()],this.level=d[0],this.special=d[1]):(d=[l(f=a)?f:1,!1],this.level=d[0],this.special=d[1]),this.numbered=s,this.index=0},c.$$arity=-1),t.alias(m,"name","title"),t.def(m,"$generate_id",d=function(){return i(g,"Section").$generate_id(this.$title(),this.document)},d.$$arity=0),t.def(m,"$sectnum",f=function(t,e){var n,a,s;return null==t&&(t="."),null==e&&(e=r),e=l(n=e)?n:e["$=="](!1)?"":t,l(l((a=this.level,s=1,n="number"==typeof a&&"number"==typeof s?a>s:a["$>"](s)))?i(g,"Section")["$==="](this.parent):n)?""+this.parent.$sectnum(t,t)+this.numeral+e:""+this.numeral+e},f.$$arity=-1),t.def(m,"$xreftext",_=function(t){var e,n=this,i=r,a=r,s=r,o=r,$=r;return null==t&&(t=r),l(l(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:l(t)?l(n.numbered)?"full"["$==="](a=t)?(o=l(l(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sub_placeholder(n.$sub_quotes("_%s_"),n.$title()):n.$sub_placeholder(n.$sub_quotes(l(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),l($=n.document.$attributes()["$[]"](s+"-refsig"))?$+" "+n.$sectnum(".",",")+" "+o:n.$sectnum(".",",")+" "+o):"short"["$==="](a)?l($=n.document.$attributes()["$[]"](n.sectname+"-refsig"))?$+" "+n.$sectnum(".",""):n.$sectnum(".",""):l(l(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sub_placeholder(n.$sub_quotes("_%s_"),n.$title()):n.$title():l(l(e=(s=n.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?n.$sub_placeholder(n.$sub_quotes("_%s_"),n.$title()):n.$title():n.$title()},_.$$arity=-1),t.def(m,"$<<",p=function(e){var n=p.$$p,i=this,a=r,s=r,o=r;for(n&&(p.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return e.$context()["$=="]("section")&&i.$assign_numeral(e),$(i,t.find_super_dispatcher(i,"<<",p,!1),a,n)},p.$$arity=1),t.def(m,"$to_s",h=function(){var e=h.$$p,n=this,i=r,a=r,s=r,o=r;for(e&&(h.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return l(n.title)?(i=l(n.numbered)?n.$sectnum()+" "+n.title:n.title,"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+i.$inspect()+", blocks: "+n.blocks.$size()+"}>"):$(n,t.find_super_dispatcher(n,"to_s",h,!1),a,e)},h.$$arity=0),t.defs(m,"$generate_id",y=function(n,a){var s,o,u,c,d=r,f=r,_=r,p=r,h=r,y=r,m=r,v=r,b=r,x=r;if(d=a.$attributes(),f=l(s=d["$[]"]("idprefix"))?s:"_",l(_=d["$[]"]("idseparator"))?l(l(s=_.$length()["$=="](1))?s:l(o=(p=_["$empty?"]())["$!"]())?(h=["idseparator",_.$chr()],$(d,"[]=",t.to_a(h)),_=h[(u=h.length,c=1,"number"==typeof u&&"number"==typeof c?u-c:u["$-"](c))]):o)&&(y=l(l(s=_["$=="]("-"))?s:_["$=="]("."))?" .-":" "+_+".-"):(_=(s=["_"," _.-"])[0],y=s[1]),m=""+f+n.$downcase().$gsub(i(g,"InvalidSectionIdCharsRx"),""),l(p)?m=m.$delete(" "):(m=m.$tr_s(y,_),l(m["$end_with?"](_))&&(m=m.$chop()),l(l(s=f["$empty?"]())?m["$start_with?"](_):s)&&(m=m.$slice(1,m.$length()))),l(a.$catalog()["$[]"]("refs")["$key?"](m))){for(v=a.$catalog()["$[]"]("refs"),b=i(g,"Compliance").$unique_id_start_index();l(v["$[]"](x=""+m+_+b));)b=e(b,1);return x}return m},y.$$arity=2)}(c[0],i(c,"AbstractBlock"),c)}(n[0],n)},Opal.modules["asciidoctor/stylesheets"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,o=t.truthy,$=t.hash2;return t.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$stylesheet_basename","$for","$read_stylesheet","$coderay_stylesheet_data","$coderay_stylesheet_name","$pygments_stylesheet_data","$pygments_stylesheet_name"]),function(e,l){var u=[a(e,"Asciidoctor")].concat(l);!function(e,a,l){var u,c,d,f,_,p,h,y,m,g,v,b,x,w=s(e,null,"Stylesheets"),k=[w].concat(l);w.$$prototype.primary_stylesheet_data=n,t.const_set(k[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(k[0],"STYLESHEETS_DIR",r("::","File").$join(i(k,"DATA_DIR"),"stylesheets")),w.__instance__=w.$new(),t.defs(w,"$instance",u=function(){return null==this.__instance__&&(this.__instance__=n),this.__instance__},u.$$arity=0),t.def(w,"$primary_stylesheet_name",c=function(){return i(k,"DEFAULT_STYLESHEET_NAME")},c.$$arity=0),t.def(w,"$primary_stylesheet_data",d=function(){var t;return this.primary_stylesheet_data=o(t=this.primary_stylesheet_data)?t:r("::","File").$read(r("::","File").$join(i(k,"STYLESHEETS_DIR"),"asciidoctor-default.css"),$(["mode"],{mode:i(k,"FILE_READ_MODE")})).$rstrip()},d.$$arity=0),t.def(w,"$embed_primary_stylesheet",f=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},f.$$arity=0),t.def(w,"$write_primary_stylesheet",_=function(t){return null==t&&(t="."),r("::","File").$write(r("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),$(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},_.$$arity=-1),t.def(w,"$coderay_stylesheet_name",p=function(){return i(k,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},p.$$arity=0),t.def(w,"$coderay_stylesheet_data",h=function(){return i(k,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},h.$$arity=0),t.def(w,"$embed_coderay_stylesheet",y=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},y.$$arity=0),t.def(w,"$write_coderay_stylesheet",m=function(t){return null==t&&(t="."),r("::","File").$write(r("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),$(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},m.$$arity=-1),t.def(w,"$pygments_stylesheet_name",g=function(t){return null==t&&(t=n),i(k,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(t)},g.$$arity=-1),t.def(w,"$pygments_stylesheet_data",v=function(t){return null==t&&(t=n),i(k,"SyntaxHighlighter").$for("pygments").$read_stylesheet(t)},v.$$arity=-1),t.def(w,"$embed_pygments_stylesheet",b=function(t){return null==t&&(t=n),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},b.$$arity=-1),t.def(w,"$write_pygments_stylesheet",x=function(t,e){return null==t&&(t="."),null==e&&(e=n),r("::","File").$write(r("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e),$(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},x.$$arity=-1)}(u[0],0,u)}(e[0],e)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var o=[],$=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.module),d=t.klass,f=t.hash2,_=t.send,p=t.truthy,h=t.gvars;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$truncate","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$round","$map","$shift","$reinitialize","$head=","$nil?","$unshift","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$style","$merge","$delete","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$catalog_inline_anchor","$=~","$apply_subs","$convert","$text","$!=","$file","$lineno","$to_s","$include","$to_set","$mark","$key?","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$!","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$private","$rows","$effective_column_visits"]),function(o,y){var m=[c(o,"Asciidoctor")].concat(y);!function(o,l,c){var h,y,m,g,v,b=d(o,l,"Table"),x=[b].concat(c);b.$$prototype.attributes=b.$$prototype.document=b.$$prototype.has_header_option=b.$$prototype.rows=b.$$prototype.columns=$,t.const_set(x[0],"DEFAULT_PRECISION",4),function(e,n,r){var i,a,s,o=d(e,null,"Rows");[o].concat(r),o.$$prototype.head=o.$$prototype.body=o.$$prototype.foot=$,o.$attr_accessor("head","foot","body"),t.def(o,"$initialize",i=function(t,e,n){return null==t&&(t=[]),null==e&&(e=[]),null==n&&(n=[]),this.head=t,this.foot=e,this.body=n},i.$$arity=-1),t.alias(o,"[]","send"),t.def(o,"$by_section",a=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},a.$$arity=0),t.def(o,"$to_h",s=function(){return f(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},s.$$arity=0)}(x[0],0,x),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),b.$attr_reader("caption"),t.def(b,"$initialize",h=function(s,o){var l,c,d=h.$$p,f=this,y=$,m=$,g=$,v=$;return d&&(h.$$p=null),_(f,t.find_super_dispatcher(f,"initialize",h,!1),[s,"table"],null),f.rows=u(x,"Rows").$new(),f.columns=[],f.has_header_option=!1,p(y=o["$[]"]("width"))?p(p(l=e(m=y.$to_i(),100))?l:n(m,1))&&(p((l=m["$=="](0))?p(c=y["$=="]("0"))?c:y["$=="]("0%"):m["$=="](0))||(m=100)):m=100,g=["tablepcwidth",m],_(f.attributes,"[]=",t.to_a(g)),g[r(g.length,1)],p(f.document.$attributes()["$[]"]("pagewidth"))&&(g=["tableabswidth",(v=i(a(m,100),f.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(u(x,"DEFAULT_PRECISION")))["$=="](v.$to_i())?v.$to_i():v],_(f.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]),p(o["$[]"]("rotate-option"))?(g=["orientation","landscape"],_(f.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]):$},h.$$arity=2),t.def(b,"$header_row?",y=function(){var t,e;return p(p(t=e=this.has_header_option)?this.rows.$body()["$empty?"]():t)?e:$},y.$$arity=0),t.def(b,"$create_columns",m=function(i){var a,o,l,c=$,d=$,f=$,h=$;return c=[],d=$,f=0,_(i,"each",[],((a=function(t){var e,r,i=a.$$s||this;return null==t&&(t=$),r=t["$[]"]("width"),c["$<<"](u(x,"Column").$new(i,c.$size(),t)),p(n(r,0))?(d=p(e=d)?e:[])["$<<"](c["$[]"](-1)):f=s(f,r)}).$$s=this,a.$$arity=1,a)),p(e(l=(this.columns=c).$size(),0))&&(h=["colcount",l],_(this.attributes,"[]=",t.to_a(h)),h[r(h.length,1)],p(p(o=e(f,0))?o:d)||(f=$),this.$assign_column_widths(f,d)),$},m.$$arity=1),t.def(b,"$assign_column_widths",g=function(t,n){var i,o,l,c,d=$,h=$,y=$,m=$;return null==t&&(t=$),null==n&&(n=$),c=u(x,"DEFAULT_PRECISION"),d=h=0,p(t)?(p(n)&&(p(e(t,100))?(y=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):((y=a(r(100,t),n.$size()).$truncate(c)).$to_i()["$=="](y)&&(y=y.$to_i()),t=100),m=f(["width","autowidth-option"],{width:y,"autowidth-option":""}),_(n,"each",[],((i=function(t){return i.$$s,null==t&&(t=$),t.$update_attributes(m)}).$$s=this,i.$$arity=1,i))),_(this.columns,"each",[],((o=function(e){return o.$$s,null==e&&(e=$),d=s(d,h=e.$assign_width($,t,c))}).$$s=this,o.$$arity=1,o))):((h=a(100,this.columns.$size()).$truncate(c)).$to_i()["$=="](h)&&(h=h.$to_i()),_(this.columns,"each",[],((l=function(t){return l.$$s,null==t&&(t=$),d=s(d,t.$assign_width(h,$,c))}).$$s=this,l.$$arity=1,l))),d["$=="](100)||this.columns["$[]"](-1).$assign_width(s(r(100,d),h).$round(c),$,c),$},g.$$arity=-1),t.def(b,"$partition_header_footer",v=function(n){var i,a,s,o=$,l=$,u=$;return l=["rowcount",(u=this.rows.$body()).$size()],_(this.attributes,"[]=",t.to_a(l)),o=l[r(l.length,1)],p(e(o,0))&&(p(this.has_header_option)?(l=[[_(u.$shift(),"map",[],(i=function(t){return i.$$s,null==t&&(t=$),t.$reinitialize(!0)},i.$$s=this,i.$$arity=1,i))]],_(this.rows,"head=",t.to_a(l)),l[r(l.length,1)],o=r(o,1)):p(this.has_header_option["$nil?"]())&&(this.has_header_option=!1,u.$unshift(_(u.$shift(),"map",[],((a=function(t){return a.$$s,null==t&&(t=$),t.$reinitialize(!1)}).$$s=this,a.$$arity=1,a))))),p(p(s=e(o,0))?n["$[]"]("footer-option"):s)&&(l=[[u.$pop()]],_(this.rows,"foot=",t.to_a(l)),l[r(l.length,1)]),$},v.$$arity=1)}(m[0],u(m,"AbstractBlock"),m),function(e,n,o){var l,u,c,h,y=d(e,n,"Column");[y].concat(o),y.$$prototype.attributes=$,y.$attr_accessor("style"),t.def(y,"$initialize",l=function(e,n,i){var a=l.$$p,o=$;return a&&(l.$$p=null),null==i&&(i=f([],{})),_(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"table_column"],null),this.style=i["$[]"]("style"),o=["colnumber",s(n,1)],_(i,"[]=",t.to_a(o)),o[r(o.length,1)],p(i["$[]"]("width"))||(o=["width",1],_(i,"[]=",t.to_a(o)),o[r(o.length,1)]),p(i["$[]"]("halign"))||(o=["halign","left"],_(i,"[]=",t.to_a(o)),o[r(o.length,1)]),p(i["$[]"]("valign"))||(o=["valign","top"],_(i,"[]=",t.to_a(o)),o[r(o.length,1)]),this.$update_attributes(i)},l.$$arity=-3),t.alias(y,"table","parent"),t.def(y,"$assign_width",u=function(e,n,s){var o=this,l=$,u=$;return p(n)&&(e=a(i(o.attributes["$[]"]("width").$to_f(),100),n).$truncate(s)).$to_i()["$=="](e)&&(e=e.$to_i()),p(o.$parent().$attributes()["$[]"]("tableabswidth"))&&(l=["colabswidth",(u=i(a(e,100),o.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(s))["$=="](u.$to_i())?u.$to_i():u],_(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)]),l=["colpcwidth",e],_(o.attributes,"[]=",t.to_a(l)),l[r(l.length,1)]},u.$$arity=3),t.def(y,"$block?",c=function(){return!1},c.$$arity=0),t.def(y,"$inline?",h=function(){return!1},h.$$arity=0)}(u(m,"Table"),u(m,"AbstractNode"),m),function(e,a,o){var c,y,m,g,v,b,x,w,k,A,E,O=d(e,a,"Cell"),S=[O].concat(o);O.$$prototype.document=O.$$prototype.reinitialize_args=O.$$prototype.attributes=O.$$prototype.cursor=O.$$prototype.text=O.$$prototype.subs=O.$$prototype.style=O.$$prototype.inner_document=O.$$prototype.source_location=O.$$prototype.colspan=O.$$prototype.rowspan=$,t.const_set(S[0],"DOUBLE_LF",i(u(S,"LF"),2)),O.$attr_accessor("colspan"),O.$attr_accessor("rowspan"),t.alias(O,"column","parent"),O.$attr_reader("inner_document"),t.def(O,"$initialize",c=function(e,i,a,o){var l,d,h,y=c.$$p,m=$,g=$,v=$,b=$,x=$,w=$,k=$,A=$,E=$,O=$,R=$,C=$;if(y&&(c.$$p=null),null==a&&(a=f([],{})),null==o&&(o=f([],{})),_(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,"table_cell"],null),this.cursor=this.reinitialize_args=$,p(this.document.$sourcemap())&&(this.source_location=o["$[]"]("cursor").$dup()),p(e)&&(p(m=e.$table()["$header_row?"]())?p((l=m["$=="]("implicit"))?g=p(d=e.$style())?d:p(h=a)?a["$[]"]("style"):h:m["$=="]("implicit"))&&(p(p(l=g["$=="]("asciidoc"))?l:g["$=="]("literal"))&&(this.reinitialize_args=[e,i,p(l=a)?a.$merge():l,o]),g=$):g=e.$style(),this.$update_attributes(e.$attributes())),p(a))if(p(a["$empty?"]())?this.colspan=this.rowspan=$:(l=[a.$delete("colspan"),a.$delete("rowspan")],this.colspan=l[0],this.rowspan=l[1],p(m)||(g=p(l=a["$[]"]("style"))?l:g),this.$update_attributes(a)),g["$=="]("asciidoc"))if(v=!0,b=o["$[]"]("cursor"),p((i=i.$rstrip())["$start_with?"](u(S,"LF")))){for(x=1;p((i=i.$slice(1,i.$length()))["$start_with?"](u(S,"LF")));)x=s(x,1);b.$advance(x)}else i=i.$lstrip();else if(g["$=="]("literal"))for(w=!0,i=i.$rstrip();p(i["$start_with?"](u(S,"LF")));)i=i.$slice(1,i.$length());else k=!0,i=p(i)?i.$strip():"";else this.colspan=this.rowspan=$,g["$=="]("asciidoc")&&(v=!0,b=o["$[]"]("cursor"));return p(v)?(A=this.document.$attributes().$delete("doctitle"),E=i.$split(u(S,"LF"),-1),p(E["$empty?"]())||p((O=E["$[]"](0))["$include?"]("::"))&&(R=u(S,"PreprocessorReader").$new(this.document,[O]).$readlines(),p((l=O["$=="](R["$[]"](0)))?n(R.$size(),2):O["$=="](R["$[]"](0)))||(E.$shift(),p(R["$empty?"]())||_(E,"unshift",t.to_a(R)))),this.inner_document=u(S,"Document").$new(E,f(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:b})),p(A["$nil?"]())||(C=["doctitle",A],_(this.document.$attributes(),"[]=",t.to_a(C)),C[r(C.length,1)]),this.subs=$):p(w)?(this.content_model="verbatim",this.subs=u(S,"BASIC_SUBS")):(p(k)&&(p(m)?this.cursor=o["$[]"]("cursor"):this.$catalog_inline_anchor(i,o["$[]"]("cursor"))),this.content_model="simple",this.subs=u(S,"NORMAL_SUBS")),this.text=i,this.style=g},c.$$arity=-3),t.def(O,"$reinitialize",y=function(e){if(p(e))this.reinitialize_args=$;else{if(p(this.reinitialize_args))return _(l(u(S,"Table"),"Cell"),"new",t.to_a(this.reinitialize_args));this.style=this.attributes["$[]"]("style")}return p(this.cursor)&&this.$catalog_inline_anchor(),this},y.$$arity=1),t.def(O,"$catalog_inline_anchor",m=function(t,e){var n;return null==t&&(t=this.text),null==e&&(e=$),p(e)||(e=(n=[this.cursor,$])[0],this.cursor=n[1]),p(p(n=t["$start_with?"]("[["))?u(S,"LeadingInlineAnchorRx")["$=~"](t):n)?u(S,"Parser").$catalog_inline_anchor((n=h["~"])===$?$:n["$[]"](1),(n=h["~"])===$?$:n["$[]"](2),this,e,this.document):$},m.$$arity=-1),t.def(O,"$text",g=function(){return this.$apply_subs(this.text,this.subs)},g.$$arity=0),t.def(O,"$text=",v=function(t){return this.text=t},v.$$arity=1),t.def(O,"$content",b=function(){var t,e,n=$,r=$;return(n=this.style)["$=="]("asciidoc")?this.inner_document.$convert():p(this.text["$include?"](u(S,"DOUBLE_LF")))?_(this.$text().$split(u(S,"BlankLineRx")),"map",[],((t=function(e){var r,i=t.$$s||this;return null==e&&(e=$),p(p(r=n)?n["$!="]("header"):r)?u(S,"Inline").$new(i.$parent(),"quoted",e,f(["type"],{type:n})).$convert():e}).$$s=this,t.$$arity=1,t)):p((r=this.$text())["$empty?"]())?[]:p(p(e=n)?n["$!="]("header"):e)?[u(S,"Inline").$new(this.$parent(),"quoted",r,f(["type"],{type:n})).$convert()]:[r]},b.$$arity=0),t.def(O,"$lines",x=function(){return this.text.$split(u(S,"LF"))},x.$$arity=0),t.def(O,"$source",w=function(){return this.text},w.$$arity=0),t.def(O,"$file",k=function(){var t;return p(t=this.source_location)?this.source_location.$file():t},k.$$arity=0),t.def(O,"$lineno",A=function(){var t;return p(t=this.source_location)?this.source_location.$lineno():t},A.$$arity=0),t.def(O,"$to_s",E=function(){var e,n=E.$$p,r=this,i=$,a=$,s=$;for(n&&(E.$$p=null),a=0,s=arguments.length,i=new Array(s);a<s;a++)i[a]=arguments[a];return _(r,t.find_super_dispatcher(r,"to_s",E,!1),i,n).$to_s()+" - [text: "+r.text+", colspan: "+(p(e=r.colspan)?e:1)+", rowspan: "+(p(e=r.rowspan)?e:1)+", attributes: "+r.attributes+"]"},E.$$arity=0)}(u(m,"Table"),u(m,"AbstractBlock"),m),function(n,i,a){var o,c,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L=d(n,null,"ParserContext"),M=[L].concat(a);L.$$prototype.delimiter=L.$$prototype.delimiter_rx=L.$$prototype.buffer=L.$$prototype.cellspecs=L.$$prototype.cell_open=L.$$prototype.format=L.$$prototype.start_cursor_data=L.$$prototype.reader=L.$$prototype.table=L.$$prototype.current_row=L.$$prototype.colcount=L.$$prototype.column_visits=L.$$prototype.active_rowspans=L.$$prototype.linenum=$,L.$include(u(M,"Logging")),t.const_set(M[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(M[0],"DELIMITERS",f(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),L.$attr_accessor("table"),L.$attr_accessor("format"),L.$attr_reader("colcount"),L.$attr_accessor("buffer"),L.$attr_reader("delimiter"),L.$attr_reader("delimiter_re"),t.def(L,"$initialize",o=function(e,n,r){var i,a,s=$,o=$;return null==r&&(r=f([],{})),this.start_cursor_data=(this.reader=e).$mark(),this.table=n,p(r["$key?"]("format"))?p(u(M,"FORMATS")["$include?"](s=r["$[]"]("format")))?s["$=="]("tsv")?this.format="csv":p((i=(this.format=s)["$=="]("psv"))?n.$document()["$nested?"]():(this.format=s)["$=="]("psv"))&&(s="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+s,f(["source_location"],{source_location:e.$cursor_at_prev_line()}))),i=["psv",p(n.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],s=i[1]):(i=["psv",p(n.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],s=i[1]),p(r["$key?"]("separator"))?p((o=r["$[]"]("separator"))["$nil_or_empty?"]())?(a=u(M,"DELIMITERS")["$[]"](s),i=t.to_ary(a),this.delimiter=null==i[0]?$:i[0],this.delimiter_rx=null==i[1]?$:i[1]):o["$=="]("\\t")?(a=u(M,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary(a),this.delimiter=null==i[0]?$:i[0],this.delimiter_rx=null==i[1]?$:i[1]):(i=[o,new RegExp(l("::","Regexp").$escape(o))],this.delimiter=i[0],this.delimiter_rx=i[1]):(a=u(M,"DELIMITERS")["$[]"](s),i=t.to_ary(a),this.delimiter=null==i[0]?$:i[0],this.delimiter_rx=null==i[1]?$:i[1]),this.colcount=p(n.$columns()["$empty?"]())?-1:n.$columns().$size(),this.buffer="",this.cellspecs=[],this.cell_open=!1,this.active_rowspans=[0],this.column_visits=0,this.current_row=[],this.linenum=-1},o.$$arity=-3),t.def(L,"$starts_with_delimiter?",c=function(t){return t["$start_with?"](this.delimiter)},c.$$arity=1),t.def(L,"$match_delimiter",h=function(t){return this.delimiter_rx.$match(t)},h.$$arity=1),t.def(L,"$skip_past_delimiter",y=function(t){return this.buffer=""+this.buffer+t+this.delimiter,$},y.$$arity=1),t.def(L,"$skip_past_escaped_delimiter",m=function(t){return this.buffer=""+this.buffer+t.$chop()+this.delimiter,$},m.$$arity=1),t.def(L,"$buffer_has_unclosed_quotes?",g=function(t){var e,n,r=this,i=$,a=$;return null==t&&(t=$),!!(i=p(t)?s(r.buffer,t).$strip():r.buffer.$strip())["$=="]('"')||!!p(i["$start_with?"]('"'))&&(p(p(e=p(n=a=i["$end_with?"]('"'))?i["$end_with?"]('""'):n)?e:i["$start_with?"]('""'))?p(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:a["$!"]())},g.$$arity=-1),t.def(L,"$take_cellspec",v=function(){return this.cellspecs.$shift()},v.$$arity=0),t.def(L,"$push_cellspec",b=function(t){var e;return null==t&&(t=f([],{})),this.cellspecs["$<<"](p(e=t)?e:f([],{})),$},b.$$arity=-1),t.def(L,"$keep_cell_open",x=function(){return this.cell_open=!0,$},x.$$arity=0),t.def(L,"$mark_cell_closed",w=function(){return this.cell_open=!1,$},w.$$arity=0),t.def(L,"$cell_open?",k=function(){return this.cell_open},k.$$arity=0),t.def(L,"$cell_closed?",A=function(){return this.cell_open["$!"]()},A.$$arity=0),t.def(L,"$close_open_cell",E=function(t){return null==t&&(t=f([],{})),this.$push_cellspec(t),p(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),$},E.$$arity=-1),t.def(L,"$close_cell",O=function(n){try{var i,a,o=$,c=$,d=$;return null==n&&(n=!1),this.format["$=="]("psv")?(o=this.buffer,this.buffer="",p(c=this.$take_cellspec())?d=p(i=c.$delete("repeatcol"))?i:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",f(["source_location"],{source_location:_(l(u(M,"Reader"),"Cursor"),"new",t.to_a(this.start_cursor_data))}))),c=f([],{}),d=1)):(o=this.buffer.$strip(),this.buffer="",c=$,d=1,p(p(i=this.format["$=="]("csv")?o["$empty?"]()["$!"]():this.format["$=="]("csv"))?o["$include?"]('"'):i)&&(p(p(i=o["$start_with?"]('"'))?o["$end_with?"]('"'):i)?p(o=o.$slice(1,r(o.$length(),2)))?o=o.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",f(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),o=""):o=o.$squeeze('"'))),_(1,"upto",[d],((a=function(i){var h,y,m,g,v=a.$$s||this,b=$,x=$,w=$,k=$;return null==v.colcount&&(v.colcount=$),null==v.table&&(v.table=$),null==v.current_row&&(v.current_row=$),null==v.reader&&(v.reader=$),null==v.column_visits&&(v.column_visits=$),null==v.linenum&&(v.linenum=$),null==i&&(i=$),v.colcount["$=="](-1)?(v.table.$columns()["$<<"](b=l(u(M,"Table"),"Column").$new(v.table,r(s(v.table.$columns().$size(),i),1))),p(p(h=p(y=c)?c["$key?"]("colspan"):y)?e(x=r(c["$[]"]("colspan").$to_i(),1),0):h)&&(w=v.table.$columns().$size(),_(x,"times",[],((m=function(t){var e=m.$$s||this;return null==e.table&&(e.table=$),null==t&&(t=$),e.table.$columns()["$<<"](l(u(M,"Table"),"Column").$new(e.table,s(w,t)))}).$$s=v,m.$$arity=1,m)))):p(b=v.table.$columns()["$[]"](v.current_row.$size()))||(v.$logger().$error(v.$message_with_context("dropping cell because it exceeds specified number of columns",f(["source_location"],{source_location:v.reader.$cursor_before_mark()}))),t.ret($)),k=l(u(M,"Table"),"Cell").$new(b,o,c,f(["cursor"],{cursor:v.reader.$cursor_before_mark()})),v.reader.$mark(),p(p(h=k.$rowspan()["$!"]())?h:k.$rowspan()["$=="](1))||v.$activate_rowspan(k.$rowspan(),p(h=k.$colspan())?h:1),v.column_visits=s(v.column_visits,p(h=k.$colspan())?h:1),v.current_row["$<<"](k),p(p(h=v["$end_of_row?"]())?p(y=p(g=v.colcount["$!="](-1))?g:e(v.linenum,0))?y:p(g=n)?i["$=="](d):g:h)?v.$close_row():$}).$$s=this,a.$$arity=1,a)),this.cell_open=!1,$}catch(e){if(e===t.returner)return e.$v;throw e}},O.$$arity=-1),L.$private(),t.def(L,"$close_row",S=function(){var e=$;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),p(this.active_rowspans["$[]"](0))||(e=[0,0],_(this.active_rowspans,"[]=",t.to_a(e)),e[r(e.length,1)]),$},S.$$arity=0),t.def(L,"$activate_rowspan",R=function(e,n){var i;return _(1,"upto",[r(e,1)],((i=function(e){var a,o,l=i.$$s||this;return null==l.active_rowspans&&(l.active_rowspans=$),null==e&&(e=$),o=[e,s(p(a=l.active_rowspans["$[]"](e))?a:0,n)],_(l.active_rowspans,"[]=",t.to_a(o)),o[r(o.length,1)]}).$$s=this,i.$$arity=1,i)),$},R.$$arity=2),t.def(L,"$end_of_row?",C=function(){var t;return p(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},C.$$arity=0),t.def(L,"$effective_column_visits",I=function(){return s(this.column_visits,this.active_rowspans["$[]"](0))},I.$$arity=0),t.def(L,"$advance",T=function(){return this.linenum=s(this.linenum,1)},T.$$arity=0)}(u(m,"Table"),0,m)}(o[0],o)},Opal.modules["asciidoctor/writer"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.truthy,o=t.hash2;return t.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]),function(e,$){var l=[a(e,"Asciidoctor")].concat($);!function(e,$){var l,u=a(e,"Writer"),c=[u].concat($);t.def(u,"$write",l=function(t,e){var a,$;return s(e["$respond_to?"]("write"))?e.$write((a=t.$chomp(),$=i(c,"LF"),"number"==typeof a&&"number"==typeof $?a+$:a["$+"]($))):r("::","File").$write(e,t,o(["mode"],{mode:i(c,"FILE_WRITE_MODE")})),n},l.$$arity=2)}(l[0],l),function(e,r){var s,o=a(e,"VoidWriter"),$=[o].concat(r);o.$include(i($,"Writer")),t.def(o,"$write",s=function(t,e){return n},s.$$arity=2)}(l[0],l)}(e[0],e)},Opal.modules["asciidoctor/load"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.hash2,$=t.truthy,l=t.send;return t.add_stubs(["$merge","$[]","$start","$!=","$logger","$logger=","$-","$!","$===","$dup","$tap","$each","$partition","$[]=","$split","$gsub","$+","$respond_to?","$keys","$raise","$join","$ancestors","$class","$mtime","$absolute_path","$path","$dirname","$basename","$extname","$read","$rewind","$drop","$record","$==","$new","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load"]),function(n,u){var c=s(n,"Asciidoctor"),d=[c].concat(u);!function(n,s){var u,c,d=[n].concat(s);t.def(n,"$load",u=function(n,s){var u,c,f,_,p,h,y=r,m=r,g=r,v=r,b=r,x=r,w=r,k=r,A=r,E=r;null==s&&(s=o([],{}));try{if(s=s.$merge(),$(y=s["$[]"]("timings"))&&y.$start("read"),$($(u=m=s["$[]"]("logger"))?m["$!="](a(d,"LoggerManager").$logger()):u)&&(g=[m],l(a(d,"LoggerManager"),"logger=",t.to_a(g)),g[e(g.length,1)]),$((v=s["$[]"]("attributes"))["$!"]())?v=o([],{}):$(i("::","Hash")["$==="](v))?v=v.$merge():$($(u=(f=i("::","Java","skip_raise"))&&(c=i(f,"JavaUtil","skip_raise"))&&i(c,"Map","skip_raise")?"constant":r)?i(i(i("::","Java"),"JavaUtil"),"Map")["$==="](v):u)?v=v.$dup():$(i("::","Array")["$==="](v))?v=l(o([],{}),"tap",[],((_=function(n){var i,a=_.$$s||this;return null==n&&(n=r),l(v,"each",[],((i=function(a){var s,o,$,u;return i.$$s,null==a&&(a=r),o=a.$partition("="),$=null==(s=t.to_ary(o))[0]?r:s[0],null==s[1]||s[1],u=null==s[2]?r:s[2],g=[$,u],l(n,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=a,i.$$arity=1,i))}).$$s=this,_.$$arity=1,_)):$(i("::","String")["$==="](v))?v=l(o([],{}),"tap",[],((p=function(n){var i,s,o,$=p.$$s||this;return null==n&&(n=r),l(v.$gsub(a(d,"SpaceDelimiterRx"),(s="\\1",o=a(d,"NULL"),"number"==typeof s&&"number"==typeof o?s+o:s["$+"](o))).$gsub(a(d,"EscapedSpaceRx"),"\\1").$split(a(d,"NULL")),"each",[],((i=function(a){var s,o,$,u;return i.$$s,null==a&&(a=r),o=a.$partition("="),$=null==(s=t.to_ary(o))[0]?r:s[0],null==s[1]||s[1],u=null==s[2]?r:s[2],g=[$,u],l(n,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=$,i.$$arity=1,i))}).$$s=this,p.$$arity=1,p)):$($(u=v["$respond_to?"]("keys"))?v["$respond_to?"]("[]"):u)?v=l(o([],{}),"tap",[],((h=function(n){var i,a=h.$$s||this;return null==n&&(n=r),l(v.$keys(),"each",[],((i=function(a){return i.$$s,null==a&&(a=r),g=[a,v["$[]"](a)],l(n,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=a,i.$$arity=1,i))}).$$s=this,h.$$arity=1,h)):this.$raise(i("::","ArgumentError"),"illegal type for attributes option: "+v.$class().$ancestors().$join(" < ")),$(i("::","File")["$==="](n)))g=["input_mtime",n.$mtime()],l(s,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docfile",b=i("::","File").$absolute_path(n.$path())],l(v,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docdir",i("::","File").$dirname(b)],l(v,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docname",a(d,"Helpers").$basename(b,(g=["docfilesuffix",a(d,"Helpers").$extname(b)],l(v,"[]=",t.to_a(g)),g[e(g.length,1)]))],l(v,"[]=",t.to_a(g)),g[e(g.length,1)],x=n.$read();else if($(n["$respond_to?"]("read"))){try{n.$rewind()}catch(e){if(!t.rescue(e,[a(d,"StandardError")]))throw e;t.pop_exception()}x=n.$read()}else $(i("::","String")["$==="](n))?x=n:$(i("::","Array")["$==="](n))?x=n.$drop(0):$(n)&&this.$raise(i("::","ArgumentError"),"unsupported input type: "+n.$class());return $(y)&&(y.$record("read"),y.$start("parse")),g=["attributes",v],l(s,"[]=",t.to_a(g)),g[e(g.length,1)],w=s["$[]"]("parse")["$=="](!1)?a(d,"Document").$new(x,s):a(d,"Document").$new(x,s).$parse(),$(y)&&y.$record("parse"),w}catch(n){if(!t.rescue(n,[a(d,"StandardError")]))throw n;k=n;try{try{A="asciidoctor: FAILED: "+($(u=v["$[]"]("docfile"))?u:"<stdin>")+": Failed to load AsciiDoc document",$(k["$respond_to?"]("exception"))?((E=k.$exception(A+" - "+k.$message())).$set_backtrace(k.$backtrace()),E.stack=k.stack):(E=k.$class().$new(A,k),g=[k.$stack_trace()],l(E,"stack_trace=",t.to_a(g)),g[e(g.length,1)])}catch(e){if(!t.rescue(e,[a(d,"StandardError")]))throw e;try{E=k}finally{t.pop_exception()}}return this.$raise(E)}finally{t.pop_exception()}}},u.$$arity=-2),t.def(n,"$load_file",c=function(t,e){var n;return null==e&&(e=o([],{})),l(i("::","File"),"open",[t,a(d,"FILE_READ_MODE")],((n=function(t){var i=n.$$s||this;return null==t&&(t=r),i.$load(t,e)}).$$s=this,n.$$arity=1,n))},c.$$arity=-2)}(t.get_singleton_class(c),d)}(n[0],n)},Opal.modules["asciidoctor/convert"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.hash2,l=t.truthy,u=t.send;return t.add_stubs(["$delete","$merge","$===","$absolute_path","$path","$load","$respond_to?","$[]=","$-","$key?","$fetch","$[]","$dirname","$expand_path","$join","$attributes","$outfilesuffix","$==","$raise","$pwd","$>=","$safe","$normalize_system_path","$mkdir_p","$directory?","$!","$convert","$write","$<","$attr?","$basebackend?","$attr","$uriish?","$include?","$syntax_highlighter","$write_stylesheet?","$write_primary_stylesheet","$instance","$to_s","$!=","$read_asset","$file?","$write_stylesheet","$open"]),function(r,c){var d=o(r,"Asciidoctor"),f=[d].concat(c);!function(r,o){var c,d,f=[r].concat(o);t.def(r,"$convert",c=function(r,o){var c,d,_,p,h,y,m,g,v,b,x=i,w=i,k=i,A=i,E=i,O=i,S=i,R=i,C=i,I=i,T=i,L=i,M=i,P=i,N=i,B=i,D=i,z=i,F=i,j=i,q=i,U=i;if(null==o&&(o=$([],{})),(o=o.$merge()).$delete("parse"),y=o.$delete("to_dir"),m=o.$delete("mkdirs"),g=x=o.$delete("to_file"),(!0)["$==="](g)||i["$==="](g))l(w=y)||l(a("::","File")["$==="](r))&&(k=a("::","File").$absolute_path(r.$path())),x=i;else if((!1)["$==="](g))x=i;else{if("/dev/null"["$==="](g))return this.$load(r,o);l(A=x["$respond_to?"]("write"))||(E=["to_file",w=x],u(o,"[]=",t.to_a(E)),E[e(E.length,1)])}return l(o["$key?"]("standalone"))||(l(l(c=k)?c:w)?(E=["standalone",o.$fetch("header_footer",!0)],u(o,"[]=",t.to_a(E)),E[e(E.length,1)]):l(o["$key?"]("header_footer"))&&(E=["standalone",o["$[]"]("header_footer")],u(o,"[]=",t.to_a(E)),E[e(E.length,1)])),l(k)?(E=["to_dir",O=a("::","File").$dirname(k)],u(o,"[]=",t.to_a(E)),E[e(E.length,1)]):l(w)&&(l(y)?l(x)?(E=["to_dir",a("::","File").$dirname(a("::","File").$expand_path(x,y))],u(o,"[]=",t.to_a(E)),E[e(E.length,1)]):(E=["to_dir",a("::","File").$expand_path(y)],u(o,"[]=",t.to_a(E)),E[e(E.length,1)]):l(x)&&(E=["to_dir",a("::","File").$dirname(a("::","File").$expand_path(x))],u(o,"[]=",t.to_a(E)),E[e(E.length,1)])),S=this.$load(r,o),l(k)?(R=a("::","File").$join(O,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix()))["$=="](k)&&this.$raise(a("::","IOError"),"input file and output file cannot be the same: "+R):l(w)?(C=l(o["$key?"]("base_dir"))?a("::","File").$expand_path(o["$[]"]("base_dir")):a("::","Dir").$pwd(),I=l(n(S.$safe(),a(s(f,"SafeMode"),"SAFE")))?C:i,l(y)?(O=S.$normalize_system_path(y,C,I,$(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(x)?(R=S.$normalize_system_path(x,O,i,$(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a("::","File").$dirname(R)):R=a("::","File").$join(O,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix())):l(x)&&(R=S.$normalize_system_path(x,C,I,$(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a("::","File").$dirname(R)),l(l(c=a("::","File")["$==="](r))?R["$=="](a("::","File").$absolute_path(r.$path())):c)&&this.$raise(a("::","IOError"),"input file and output file cannot be the same: "+R),l(m)?s(f,"Helpers").$mkdir_p(O):l(a("::","File")["$directory?"](O))||this.$raise(a("::","IOError"),"target directory does not exist: "+y+" (hint: set :mkdirs option)")):(R=x,O=i),T=l(l(c=R)?A["$!"]():c)?S.$convert($(["outfile","outdir"],{outfile:R,outdir:O})):S.$convert(),l(R)?(S.$write(T,R),l(l(c=l(d=l(_=l(p=l(h=A["$!"]())?(v=S.$safe(),b=a(s(f,"SafeMode"),"SECURE"),"number"==typeof v&&"number"==typeof b?v<b:v["$<"](b)):h)?S["$attr?"]("linkcss"):p)?S["$attr?"]("copycss"):_)?S["$basebackend?"]("html"):d)?(l(d=L=S.$attr("stylesdir"))?s(f,"Helpers")["$uriish?"](L):d)["$!"]():c)&&(l(M=S.$attr("stylesheet"))&&(l(s(f,"DEFAULT_STYLESHEET_KEYS")["$include?"](M))?P=!0:l(s(f,"Helpers")["$uriish?"](M)["$!"]())&&(N=!0)),B=l(c=D=S.$syntax_highlighter())?D["$write_stylesheet?"](S):c,l(l(c=l(d=P)?d:N)?c:B)&&(z=S.$normalize_system_path(L,O,l(n(S.$safe(),a(s(f,"SafeMode"),"SAFE")))?O:i),l(m)?s(f,"Helpers").$mkdir_p(z):l(a("::","File")["$directory?"](z))||this.$raise(a("::","IOError"),"target stylesheet directory does not exist: "+z+" (hint: set :mkdirs option)"),l(P)?s(f,"Stylesheets").$instance().$write_primary_stylesheet(z):l(N)&&(F=l(l(c=(F=S.$attr("copycss"))["$=="](""))?c:F["$=="](!0))?S.$normalize_system_path(M):S.$normalize_system_path(F.$to_s()),j=S.$normalize_system_path(M,z,l(n(S.$safe(),a(s(f,"SafeMode"),"SAFE")))?O:i),l(l(c=F["$!="](j))?q=S.$read_asset(F,$(["warn_on_failure","label"],{warn_on_failure:a("::","File")["$file?"](j)["$!"](),label:"stylesheet"})):c)&&(l(l(c=(U=a("::","File").$dirname(j))["$!="](z))?a("::","File")["$directory?"](U)["$!"]():c)&&(l(m)?s(f,"Helpers").$mkdir_p(U):this.$raise(a("::","IOError"),"target stylesheet directory does not exist: "+U+" (hint: set :mkdirs option)")),a("::","File").$write(j,q,$(["mode"],{mode:s(f,"FILE_WRITE_MODE")})))),l(B)&&D.$write_stylesheet(S,z))),S):T},c.$$arity=-2),t.def(r,"$convert_file",d=function(t,e){var n;return null==e&&(e=$([],{})),u(a("::","File"),"open",[t,s(f,"FILE_READ_MODE")],((n=function(t){var r=n.$$s||this;return null==t&&(t=i),r.$convert(t,e)}).$$s=this,n.$$arity=1,n))},d.$$arity=-2),t.alias(r,"render","convert"),t.alias(r,"render_file","convert_file")}(t.get_singleton_class(d),f)}(r[0],r)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.module),s=t.klass,o=t.send,$=t.hash2,l=t.truthy;return t.add_stubs(["$register_for","$merge","$proc","$[]=","$-","$attr","$[]","$==","$attr?","$join","$map","$split","$lstrip"]),function(e,u){var c=[a(e,"Asciidoctor")].concat(u);!function(e,r,a){var u,c,d,f,_=s(e,r,"HighlightJsAdapter"),p=[_].concat(a);_.$register_for("highlightjs","highlight.js"),t.def(_,"$initialize",u=function(e){var r=u.$$p,i=this,a=n,s=n,$=n;for(r&&(u.$$p=null),s=0,$=arguments.length,a=new Array($);s<$;s++)a[s]=arguments[s];return t.slice.call(arguments,0,arguments.length),o(i,t.find_super_dispatcher(i,"initialize",u,!1),a,r),i.name=i.pre_class="highlightjs"},u.$$arity=-1),t.def(_,"$format",c=function(e,r,i){var a,s=c.$$p;return s&&(c.$$p=null),o(this,t.find_super_dispatcher(this,"format",c,!1),[e,r,i.$merge($(["transform"],{transform:o(this,"proc",[],(a=function(e,i){var s,$,u,c;return a.$$s,null==e&&(e=n),null==i&&(i=n),$=["class","language-"+(l(s=r)?s:"none")+" hljs"],o(i,"[]=",t.to_a($)),$[(u=$.length,c=1,"number"==typeof u&&"number"==typeof c?u-c:u["$-"](c))]},a.$$s=this,a.$$arity=2,a))}))],null)},c.$$arity=3),t.def(_,"$docinfo?",d=function(t){return!0},d.$$arity=1),t.def(_,"$docinfo",f=function(t,e,r){var a,s,$=this;return s=e.$attr("highlightjsdir",r["$[]"]("cdn_base_url")+"/highlight.js/"+i(p,"HIGHLIGHT_JS_VERSION")),t["$=="]("head")?'<link rel="stylesheet" href="'+s+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+r["$[]"]("self_closing_tag_slash")+">":'<script src="'+s+'/highlight.min.js"><\/script>\n'+(l(e["$attr?"]("highlightjs-languages"))?o(e.$attr("highlightjs-languages").$split(","),"map",[],(a=function(t){return a.$$s,null==t&&(t=n),'<script src="'+s+"/languages/"+t.$lstrip()+'.min.js"><\/script>\n'},a.$$s=$,a.$$arity=1,a)).$join():"")+"<script>\nif (!hljs.initHighlighting.called) {\n  hljs.initHighlighting.called = true\n  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })\n}\n<\/script>"},f.$$arity=3)}(i(c,"SyntaxHighlighter"),r(i(c,"SyntaxHighlighter"),"Base"),c)}(e[0],e)},Opal.modules["asciidoctor/syntax_highlighter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.hash2,l=t.truthy,u=t.send,c=t.klass;return t.add_stubs(["$attr_reader","$raise","$class","$private_class_method","$extend","$register","$map","$to_s","$each","$[]=","$registry","$-","$[]","$for","$===","$new","$name","$private","$include","$==","$delete","$join","$content"]),function(n,r){var d=[o(n,"Asciidoctor")].concat(r);!function(n,r){var d,f,_,p,h,y,m,g,v,b,x=o(n,"SyntaxHighlighter"),w=[x].concat(r);x.$attr_reader("name"),t.def(x,"$initialize",d=function(t,e,n){return null==e&&(e="html5"),null==n&&(n=$([],{})),this.name=this.pre_class=t},d.$$arity=-2),t.def(x,"$docinfo?",f=function(t){return i},f.$$arity=1),t.def(x,"$docinfo",_=function(t,e,n){return this.$raise(a("::","NotImplementedError"),s(w,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},_.$$arity=3),t.def(x,"$highlight?",p=function(){return i},p.$$arity=0),t.def(x,"$highlight",h=function(t,e,n,r){return this.$raise(a("::","NotImplementedError"),s(w,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},h.$$arity=4),t.def(x,"$format",y=function(t,e,n){return this.$raise(a("::","NotImplementedError"),s(w,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},y.$$arity=3),t.def(x,"$write_stylesheet?",m=function(t){return i},m.$$arity=1),t.def(x,"$write_stylesheet",g=function(t,e){return this.$raise(a("::","NotImplementedError"),s(w,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},g.$$arity=2),x.$private_class_method(l((t.defs(x,"$included",b=function(t){return t.$extend(s(w,"Config"))},b.$$arity=1),v=i&&"included"))?v:"included"),function(e,n){var r,a=o(e,"Config"),$=[a].concat(n);t.def(a,"$register_for",r=function(e){var n,r,a=this;return n=t.slice.call(arguments,0,arguments.length),u(s($,"SyntaxHighlighter"),"register",[a].concat(t.to_a(u(n,"map",[],((r=function(t){return r.$$s,null==t&&(t=i),t.$to_s()}).$$s=a,r.$$arity=1,r)))))},r.$$arity=-1)}(w[0],w),function(n,r){var c,d,f,_,p=o(n,"Factory"),h=[p].concat(r);t.def(p,"$register",c=function(n,r){var a,s,o=this;return a=t.slice.call(arguments,1,arguments.length),u(a,"each",[],((s=function(r){var a,o=s.$$s||this;return null==r&&(r=i),a=[r,n],u(o.$registry(),"[]=",t.to_a(a)),a[e(a.length,1)]}).$$s=o,s.$$arity=1,s))},c.$$arity=-2),t.def(p,"$for",d=function(t){return this.$registry()["$[]"](t)},d.$$arity=1),t.def(p,"$create",f=function(t,e,n){var r=i;return null==e&&(e="html5"),null==n&&(n=$([],{})),l(r=this.$for(t))?(l(a("::","Class")["$==="](r))&&(r=r.$new(t,e,n)),l(r.$name())||this.$raise(a("::","NameError"),r.$class()+" must specify a value for `name'"),r):i},f.$$arity=-2),p.$private(),t.def(p,"$registry",_=function(){return this.$raise(a("::","NotImplementedError"),s(h,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},_.$$arity=0)}(w[0],w),function(e,n,r){var a,o,u=c(e,null,"CustomFactory"),d=[u].concat(r);u.$$prototype.registry=i,u.$include(s(d,"Factory")),t.def(u,"$initialize",a=function(t){var e;return null==t&&(t=i),this.registry=l(e=t)?e:$([],{})},a.$$arity=-1),u.$private(),t.def(u,"$registry",o=function(){return this.registry},o.$$arity=0)}(w[0],0,w),function(e,n){var r,a=o(e,"DefaultFactory"),l=[a].concat(n);a.$include(s(l,"Factory")),a.$private(),t.class_variable_set(l[0],"@@registry",$([],{})),t.def(a,"$registry",r=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?i:t},r.$$arity=0),s(l,"RUBY_ENGINE")["$=="]("opal")}(w[0],w),function(t,e,n){var r=c(t,e,"DefaultFactoryProxy"),i=[r].concat(n);r.$include(s(i,"DefaultFactory")),s(i,"RUBY_ENGINE")["$=="]("opal")}(w[0],s(w,"CustomFactory"),w),function(n,r,a){var o,d=c(n,null,"Base"),f=[d].concat(a);d.$$prototype.pre_class=i,d.$include(s(f,"SyntaxHighlighter")),t.def(d,"$format",o=function(n,r,a){var s,o,c,d=this,f=i,_=i,p=i,h=i;return c=l(a["$[]"]("nowrap"))?d.pre_class+" highlight nowrap":d.pre_class+" highlight",l(f=a["$[]"]("transform"))?(f["$[]"](_=$(["class"],{class:c}),p=l(r)?$(["data-lang"],{"data-lang":r}):$([],{})),l(r=p.$delete("data-lang"))&&(h=["data-lang",r],u(p,"[]=",t.to_a(h)),h[e(h.length,1)]),"<pre"+u(_,"map",[],(s=function(t,e){return s.$$s,null==t&&(t=i),null==e&&(e=i)," "+t+'="'+e+'"'},s.$$s=d,s.$$arity=2,s)).$join()+"><code"+u(p,"map",[],(o=function(t,e){return o.$$s,null==t&&(t=i),null==e&&(e=i)," "+t+'="'+e+'"'},o.$$s=d,o.$$arity=2,o)).$join()+">"+n.$content()+"</code></pre>"):'<pre class="'+c+'"><code'+(l(r)?' data-lang="'+r+'"':"")+">"+n.$content()+"</code></pre>"},o.$$arity=3)}(w[0],0,w),x.$extend(s(w,"DefaultFactory"))}(d[0],d)}(r[0],r),n.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),s(r,"RUBY_ENGINE")["$=="]("opal"),i},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var i=[],a=t.nil,s=t.const_get_qualified,o=t.const_get_relative,$=(t.breaker,t.slice,t.module),l=t.klass,u=t.hash2,c=t.send,d=t.truthy,f=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert","$private","$const_defined?","$==","$clock_gettime"]),function(i,_){var p=[$(i,"Asciidoctor")].concat(_);!function(i,$,_){var p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M=l(i,null,"Timings"),P=[M].concat(_);M.$$prototype.timers=M.$$prototype.log=a,t.def(M,"$initialize",p=function(){return this.log=u([],{}),this.timers=u([],{})},p.$$arity=0),t.def(M,"$start",h=function(n){var r;return r=[n,this.$now()],c(this.timers,"[]=",t.to_a(r)),r[e(r.length,1)]},h.$$arity=1),t.def(M,"$record",y=function(n){var r;return r=[n,e(this.$now(),this.timers.$delete(n))],c(this.log,"[]=",t.to_a(r)),r[e(r.length,1)]},y.$$arity=1),t.def(M,"$time",m=function(e){var i,s,o=this,$=a;return i=t.slice.call(arguments,0,arguments.length),$=c(i,"reduce",[0],((s=function(t,e){var r,i=s.$$s||this;return null==i.log&&(i.log=a),null==t&&(t=a),null==e&&(e=a),n(t,d(r=i.log["$[]"](e))?r:0)}).$$s=o,s.$$arity=2,s)),d(r($,0))?$:a},m.$$arity=-1),t.def(M,"$read",g=function(){return this.$time("read")},g.$$arity=0),t.def(M,"$parse",v=function(){return this.$time("parse")},v.$$arity=0),t.def(M,"$read_parse",b=function(){return this.$time("read","parse")},b.$$arity=0),t.def(M,"$convert",x=function(){return this.$time("convert")},x.$$arity=0),t.def(M,"$read_parse_convert",w=function(){return this.$time("read","parse","convert")},w.$$arity=0),t.def(M,"$write",k=function(){return this.$time("write")},k.$$arity=0),t.def(M,"$total",A=function(){return this.$time("read","parse","convert","write")},A.$$arity=0),t.def(M,"$print_report",E=function(t,e){return null==f.stdout&&(f.stdout=a),null==t&&(t=f.stdout),null==e&&(e=a),d(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},E.$$arity=-1),M.$private(),d(d(O=s("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((S=s("::","Process","skip_raise"))&&(R=S,R)&&(C=R)&&((I=C.$clock_gettime)&&!I.$$stub||C["$respond_to_missing?"]("clock_gettime"))?"method":a)["$=="]("method"):O)?(t.const_set(P[0],"CLOCK_ID",s(s("::","Process"),"CLOCK_MONOTONIC")),t.def(M,"$now",T=function(){return s("::","Process").$clock_gettime(o(P,"CLOCK_ID"))},T.$$arity=0)):t.def(M,"$now",L=function(){return s("::","Time").$now()},L.$$arity=0)}(p[0],0,p)}(i[0],i)},Opal.modules["asciidoctor/converter/composite"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],r=t.nil,i=t.const_get_qualified,a=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.klass,$=t.hash2,l=t.send,u=t.truthy;return t.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$init_backend_traits","$backend_traits","$new","$find_converter","$[]=","$-","$convert","$converter_for","$node_name","$[]","$handles?","$raise"]),function(n,c){var d=[s(n,"Asciidoctor")].concat(c);!function(n,a,s){var c,d,f,_,p=o(n,a,"CompositeConverter");[p].concat(s),p.$$prototype.converter_cache=p.$$prototype.converters=r,p.$attr_reader("converters"),t.def(p,"$initialize",c=function(n,a,s){var o,c,d,f,_,p,h=this;if(o=t.slice.call(arguments,1,arguments.length),null==(c=t.extract_kwargs(o)))c=$([],{});else if(!c.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return d=o,null==(f=c.$$smap.backend_traits_source)&&(f=r),h.backend=n,l(h.converters=d,"each",[],((_=function(t){var e=_.$$s||this;return null==t&&(t=r),u(t["$respond_to?"]("composed"))?t.$composed(e):r}).$$s=h,_.$$arity=1,_)),u(f)&&h.$init_backend_traits(f.$backend_traits()),h.converter_cache=l(i("::","Hash"),"new",[],((p=function(n,i){var a,s=p.$$s||this;return null==n&&(n=r),null==i&&(i=r),a=[i,s.$find_converter(i)],l(n,"[]=",t.to_a(a)),a[e(a.length,1)]}).$$s=h,p.$$arity=2,p))},c.$$arity=-2),t.def(p,"$convert",d=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=r),this.$converter_for(e=u(i=e)?i:t.$node_name()).$convert(t,e,n)},d.$$arity=-2),t.def(p,"$converter_for",f=function(t){return this.converter_cache["$[]"](t)},f.$$arity=1),t.def(p,"$find_converter",_=function(e){try{var n;return l(this.converters,"each",[],((n=function(i){if(n.$$s,null==i&&(i=r),!u(i["$handles?"](e)))return r;t.ret(i)}).$$s=this,n.$$arity=1,n)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},_.$$arity=1)}(a(d,"Converter"),i(a(d,"Converter"),"Base"),d)}(n[0],n)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],o=t.nil,$=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,d=t.send,f=t.hash2,_=t.truthy,p=t.gvars;return t.add_stubs(["$register_for","$default=","$-","$==","$[]","$init_backend_traits","$node_name","$convert_inline_quoted","$convert_paragraph","$convert_inline_anchor","$convert_section","$convert_listing","$convert_literal","$convert_ulist","$convert_olist","$convert_dlist","$convert_admonition","$convert_colist","$convert_embedded","$convert_example","$convert_floating_title","$convert_image","$convert_inline_break","$convert_inline_button","$convert_inline_callout","$convert_inline_footnote","$convert_inline_image","$convert_inline_indexterm","$convert_inline_kbd","$convert_inline_menu","$convert_open","$convert_page_break","$convert_preamble","$convert_quote","$convert_sidebar","$convert_stem","$convert_table","$convert_thematic_break","$convert_verse","$convert_video","$convert_document","$convert_toc","$convert_pass","$convert_audio","$empty?","$attr","$attr?","$<<","$include?","$sub_replacements","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$primary_stylesheet_data","$instance","$read_contents","$syntax_highlighter","$size","$docinfo","$id","$sections?","$doctype","$role?","$role","$join","$noheader","$convert","$converter","$generate_manname_section","$header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$docinfo?","$[]=","$delete_at","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$convert_outline","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$===","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_attribute_value","$append_link_constraint_attrs","$highlight?","$to_sym","$format","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$columns","$to_h","$rows","$colspan","$rowspan","$unshift","$shift","$pop","$split","$nil_or_empty?","$type","$catalog","$xreftext","$target","$reftext","$map","$chop","$sub","$match","$private","$upcase","$to_s","$handles?","$send"]),function(s,h){var y=[u(s,"Asciidoctor")].concat(h);!function(s,u,h){var y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K,J,Z,Q,tt,et,nt,rt,it,at,st,ot,$t,lt=c(s,u,"Html5Converter"),ut=[lt].concat(h);lt.$$prototype.void_element_slash=lt.$$prototype.xml_mode=lt.$$prototype.refs=lt.$$prototype.resolving_xref=o,lt.$register_for("html5"),$t=[["",""]],d(t.const_set(ut[0],"QUOTE_TAGS",f(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",t.to_a($t)),e($t.length,1),t.const_set(ut[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),t.const_set(ut[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),l(ut,"RUBY_ENGINE")["$=="]("opal")&&(t.const_set(ut[0],"SvgPreambleRx",new RegExp("^"+l(ut,"CC_ALL")+"*?(?=<svg[\\s>])")),t.const_set(ut[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/)),t.const_set(ut[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+l(ut,"CC_ANY")+"*?\\1")),t.def(lt,"$initialize",y=function(t,e){var n=o;return null==e&&(e=f([],{})),this.backend=t,e["$[]"]("htmlsyntax")["$=="]("xml")?(n="xml",this.xml_mode=!0,this.void_element_slash="/"):(n="html",this.xml_mode=o,this.void_element_slash=""),this.$init_backend_traits(f(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:n,outfilesuffix:".html",supports_templates:!0}))},y.$$arity=-2),t.def(lt,"$convert",m=function(e,n,r){var i=m.$$p,a=this,s=o,$=o,l=o;for(i&&(m.$$p=null),$=0,l=arguments.length,s=new Array(l);$<l;$++)s[$]=arguments[$];return null==n&&(n=e.$node_name()),null==r&&(r=o),n["$=="]("inline_quoted")?a.$convert_inline_quoted(e):n["$=="]("paragraph")?a.$convert_paragraph(e):n["$=="]("inline_anchor")?a.$convert_inline_anchor(e):n["$=="]("section")?a.$convert_section(e):n["$=="]("listing")?a.$convert_listing(e):n["$=="]("literal")?a.$convert_literal(e):n["$=="]("ulist")?a.$convert_ulist(e):n["$=="]("olist")?a.$convert_olist(e):n["$=="]("dlist")?a.$convert_dlist(e):n["$=="]("admonition")?a.$convert_admonition(e):n["$=="]("colist")?a.$convert_colist(e):n["$=="]("embedded")?a.$convert_embedded(e):n["$=="]("example")?a.$convert_example(e):n["$=="]("floating_title")?a.$convert_floating_title(e):n["$=="]("image")?a.$convert_image(e):n["$=="]("inline_break")?a.$convert_inline_break(e):n["$=="]("inline_button")?a.$convert_inline_button(e):n["$=="]("inline_callout")?a.$convert_inline_callout(e):n["$=="]("inline_footnote")?a.$convert_inline_footnote(e):n["$=="]("inline_image")?a.$convert_inline_image(e):n["$=="]("inline_indexterm")?a.$convert_inline_indexterm(e):n["$=="]("inline_kbd")?a.$convert_inline_kbd(e):n["$=="]("inline_menu")?a.$convert_inline_menu(e):n["$=="]("open")?a.$convert_open(e):n["$=="]("page_break")?a.$convert_page_break(e):n["$=="]("preamble")?a.$convert_preamble(e):n["$=="]("quote")?a.$convert_quote(e):n["$=="]("sidebar")?a.$convert_sidebar(e):n["$=="]("stem")?a.$convert_stem(e):n["$=="]("table")?a.$convert_table(e):n["$=="]("thematic_break")?a.$convert_thematic_break(e):n["$=="]("verse")?a.$convert_verse(e):n["$=="]("video")?a.$convert_video(e):n["$=="]("document")?a.$convert_document(e):n["$=="]("toc")?a.$convert_toc(e):n["$=="]("pass")?a.$convert_pass(e):n["$=="]("audio")?a.$convert_audio(e):d(a,t.find_super_dispatcher(a,"convert",m,!1),s,i)},m.$$arity=-2),t.def(lt,"$convert_document",g=function(i){var a,s,$,u,c,p,h,y,m,g,v,b,x,w=this,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o,B=o,D=o,z=o,F=o;return p="<br"+(h=w.void_element_slash)+">",_((k=i.$attr("asset-uri-scheme","https"))["$empty?"]())||(k+=":"),y=k+"//cdnjs.cloudflare.com/ajax/libs",m=i["$attr?"]("linkcss"),g=_(i["$attr?"]("max-width"))?' style="max-width: '+i.$attr("max-width")+';"':"",A=["<!DOCTYPE html>"],v=_(i["$attr?"]("nolang"))?"":' lang="'+i.$attr("lang","en")+'"',A["$<<"]("<html"+(_(w.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+v+">"),A["$<<"]('<head>\n<meta charset="'+i.$attr("encoding","UTF-8")+'"'+h+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+h+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+h+'>\n<meta name="generator" content="Asciidoctor '+i.$attr("asciidoctor-version")+'"'+h+">"),_(i["$attr?"]("app-name"))&&A["$<<"]('<meta name="application-name" content="'+i.$attr("app-name")+'"'+h+">"),_(i["$attr?"]("description"))&&A["$<<"]('<meta name="description" content="'+i.$attr("description")+'"'+h+">"),_(i["$attr?"]("keywords"))&&A["$<<"]('<meta name="keywords" content="'+i.$attr("keywords")+'"'+h+">"),_(i["$attr?"]("authors"))&&A["$<<"]('<meta name="author" content="'+(_((E=i.$sub_replacements(i.$attr("authors")))["$include?"]("<"))?E.$gsub(l(ut,"XmlSanitizeRx"),""):E)+'"'+h+">"),_(i["$attr?"]("copyright"))&&A["$<<"]('<meta name="copyright" content="'+i.$attr("copyright")+'"'+h+">"),_(i["$attr?"]("favicon"))&&(_((O=i.$attr("favicon"))["$empty?"]())?(O="favicon.ico",S="image/x-icon"):S=_(R=l(ut,"Helpers").$extname(O,o))?R["$=="](".ico")?"image/x-icon":"image/"+R.$slice(1,R.$length()):"image/x-icon",A["$<<"]('<link rel="icon" type="'+S+'" href="'+O+'"'+h+">")),A["$<<"]("<title>"+i.$doctitle(f(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),_(l(ut,"DEFAULT_STYLESHEET_KEYS")["$include?"](i.$attr("stylesheet")))?(_(C=i.$attr("webfonts"))&&A["$<<"]('<link rel="stylesheet" href="'+k+"//fonts.googleapis.com/css?family="+(_(C["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":C)+'"'+h+">"),_(m)?A["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(l(ut,"DEFAULT_STYLESHEET_NAME"),i.$attr("stylesdir",""),!1)+'"'+h+">"):A["$<<"]("<style>\n"+l(ut,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):_(i["$attr?"]("stylesheet"))&&(_(m)?A["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(i.$attr("stylesheet"),i.$attr("stylesdir",""))+'"'+h+">"):A["$<<"]("<style>\n"+i.$read_contents(i.$attr("stylesheet"),f(["start","warn_on_failure","label"],{start:i.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),_(i["$attr?"]("icons","font"))&&(_(i["$attr?"]("iconfont-remote"))?A["$<<"]('<link rel="stylesheet" href="'+i.$attr("iconfont-cdn",y+"/font-awesome/"+l(ut,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+h+">"):(I=i.$attr("iconfont-name","font-awesome")+".css",A["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(I,i.$attr("stylesdir",""),!1)+'"'+h+">"))),_(T=i.$syntax_highlighter())&&A["$<<"](L=A.$size()),_((M=i.$docinfo())["$empty?"]())||A["$<<"](M),A["$<<"]("</head>"),b=_(i.$id())?' id="'+i.$id()+'"':"",P=_(_(a=_(s=_($=x=i["$sections?"]())?i["$attr?"]("toc-class"):$)?i["$attr?"]("toc"):s)?i["$attr?"]("toc-placement","auto"):a)?[i.$doctype(),i.$attr("toc-class"),"toc-"+i.$attr("toc-position","header")]:[i.$doctype()],_(i["$role?"]())&&P["$<<"](i.$role()),A["$<<"]("<body"+b+' class="'+P.$join(" ")+'">'),_((M=i.$docinfo("header"))["$empty?"]())||A["$<<"](M),_(i.$noheader())||(A["$<<"]('<div id="header"'+g+">"),i.$doctype()["$=="]("manpage")?(A["$<<"]("<h1>"+i.$doctitle()+" Manual Page</h1>"),_(_(a=_(s=x)?i["$attr?"]("toc"):s)?i["$attr?"]("toc-placement","auto"):a)&&A["$<<"]('<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+i.$converter().$convert(i,"outline")+"\n</div>"),_(i["$attr?"]("manpurpose"))&&A["$<<"](w.$generate_manname_section(i))):(_(i["$header?"]())&&(_(i.$notitle())||A["$<<"]("<h1>"+i.$header().$title()+"</h1>"),N=[],B=1,d(i.$authors(),"each",[],((u=function(t){return u.$$s,null==t&&(t=o),N["$<<"]('<span id="author'+(_(n(B,1))?B:"")+'" class="author">'+i.$sub_replacements(t.$name())+"</span>"+p),_(t.$email())&&N["$<<"]('<span id="email'+(_(n(B,1))?B:"")+'" class="email">'+i.$sub_macros(t.$email())+"</span>"+p),B=r(B,1)}).$$s=w,u.$$arity=1,u)),_(i["$attr?"]("revnumber"))&&N["$<<"]('<span id="revnumber">'+(_(a=i.$attr("version-label"))?a:"").$downcase()+" "+i.$attr("revnumber")+(_(i["$attr?"]("revdate"))?",":"")+"</span>"),_(i["$attr?"]("revdate"))&&N["$<<"]('<span id="revdate">'+i.$attr("revdate")+"</span>"),_(i["$attr?"]("revremark"))&&N["$<<"](p+'<span id="revremark">'+i.$attr("revremark")+"</span>"),_(N["$empty?"]())||(A["$<<"]('<div class="details">'),A.$concat(N),A["$<<"]("</div>"))),_(_(a=_(s=x)?i["$attr?"]("toc"):s)?i["$attr?"]("toc-placement","auto"):a)&&A["$<<"]('<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+i.$converter().$convert(i,"outline")+"\n</div>")),A["$<<"]("</div>")),A["$<<"]('<div id="content"'+g+">\n"+i.$content()+"\n</div>"),_(_(a=i["$footnotes?"]())?i["$attr?"]("nofootnotes")["$!"]():a)&&(A["$<<"]('<div id="footnotes"'+g+">\n<hr"+h+">"),d(i.$footnotes(),"each",[],((c=function(t){return c.$$s,null==t&&(t=o),A["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=w,c.$$arity=1,c)),A["$<<"]("</div>")),_(i.$nofooter())||(A["$<<"]('<div id="footer"'+g+">"),A["$<<"]('<div id="footer-text">'),_(i["$attr?"]("revnumber"))&&A["$<<"](i.$attr("version-label")+" "+i.$attr("revnumber")+p),_(_(a=i["$attr?"]("last-update-label"))?i["$attr?"]("reproducible")["$!"]():a)&&A["$<<"](i.$attr("last-update-label")+" "+i.$attr("docdatetime")),A["$<<"]("</div>"),A["$<<"]("</div>")),_(T)&&(_(T["$docinfo?"]("head"))?(D=[L,T.$docinfo("head",i,f(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:y,linkcss:m,self_closing_tag_slash:h}))],d(A,"[]=",t.to_a(D)),D[e(D.length,1)]):A.$delete_at(L),_(T["$docinfo?"]("footer"))&&A["$<<"](T.$docinfo("footer",i,f(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:y,linkcss:m,self_closing_tag_slash:h})))),_(i["$attr?"]("stem"))&&(z=i.$attr("eqnums","none"),_(z["$empty?"]())&&(z="AMS"),F=' equationNumbers: { autoNumber: "'+z+'" } ',A["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+l(ut,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+l(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+l(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+F+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+y+"/mathjax/"+l(ut,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),_((M=i.$docinfo("footer"))["$empty?"]())||A["$<<"](M),A["$<<"]("</body>"),A["$<<"]("</html>"),A.$join(l(ut,"LF"))},g.$$arity=1),t.def(lt,"$convert_embedded",v=function(t){var e,n,r,i,a=o,s=o,$=o;return a=[],t.$doctype()["$=="]("manpage")?(_(t.$notitle())||(s=_(t.$id())?' id="'+t.$id()+'"':"",a["$<<"]("<h1"+s+">"+t.$doctitle()+" Manual Page</h1>")),_(t["$attr?"]("manpurpose"))&&a["$<<"](this.$generate_manname_section(t))):_(_(e=t["$header?"]())?t.$notitle()["$!"]():e)&&(s=_(t.$id())?' id="'+t.$id()+'"':"",a["$<<"]("<h1"+s+">"+t.$header().$title()+"</h1>")),_(_(e=_(n=_(r=t["$sections?"]())?t["$attr?"]("toc"):r)?($=t.$attr("toc-placement"))["$!="]("macro"):n)?$["$!="]("preamble"):e)&&a["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+t.$converter().$convert(t,"outline")+"\n</div>"),a["$<<"](t.$content()),_(_(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(a["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),d(t.$footnotes(),"each",[],((i=function(t){return i.$$s,null==t&&(t=o),a["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,i.$$arity=1,i)),a["$<<"]("</div>")),a.$join(l(ut,"LF"))},v.$$arity=1),t.def(lt,"$convert_outline",b=function(t,e){var n,r,s,$,u,c=o,p=o;return null==e&&(e=f([],{})),_(t["$sections?"]())?($=_(n=e["$[]"]("sectnumlevels"))?n:(_(r=t.$document().$attributes()["$[]"]("sectnumlevels"))?r:3).$to_i(),u=_(n=e["$[]"]("toclevels"))?n:(_(r=t.$document().$attributes()["$[]"]("toclevels"))?r:2).$to_i(),c=t.$sections(),p=['<ul class="sectlevel'+c["$[]"](0).$level()+'">'],d(c,"each",[],((s=function(e){var n,r,c=s.$$s||this,d=o,h=o,y=o;return null==e&&(e=o),r=e.$level(),d=_(e.$caption())?e.$captioned_title():_(_(n=e.$numbered())?i(r,$):n)?_(_(n=a(r,2))?t.$document().$doctype()["$=="]("book"):n)?e.$sectname()["$=="]("chapter")?(_(h=t.$document().$attributes()["$[]"]("chapter-signifier"))?h+" ":"")+e.$sectnum()+" "+e.$title():e.$sectname()["$=="]("part")?(_(h=t.$document().$attributes()["$[]"]("part-signifier"))?h+" ":"")+e.$sectnum(o,":")+" "+e.$title():e.$sectnum()+" "+e.$title():e.$sectnum()+" "+e.$title():e.$title(),_(d["$include?"]("<a"))&&(d=d.$gsub(l(ut,"DropAnchorRx"),"")),_(_(n=a(r,u))?y=c.$convert_outline(e,f(["toclevels","sectnumlevels"],{toclevels:u,sectnumlevels:$})):n)?(p["$<<"]('<li><a href="#'+e.$id()+'">'+d+"</a>"),p["$<<"](y),p["$<<"]("</li>")):p["$<<"]('<li><a href="#'+e.$id()+'">'+d+"</a></li>")}).$$s=this,s.$$arity=1,s)),p["$<<"]("</ul>"),p.$join(l(ut,"LF"))):o},b.$$arity=-2),t.def(lt,"$convert_section",x=function(t){var e,n,s=o,$=o,l=o,u=o,c=o,d=o,f=o;return s=t.$document().$attributes(),$=t.$level(),l=_(t.$caption())?t.$captioned_title():_(_(e=t.$numbered())?i($,(_(n=s["$[]"]("sectnumlevels"))?n:3).$to_i()):e)?_(_(e=a($,2))?t.$document().$doctype()["$=="]("book"):e)?t.$sectname()["$=="]("chapter")?(_(u=s["$[]"]("chapter-signifier"))?u+" ":"")+t.$sectnum()+" "+t.$title():t.$sectname()["$=="]("part")?(_(u=s["$[]"]("part-signifier"))?u+" ":"")+t.$sectnum(o,":")+" "+t.$title():t.$sectnum()+" "+t.$title():t.$sectnum()+" "+t.$title():t.$title(),_(t.$id())?(c=' id="'+(d=t.$id())+'"',_(s["$[]"]("sectlinks"))&&(l='<a class="link" href="#'+d+'">'+l+"</a>"),_(s["$[]"]("sectanchors"))&&(l=s["$[]"]("sectanchors")["$=="]("after")?l+'<a class="anchor" href="#'+d+'"></a>':'<a class="anchor" href="#'+d+'"></a>'+l)):c="",$["$=="](0)?"<h1"+c+' class="sect0'+(_(f=t.$role())?" "+f:"")+'">'+l+"</h1>\n"+t.$content():'<div class="sect'+$+(_(f=t.$role())?" "+f:"")+'">\n<h'+r($,1)+c+">"+l+"</h"+r($,1)+">\n"+($["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},x.$$arity=1),t.def(lt,"$convert_admonition",w=function(t){var e,n,r,i,a=o,s=o;return n=_(t.$id())?' id="'+t.$id()+'"':"",r=t.$attr("name"),i=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",a=_(t.$document()["$attr?"]("icons"))?_(_(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+r+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(r)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+n+' class="admonitionblock '+r+(_(s=t.$role())?" "+s:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+a+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},w.$$arity=1),t.def(lt,"$convert_audio",k=function(t){var e,n,r,i,a,s,o,$,l=this;return n=l.xml_mode,r=_(t.$id())?' id="'+t.$id()+'"':"",i=' class="'+["audioblock",t.$role()].$compact().$join(" ")+'"',a=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",s=t.$attr("start"),o=t.$attr("end"),$=_(_(e=s)?e:o)?"#t="+(_(e=s)?e:"")+(_(o)?","+o:""):"","<div"+r+i+">\n"+a+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+$+'"'+(_(t["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",n):"")+(_(t["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",n))+(_(t["$option?"]("loop"))?l.$append_boolean_attribute("loop",n):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},k.$$arity=1),t.def(lt,"$convert_colist",A=function(t){var e,n,i,a,s,$=o,u=o,c=o;return $=[],a=_(t.$id())?' id="'+t.$id()+'"':"",s=' class="'+["colist",t.$style(),t.$role()].$compact().$join(" ")+'"',$["$<<"]("<div"+a+s+">"),_(t["$title?"]())&&$["$<<"]('<div class="title">'+t.$title()+"</div>"),_(t.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],u=e[0],c=e[1],d(t.$items(),"each",[],((n=function(e){var i=n.$$s||this,a=o;return null==i.void_element_slash&&(i.void_element_slash=o),null==e&&(e=o),c=r(c,1),a=_(u)?'<i class="conum" data-value="'+c+'"></i><b>'+c+"</b>":'<img src="'+t.$icon_uri("callouts/"+c)+'" alt="'+c+'"'+i.void_element_slash+">",$["$<<"]("<tr>\n<td>"+a+"</td>\n<td>"+e.$text()+(_(e["$blocks?"]())?r(l(ut,"LF"),e.$content()):"")+"</td>\n</tr>")}).$$s=this,n.$$arity=1,n)),$["$<<"]("</table>")):($["$<<"]("<ol>"),d(t.$items(),"each",[],((i=function(t){return i.$$s,null==t&&(t=o),$["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(_(t["$blocks?"]())?r(l(ut,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</ol>")),$["$<<"]("</div>"),$.$join(l(ut,"LF"))},A.$$arity=1),t.def(lt,"$convert_dlist",E=function(t){var e,n,r,i,a,s,$=o,u=o,c=o,f=o,p=o;return $=[],a=_(t.$id())?' id="'+t.$id()+'"':"",s=' class="'+(u=t.$style(),"qanda"["$==="](u)?["qlist","qanda",t.$role()]:"horizontal"["$==="](u)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]).$compact().$join(" ")+'"',$["$<<"]("<div"+a+s+">"),_(t["$title?"]())&&$["$<<"]('<div class="title">'+t.$title()+"</div>"),u=t.$style(),"qanda"["$==="](u)?($["$<<"]("<ol>"),d(t.$items(),"each",[],((e=function(t,n){var r,i=e.$$s||this;return null==t&&(t=o),null==n&&(n=o),$["$<<"]("<li>"),d(t,"each",[],((r=function(t){return r.$$s,null==t&&(t=o),$["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=i,r.$$arity=1,r)),_(n)&&(_(n["$text?"]())&&$["$<<"]("<p>"+n.$text()+"</p>"),_(n["$blocks?"]())&&$["$<<"](n.$content())),$["$<<"]("</li>")}).$$s=this,e.$$arity=2,e)),$["$<<"]("</ol>")):"horizontal"["$==="](u)?(c=this.void_element_slash,$["$<<"]("<table>"),_(_(n=t["$attr?"]("labelwidth"))?n:t["$attr?"]("itemwidth"))&&($["$<<"]("<colgroup>"),f=_(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",$["$<<"]("<col"+f+c+">"),f=_(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",$["$<<"]("<col"+f+c+">"),$["$<<"]("</colgroup>")),d(t.$items(),"each",[],((r=function(e,n){var i,a=r.$$s||this,s=o;return null==e&&(e=o),null==n&&(n=o),$["$<<"]("<tr>"),$["$<<"]('<td class="hdlist1'+(_(t["$option?"]("strong"))?" strong":"")+'">'),s=!0,d(e,"each",[],((i=function(t){return i.$$s,null==t&&(t=o),_(s)||$["$<<"]("<br"+c+">"),$["$<<"](t.$text()),s=o}).$$s=a,i.$$arity=1,i)),$["$<<"]("</td>"),$["$<<"]('<td class="hdlist2">'),_(n)&&(_(n["$text?"]())&&$["$<<"]("<p>"+n.$text()+"</p>"),_(n["$blocks?"]())&&$["$<<"](n.$content())),$["$<<"]("</td>"),$["$<<"]("</tr>")}).$$s=this,r.$$arity=2,r)),$["$<<"]("</table>")):($["$<<"]("<dl>"),p=_(t.$style())?"":' class="hdlist1"',d(t.$items(),"each",[],((i=function(t,e){var n,r=i.$$s||this;return null==t&&(t=o),null==e&&(e=o),d(t,"each",[],((n=function(t){return n.$$s,null==t&&(t=o),$["$<<"]("<dt"+p+">"+t.$text()+"</dt>")}).$$s=r,n.$$arity=1,n)),_(e)?($["$<<"]("<dd>"),_(e["$text?"]())&&$["$<<"]("<p>"+e.$text()+"</p>"),_(e["$blocks?"]())&&$["$<<"](e.$content()),$["$<<"]("</dd>")):o}).$$s=this,i.$$arity=2,i)),$["$<<"]("</dl>")),$["$<<"]("</div>"),$.$join(l(ut,"LF"))},E.$$arity=1),t.def(lt,"$convert_example",O=function(t){var e,n=o,r=o,i=o,a=o;return e=_(t.$id())?' id="'+t.$id()+'"':"",_(t["$option?"]("collapsible"))?(n=_(t.$role())?' class="'+t.$role()+'"':"",r=_(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+e+n+(_(t["$option?"]("open"))?" open":"")+">\n"+r+'\n<div class="content">\n'+t.$content()+"\n</div>\n</details>"):(i=_(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+e+' class="exampleblock'+(_(a=t.$role())?" "+a:"")+'">\n'+i+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},O.$$arity=1),t.def(lt,"$convert_floating_title",S=function(t){var e;return"<"+(e="h"+r(t.$level(),1))+(_(t.$id())?' id="'+t.$id()+'"':"")+' class="'+[t.$style(),t.$role()].$compact().$join(" ")+'">'+t.$title()+"</"+e+">"},S.$$arity=1),t.def(lt,"$convert_image",R=function(t){var e,n,r,i,s,u,c=this,d=o,f=o,p=o,h=o,y=o,m=o;return d=t.$attr("target"),i=_(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",s=_(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",_(_(e=_(n=_(r=t["$attr?"]("format","svg"))?r:d["$include?"](".svg"))?a(t.$document().$safe(),$(l(ut,"SafeMode"),"SECURE")):n)?_(n=f=t["$option?"]("inline"))?n:p=t["$option?"]("interactive"):e)&&(_(f)?h=_(e=c.$read_svg_contents(t,d))?e:'<span class="alt">'+t.$alt()+"</span>":_(p)&&(y=_(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+c.$encode_attribute_value(t.$alt())+'"'+i+s+c.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",h='<object type="image/svg+xml" data="'+t.$image_uri(d)+'"'+i+s+">"+y+"</object>")),h=_(e=h)?e:'<img src="'+t.$image_uri(d)+'" alt="'+c.$encode_attribute_value(t.$alt())+'"'+i+s+c.void_element_slash+">",_(t["$attr?"]("link"))&&(h='<a class="image" href="'+t.$attr("link")+'"'+c.$append_link_constraint_attrs(t).$join()+">"+h+"</a>"),u=_(t.$id())?' id="'+t.$id()+'"':"",m=["imageblock"],_(t["$attr?"]("float"))&&m["$<<"](t.$attr("float")),_(t["$attr?"]("align"))&&m["$<<"]("text-"+t.$attr("align")),_(t.$role())&&m["$<<"](t.$role()),"<div"+u+' class="'+m.$join(" ")+'">\n<div class="content">\n'+h+"\n</div>"+(_(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":"")+"\n</div>"},R.$$arity=1),t.def(lt,"$convert_listing",C=function(n){var i,a,s,$,l=o,u=o,c=o,p=o,h=o,y=o,m=o,g=o;return a=_(i=n["$option?"]("nowrap"))?i:n.$document()["$attr?"]("prewrap")["$!"](),n.$style()["$=="]("source")?(l=n.$attr("language"),_(u=n.$document().$syntax_highlighter())?(c=_(u["$highlight?"]())?f(["css_mode","style"],{css_mode:(_(i=(p=n.$document().$attributes())["$[]"](u.$name()+"-css"))?i:"class").$to_sym(),style:p["$[]"](u.$name()+"-style")}):f([],{}),h=["nowrap",a],d(c,"[]=",t.to_a(h)),h[e(h.length,1)]):(y='<pre class="highlight'+(_(a)?" nowrap":"")+'"><code'+(_(l)?' class="language-'+l+'" data-lang="'+l+'"':"")+">",m="</code></pre>")):(y="<pre"+(_(a)?' class="nowrap"':"")+">",m="</pre>"),s=_(n.$id())?' id="'+n.$id()+'"':"",$=_(n["$title?"]())?'<div class="title">'+n.$captioned_title()+"</div>\n":"","<div"+s+' class="listingblock'+(_(g=n.$role())?" "+g:"")+'">\n'+$+'<div class="content">\n'+(_(u)?u.$format(n,l,c):r(r(y,_(i=n.$content())?i:""),m))+"\n</div>\n</div>"},C.$$arity=1),t.def(lt,"$convert_literal",I=function(t){var e,n,r,i,a=o;return n=_(t.$id())?' id="'+t.$id()+'"':"",r=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",i=_(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(_(a=t.$role())?" "+a:"")+'">\n'+r+'<div class="content">\n<pre'+(_(i)?' class="nowrap"':"")+">"+t.$content()+"</pre>\n</div>\n</div>"},I.$$arity=1),t.def(lt,"$convert_stem",T=function(n){var r,i,a,s,$,u,c,f=o,h=o,y=o,m=o;return s=_(n.$id())?' id="'+n.$id()+'"':"",$=_(n["$title?"]())?'<div class="title">'+n.$title()+"</div>\n":"",i=l(ut,"BLOCK_MATH_DELIMITERS")["$[]"](f=n.$style().$to_sym()),r=t.to_ary(i),u=null==r[0]?o:r[0],c=null==r[1]?o:r[1],_(h=n.$content())?(_((r=f["$=="]("asciimath"))?h["$include?"](l(ut,"LF")):f["$=="]("asciimath"))&&(y=l(ut,"LF")+"<br"+this.void_element_slash+">",h=d(h,"gsub",[l(ut,"StemBreakRx")],((a=function(){var t,n,r;return a.$$s,""+c+(n=y,r=e(((t=p["~"])===o?o:t["$[]"](0)).$count(l(ut,"LF")),1),"number"==typeof n&&"number"==typeof r?n*r:n["$*"](r))+l(ut,"LF")+u}).$$s=this,a.$$arity=0,a))),_(_(r=h["$start_with?"](u))?h["$end_with?"](c):r)||(h=""+u+h+c)):h="","<div"+s+' class="stemblock'+(_(m=n.$role())?" "+m:"")+'">\n'+$+'<div class="content">\n'+h+"\n</div>\n</div>"},T.$$arity=1),t.def(lt,"$convert_olist",L=function(t){var e,n,r,i,a,s,$=this,u=o,c=o;return u=[],n=_(t.$id())?' id="'+t.$id()+'"':"",r=' class="'+["olist",t.$style(),t.$role()].$compact().$join(" ")+'"',u["$<<"]("<div"+n+r+">"),_(t["$title?"]())&&u["$<<"]('<div class="title">'+t.$title()+"</div>"),i=_(c=t.$list_marker_keyword())?' type="'+c+'"':"",a=_(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",s=_(t["$option?"]("reversed"))?$.$append_boolean_attribute("reversed",$.xml_mode):"",u["$<<"]('<ol class="'+t.$style()+'"'+i+a+s+">"),d(t.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=o),_(t.$id())?u["$<<"]('<li id="'+t.$id()+'"'+(_(t.$role())?' class="'+t.$role()+'"':"")+">"):_(t.$role())?u["$<<"]('<li class="'+t.$role()+'">'):u["$<<"]("<li>"),u["$<<"]("<p>"+t.$text()+"</p>"),_(t["$blocks?"]())&&u["$<<"](t.$content()),u["$<<"]("</li>")}).$$s=$,e.$$arity=1,e)),u["$<<"]("</ol>"),u["$<<"]("</div>"),u.$join(l(ut,"LF"))},L.$$arity=1),t.def(lt,"$convert_open",M=function(t){var e,r,i,a=o,s=o,$=o,l=o;return(a=t.$style())["$=="]("abstract")?_((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(s=_(t.$id())?' id="'+t.$id()+'"':"",$=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+s+' class="quoteblock abstract'+(_(l=t.$role())?" "+l:"")+'">\n'+$+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):_((e=a["$=="]("partintro"))?_(r=_(i=n(t.$level(),0))?i:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):a["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(s=_(t.$id())?' id="'+t.$id()+'"':"",$=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+s+' class="openblock'+(_(_(e=a)?a["$!="]("open"):e)?" "+a:"")+(_(l=t.$role())?" "+l:"")+'">\n'+$+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},M.$$arity=1),t.def(lt,"$convert_page_break",P=function(t){return'<div style="page-break-after: always;"></div>'},P.$$arity=1),t.def(lt,"$convert_paragraph",N=function(t){var e=o;return e=_(t.$role())?(_(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':_(t.$id())?' id="'+t.$id()+'" class="paragraph"':' class="paragraph"',_(t["$title?"]())?"<div"+e+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div"+e+">\n<p>"+t.$content()+"</p>\n</div>"},N.$$arity=1),t.alias(lt,"convert_pass","content_only"),t.def(lt,"$convert_preamble",B=function(t){var e,n,r=o,i=o;return i=_(_(e=_(n=(r=t.$document())["$attr?"]("toc-placement","preamble"))?r["$sections?"]():n)?r["$attr?"]("toc"):e)?'\n<div id="toc" class="'+r.$attr("toc-class","toc")+'">\n<div id="toctitle">'+r.$attr("toc-title")+"</div>\n"+r.$converter().$convert(r,"outline")+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},B.$$arity=1),t.def(lt,"$convert_quote",D=function(t){var e,n,r,i,a,s,$=this,l=o,u=o;return n=_(t.$id())?' id="'+t.$id()+'"':"",r=' class="'+["quoteblock",t.$role()].$compact().$join(" ")+'"',i=_(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",a=_(t["$attr?"]("attribution"))?t.$attr("attribution"):o,s=_(t["$attr?"]("citetitle"))?t.$attr("citetitle"):o,_(_(e=a)?e:s)?(l=_(s)?"<cite>"+s+"</cite>":"",u='\n<div class="attribution">\n'+(_(a)?"&#8212; "+a+(_(s)?"<br"+$.void_element_slash+">\n":""):"")+l+"\n</div>"):u="","<div"+n+r+">"+i+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+u+"\n</div>"},D.$$arity=1),t.def(lt,"$convert_thematic_break",z=function(t){return"<hr"+this.void_element_slash+">"},z.$$arity=1),t.def(lt,"$convert_sidebar",F=function(t){var e,n,r=o;return e=_(t.$id())?' id="'+t.$id()+'"':"",n=_(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+e+' class="sidebarblock'+(_(r=t.$role())?" "+r:"")+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},F.$$arity=1),t.def(lt,"$convert_table",j=function(t){var e,i,a,s,$,u,c,f,p,h=o,y=o,m=o,g=o,v=o,b=o;return h=[],s=_(t.$id())?' id="'+t.$id()+'"':"",(y=t.$attr("frame","all","table-frame"))["$=="]("topbot")&&(y="ends"),m=["tableblock","frame-"+y,"grid-"+t.$attr("grid","all","table-grid")],_($=t.$attr("stripes",o,"table-stripes"))&&m["$<<"]("stripes-"+$),g=[],_(_(e=u=t["$option?"]("autowidth"))?t["$attr?"]("width")["$!"]():e)?m["$<<"]("fit-content"):(v=t.$attr("tablepcwidth"))["$=="](100)?m["$<<"]("stretch"):g["$<<"]("width: "+v+"%;"),_(t["$attr?"]("float"))&&m["$<<"](t.$attr("float")),_(c=t.$role())&&m["$<<"](c),f=' class="'+m.$join(" ")+'"',p=_(g["$empty?"]())?"":' style="'+g.$join(" ")+'"',h["$<<"]("<table"+s+f+p+">"),_(t["$title?"]())&&h["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),_(n(t.$attr("rowcount"),0))&&(b=this.void_element_slash,h["$<<"]("<colgroup>"),_(u)?h=r(h,l(ut,"Array").$new(t.$columns().$size(),"<col"+b+">")):d(t.$columns(),"each",[],((i=function(t){return i.$$s,null==t&&(t=o),h["$<<"](_(t["$option?"]("autowidth"))?"<col"+b+">":'<col style="width: '+t.$attr("colpcwidth")+'%;"'+b+">")}).$$s=this,i.$$arity=1,i)),h["$<<"]("</colgroup>"),d(t.$rows().$to_h(),"each",[],((a=function(e,n){var r,i=a.$$s||this;return null==e&&(e=o),null==n&&(n=o),_(n["$empty?"]())?o:(h["$<<"]("<t"+e+">"),d(n,"each",[],((r=function(n){var i,a=r.$$s||this;return null==n&&(n=o),h["$<<"]("<tr>"),d(n,"each",[],((i=function(n){i.$$s;var r,a,s,$,l,u,c=o,d=o;return null==n&&(n=o),e["$=="]("head")?c=n.$text():(d=n.$style(),c="asciidoc"["$==="](d)?'<div class="content">'+n.$content()+"</div>":"literal"["$==="](d)?'<div class="literal"><pre>'+n.$text()+"</pre></div>":_((c=n.$content())["$empty?"]())?"":'<p class="tableblock">'+c.$join('</p>\n<p class="tableblock">')+"</p>"),a=_(_(r=e["$=="]("head"))?r:n.$style()["$=="]("header"))?"th":"td",s=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',$=_(n.$colspan())?' colspan="'+n.$colspan()+'"':"",l=_(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':"",u=_(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",h["$<<"]("<"+a+s+$+l+u+">"+c+"</"+a+">")}).$$s=a,i.$$arity=1,i)),h["$<<"]("</tr>")}).$$s=i,r.$$arity=1,r)),h["$<<"]("</t"+e+">"))}).$$s=this,a.$$arity=2,a))),h["$<<"]("</table>"),h.$join(l(ut,"LF"))},j.$$arity=1),t.def(lt,"$convert_toc",q=function(t){var e,n,r,i,a=o,s=o,$=o;return _(_(e=_(n=(a=t.$document())["$attr?"]("toc-placement","macro"))?a["$sections?"]():n)?a["$attr?"]("toc"):e)?(_(t.$id())?(s=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(s=' id="toc"',$=' id="toctitle"'),r=_(t["$title?"]())?t.$title():a.$attr("toc-title"),i=_(t["$attr?"]("levels"))?t.$attr("levels").$to_i():o,"<div"+s+' class="'+(_(t["$role?"]())?t.$role():a.$attr("toc-class","toc"))+'">\n<div'+$+' class="title">'+r+"</div>\n"+a.$converter().$convert(a,"outline",f(["toclevels"],{toclevels:i}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},q.$$arity=1),t.def(lt,"$convert_ulist",U=function(t){var e,n,r,i=o,a=o,s=o,$=o,u=o;return i=[],n=_(t.$id())?' id="'+t.$id()+'"':"",a=["ulist",t.$style(),t.$role()].$compact(),s=$="",_(r=t["$option?"]("checklist"))?(a.$unshift(a.$shift(),"checklist"),u=' class="checklist"',_(t["$option?"]("interactive"))?_(this.xml_mode)?(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',$='<input type="checkbox" data-item-complete="0"/> '):(s='<input type="checkbox" data-item-complete="1" checked> ',$='<input type="checkbox" data-item-complete="0"> '):_(t.$document()["$attr?"]("icons","font"))?(s='<i class="fa fa-check-square-o"></i> ',$='<i class="fa fa-square-o"></i> '):(s="&#10003; ",$="&#10063; ")):u=_(t.$style())?' class="'+t.$style()+'"':"",i["$<<"]("<div"+n+' class="'+a.$join(" ")+'">'),_(t["$title?"]())&&i["$<<"]('<div class="title">'+t.$title()+"</div>"),i["$<<"]("<ul"+u+">"),d(t.$items(),"each",[],((e=function(t){var n;return e.$$s,null==t&&(t=o),_(t.$id())?i["$<<"]('<li id="'+t.$id()+'"'+(_(t.$role())?' class="'+t.$role()+'"':"")+">"):_(t.$role())?i["$<<"]('<li class="'+t.$role()+'">'):i["$<<"]("<li>"),_(_(n=r)?t["$attr?"]("checkbox"):n)?i["$<<"]("<p>"+(_(t["$attr?"]("checked"))?s:$)+t.$text()+"</p>"):i["$<<"]("<p>"+t.$text()+"</p>"),_(t["$blocks?"]())&&i["$<<"](t.$content()),i["$<<"]("</li>")}).$$s=this,e.$$arity=1,e)),i["$<<"]("</ul>"),i["$<<"]("</div>"),i.$join(l(ut,"LF"))},U.$$arity=1),t.def(lt,"$convert_verse",H=function(t){var e,n,r,i,a,s,$=this,l=o,u=o;return n=_(t.$id())?' id="'+t.$id()+'"':"",r=' class="'+["verseblock",t.$role()].$compact().$join(" ")+'"',i=_(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",a=_(t["$attr?"]("attribution"))?t.$attr("attribution"):o,s=_(t["$attr?"]("citetitle"))?t.$attr("citetitle"):o,_(_(e=a)?e:s)?(l=_(s)?"<cite>"+s+"</cite>":"",u='\n<div class="attribution">\n'+(_(a)?"&#8212; "+a+(_(s)?"<br"+$.void_element_slash+">\n":""):"")+l+"\n</div>"):u="","<div"+n+r+">"+i+'\n<pre class="content">'+t.$content()+"</pre>"+u+"\n</div>"},H.$$arity=1),t.def(lt,"$convert_video",Y=function(e){var n,r,i,a,s,$,l,u,c=this,d=o,f=o,p=o,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o,A=o,E=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,M=o,P=o,N=o,B=o,D=o,z=o,F=o,j=o;return i=c.xml_mode,a=_(e.$id())?' id="'+e.$id()+'"':"",d=["videoblock"],_(e["$attr?"]("float"))&&d["$<<"](e.$attr("float")),_(e["$attr?"]("align"))&&d["$<<"]("text-"+e.$attr("align")),_(e.$role())&&d["$<<"](e.$role()),s=' class="'+d.$join(" ")+'"',$=_(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",l=_(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",u=_(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",f=e.$attr("poster"),"vimeo"["$==="](f)?(_((p=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),h=_(e["$attr?"]("start"))?"#at="+e.$attr("start"):"",y=["?"],m=_(e["$option?"]("autoplay"))?(_(n=y.$pop())?n:"&amp;")+"autoplay=1":"",g=_(e["$option?"]("loop"))?(_(n=y.$pop())?n:"&amp;")+"loop=1":"",v=_(e["$option?"]("muted"))?(_(n=y.$pop())?n:"&amp;")+"muted=1":"","<div"+a+s+">"+$+'\n<div class="content">\n<iframe'+l+u+' src="'+p+"//player.vimeo.com/video/"+e.$attr("target")+m+g+v+h+'" frameborder="0"'+(_(e["$option?"]("nofullscreen"))?"":c.$append_boolean_attribute("allowfullscreen",i))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](f)?(_((p=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),b=_(e["$option?"]("related"))?1:0,x=_(e["$attr?"]("start"))?"&amp;start="+e.$attr("start"):"",w=_(e["$attr?"]("end"))?"&amp;end="+e.$attr("end"):"",m=_(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",g=_(k=e["$option?"]("loop"))?"&amp;loop=1":"",A=_(e["$option?"]("muted"))?"&amp;mute=1":"",E=_(e["$option?"]("nocontrols"))?"&amp;controls=0":"",_(e["$option?"]("nofullscreen"))?(O="&amp;fs=0",S=""):(O="",S=c.$append_boolean_attribute("allowfullscreen",i)),R=_(e["$option?"]("modest"))?"&amp;modestbranding=1":"",C=_(e["$attr?"]("theme"))?"&amp;theme="+e.$attr("theme"):"",I=_(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",r=e.$attr("target").$split("/",2),n=t.to_ary(r),T=null==n[0]?o:n[0],L=null==n[1]?o:n[1],_(L=_(n=L)?n:e.$attr("list"))?M="&amp;list="+L:(r=T.$split(",",2),n=t.to_ary(r),T=null==n[0]?o:n[0],P=null==n[1]?o:n[1],M=_(P=_(n=P)?n:e.$attr("playlist"))?"&amp;playlist="+P:_(k)?"&amp;playlist="+T:""),"<div"+a+s+">"+$+'\n<div class="content">\n<iframe'+l+u+' src="'+p+"//www.youtube.com/embed/"+T+"?rel="+b+x+w+m+g+A+E+M+O+R+C+I+'" frameborder="0"'+S+"></iframe>\n</div>\n</div>"):(N=_((B=e.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(B)+'"',D=_((B=e.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+B+'"',z=e.$attr("start"),F=e.$attr("end"),j=_(_(n=z)?n:F)?"#t="+(_(n=z)?n:"")+(_(F)?","+F:""):"","<div"+a+s+">"+$+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+j+'"'+l+u+N+(_(e["$option?"]("autoplay"))?c.$append_boolean_attribute("autoplay",i):"")+(_(e["$option?"]("muted"))?c.$append_boolean_attribute("muted",i):"")+(_(e["$option?"]("nocontrols"))?"":c.$append_boolean_attribute("controls",i))+(_(e["$option?"]("loop"))?c.$append_boolean_attribute("loop",i):"")+D+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},Y.$$arity=1),t.def(lt,"$convert_inline_anchor",G=function(t){var e,n,r,i=this,a=o,s=o,$=o,u=o,c=o,d=o,f=o;return a=t.$type(),"xref"["$==="](a)?(_(s=t.$attributes()["$[]"]("path"))?($=i.$append_link_constraint_attrs(t,_(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),u=_(e=t.$text())?e:s):($=_(t.$role())?' class="'+t.$role()+'"':"",_(u=t.$text())||(c=t.$attributes()["$[]"]("refid"),_(_(e=_(n=l(ut,"AbstractNode")["$==="](d=(i.refs=_(r=i.refs)?r:t.$document().$catalog()["$[]"]("refs"))["$[]"](c)))?i.resolving_xref=_(r=i.resolving_xref)?r:f=!0:n)?f:e)?(_((u=d.$xreftext(t.$attr("xrefstyle",o,!0)))["$!"]())?u="["+c+"]":_(u["$include?"]("<a"))&&(u=u.$gsub(l(ut,"DropAnchorRx"),"")),i.resolving_xref=o):u="["+c+"]")),'<a href="'+t.$target()+'"'+$+">"+u+"</a>"):"ref"["$==="](a)?'<a id="'+t.$id()+'"></a>':"link"["$==="](a)?($=_(t.$id())?[' id="'+t.$id()+'"']:[],_(t.$role())&&$["$<<"](' class="'+t.$role()+'"'),_(t["$attr?"]("title"))&&$["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+i.$append_link_constraint_attrs(t,$).$join()+">"+t.$text()+"</a>"):"bibref"["$==="](a)?'<a id="'+t.$id()+'"></a>['+(_(e=t.$reftext())?e:t.$id())+"]":(i.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),o)},G.$$arity=1),t.def(lt,"$convert_inline_break",W=function(t){return t.$text()+"<br"+this.void_element_slash+">"},W.$$arity=1),t.def(lt,"$convert_inline_button",V=function(t){return'<b class="button">'+t.$text()+"</b>"},V.$$arity=1),t.def(lt,"$convert_inline_callout",X=function(t){var e=o;return _(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":_(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":_($("::","Array")["$==="](e=t.$attributes()["$[]"]("guard")))?'&lt;!--<b class="conum">('+t.$text()+")</b>--&gt;":e+'<b class="conum">('+t.$text()+")</b>"},X.$$arity=1),t.def(lt,"$convert_inline_footnote",K=function(t){var e;return _(e=t.$attr("index"))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(_(t.$id())?' id="_footnote_'+t.$id()+'"':"")+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":o},K.$$arity=1),t.def(lt,"$convert_inline_image",J=function(t){var e,n,r,i,s,u,c,p=this,h=o,y=o,m=o,g=o,v=o,b=o,x=o,w=o,k=o;return _((e=(h=_(n=t.$type())?n:"image")["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(h=_(n=t.$type())?n:"image")["$=="]("icon"))?(y="fa fa-"+t.$target(),d(f(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((r=function(e,n){return r.$$s,null==e&&(e=o),null==n&&(n=o),_(t["$attr?"](e))?y=y+" "+n+t.$attr(e):o}).$$s=p,r.$$arity=2,r)),m=_(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",g='<i class="'+y+'"'+m+"></i>"):_((e=h["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():h["$=="]("icon"))?g="["+t.$alt()+"]":(v=t.$target(),b=d(["width","height","title"],"map",[],(i=function(e){return i.$$s,null==e&&(e=o),_(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':""},i.$$s=p,i.$$arity=1,i)).$join(),_(_(e=_(n=_(s=h["$!="]("icon"))?_(u=t["$attr?"]("format","svg"))?u:v["$include?"](".svg"):s)?a(t.$document().$safe(),$(l(ut,"SafeMode"),"SECURE")):n)?_(n=x=t["$option?"]("inline"))?n:w=t["$option?"]("interactive"):e)&&(_(x)?g=_(e=p.$read_svg_contents(t,v))?e:'<span class="alt">'+t.$alt()+"</span>":_(w)&&(k=_(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+p.$encode_attribute_value(t.$alt())+'"'+b+p.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",g='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+b+">"+k+"</object>")),g=_(e=g)?e:'<img src="'+(h["$=="]("icon")?t.$icon_uri(v):t.$image_uri(v))+'" alt="'+p.$encode_attribute_value(t.$alt())+'"'+b+p.void_element_slash+">"),_(t["$attr?"]("link"))&&(g='<a class="image" href="'+t.$attr("link")+'"'+p.$append_link_constraint_attrs(t).$join()+">"+g+"</a>"),'<span class="'+(y=_(c=t.$role())?_(t["$attr?"]("float"))?h+" "+t.$attr("float")+" "+c:h+" "+c:_(t["$attr?"]("float"))?h+" "+t.$attr("float"):h)+'">'+g+"</span>"},J.$$arity=1),t.def(lt,"$convert_inline_indexterm",Z=function(t){return t.$type()["$=="]("visible")?t.$text():""},Z.$$arity=1),t.def(lt,"$convert_inline_kbd",Q=function(t){var e=o;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e.$join("</kbd>+<kbd>")+"</kbd></span>"},Q.$$arity=1),t.def(lt,"$convert_inline_menu",tt=function(t){var e,n,r,i=o,a=o;return n="</b>"+(e=_(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',r=t.$attr("menu"),_((i=t.$attr("submenus"))["$empty?"]())?_(a=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+r+"</b>"+e+'<b class="menuitem">'+a+"</b></span>":'<b class="menuref">'+r+"</b>":'<span class="menuseq"><b class="menu">'+r+"</b>"+e+'<b class="submenu">'+i.$join(n)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},tt.$$arity=1),t.def(lt,"$convert_inline_quoted",et=function(e){var n,r,i,a,s=o,$=o;return r=l(ut,"QUOTE_TAGS")["$[]"](e.$type()),s=null==(n=t.to_ary(r))[0]?o:n[0],i=null==n[1]?o:n[1],a=null==n[2]?o:n[2],_(e.$id())?($=_(e.$role())?' class="'+e.$role()+'"':"",_(a)?s.$chop()+' id="'+e.$id()+'"'+$+">"+e.$text()+i:'<span id="'+e.$id()+'"'+$+">"+s+e.$text()+i+"</span>"):_(e.$role())?_(a)?s.$chop()+' class="'+e.$role()+'">'+e.$text()+i:'<span class="'+e.$role()+'">'+s+e.$text()+i+"</span>":""+s+e.$text()+i},et.$$arity=1),t.def(lt,"$read_svg_contents",nt=function(e,n){var r,i=o,a=o,s=o,$=o;if(_(i=e.$read_contents(n,f(["start","normalize","label","warn_if_empty"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(_(i["$empty?"]()))return o;_(i["$start_with?"]("<svg"))||(i=i.$sub(l(ut,"SvgPreambleRx"),"")),a=s=$=o,d(["width","height"],"each",[],((r=function(t){var n,u;if(r.$$s,null==t&&(t=o),!_(e["$attr?"](t)))return o;if(_(s));else{if(($=_(n=$)?n:_(u=i.$match(l(ut,"SvgStartTagRx")))?u:"no_match")["$=="]("no_match"))return o;s=(a=$["$[]"](0)).$gsub(l(ut,"DimensionAttributeRx"),"")}return s=s.$chop()+" "+t+'="'+e.$attr(t)+'">'}).$$s=this,r.$$arity=1,r)),_(s)&&(i=""+s+i["$[]"](t.Range.$new(a.$length(),-1,!1)))}return i},nt.$$arity=2),lt.$private(),t.def(lt,"$append_boolean_attribute",rt=function(t,e){return _(e)?" "+t+'="'+t+'"':" "+t},rt.$$arity=2),t.def(lt,"$append_link_constraint_attrs",it=function(t,e){var n,r=o,i=o;return null==e&&(e=[]),_(t["$option?"]("nofollow"))&&(r="nofollow"),_(i=t.$attributes()["$[]"]("window"))?(e["$<<"](' target="'+i+'"'),_(_(n=i["$=="]("_blank"))?n:t["$option?"]("noopener"))&&e["$<<"](_(r)?' rel="'+r+' noopener"':' rel="noopener"')):_(r)&&e["$<<"](' rel="'+r+'"'),e},it.$$arity=-2),t.def(lt,"$encode_attribute_value",at=function(t){return _(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},at.$$arity=1),t.def(lt,"$generate_manname_section",st=function(t){var e,n=o,r=o,i=o,a=o;return n=t.$attr("manname-title","Name"),_(_(e=r=t.$sections()["$[]"](0))?(i=r.$title())["$=="](i.$upcase()):e)&&(n=n.$upcase()),"<h2"+(_(a=t.$attr("manname-id"))?' id="'+a+'"':"")+">"+n+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>"},st.$$arity=1),t.def(lt,"$method_missing",ot=function(e,n){var r,i,a=ot.$$p,s=this,$=o,l=o,u=o,c=o;for(a&&(ot.$$p=null),u=0,c=arguments.length,l=new Array(c);u<c;u++)l[u]=arguments[u];return r=t.slice.call(arguments,1,arguments.length),_(_(i=($=e.$to_s())["$start_with?"]("convert_")["$!"]())?s["$handles?"]($):i)?d(s,"send",["convert_"+$].concat(t.to_a(r))):d(s,t.find_super_dispatcher(s,"method_missing",ot,!1),l,a)},ot.$$arity=-2)}(l(y,"Converter"),$(l(y,"Converter"),"Base"),y)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var a=[],s=t.nil,o=t.const_get_qualified,$=t.const_get_relative,l=(t.breaker,t.slice,t.module),u=t.klass,c=t.truthy,d=t.hash2,f=t.send,_=t.hash;return t.add_stubs(["$==","$[]=","$config","$-","$const_defined?","$singleton_class?","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$parse_blocks","$empty?","$include?","$sub_attributes","$parse","$each","$define_method","$unshift","$shift","$send","$size","$binding","$receiver","$define_singleton_method","$instance_exec","$to_proc","$call","$option","$flatten","$respond_to?","$to_s","$partition","$to_i","$<<","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$split","$capitalize","$instance_variable_set","$resolve_args","$enable_dsl","$singleton_class","$process_block_given?","$source_location","$freeze","$resolve_class","$<","$update_config","$as_symbol","$name","$name=","$pop","$-@","$next_auto_id","$generate_name"]),$(a,"RUBY_ENGINE")["$=="]("opal"),function(a,p){var h=[l(a,"Asciidoctor")].concat(p);!function(a,p){var h=l(a,"Extensions"),y=[h].concat(p);!function(i,a,l){var _,p,h,y,m,g,v,b,x,w,k,A,E=u(i,null,"Processor"),O=[E].concat(l);E.$$prototype.config=s,function(n,r){var i,a,o;[n].concat(r),t.def(n,"$config",i=function(){var t;return null==this.config&&(this.config=s),this.config=c(t=this.config)?t:d([],{})},i.$$arity=0),t.def(n,"$option",a=function(n,r){var i;return i=[n,r],f(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},a.$$arity=2),t.def(n,"$enable_dsl",o=function(){return c(this["$const_defined?"]("DSL"))?c(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):s},o.$$arity=0),t.alias(n,"use_dsl","enable_dsl")}(t.get_singleton_class(E),O),E.$attr_reader("config"),t.def(E,"$initialize",_=function(t){return null==t&&(t=d([],{})),this.config=this.$class().$config().$merge(t)},_.$$arity=-1),t.def(E,"$update_config",p=function(t){return this.config.$update(t)},p.$$arity=1),t.def(E,"$process",h=function(e){var n=this;return t.slice.call(arguments,0,arguments.length),n.$raise(o("::","NotImplementedError"),$(O,"Processor")+" subclass "+n.$class()+" must implement the #process method")},h.$$arity=-1),t.def(E,"$create_section",y=function(i,a,o,l){var u,_,p=s,h=s,y=s,m=s,g=s,v=s,b=s,x=s,w=s;return null==l&&(l=d([],{})),p=i.$document(),_=(h=p.$doctype())["$=="]("book"),y=c(u=l["$[]"]("level"))?u:n(i.$level(),1),c(m=o.$delete("style"))?c(c(u=_)?m["$=="]("abstract"):u)?(g=(u=["chapter",1])[0],y=u[1]):(g=(u=[m,!0])[0],v=u[1],y["$=="](0)&&(y=1)):c(_)?g=y["$=="](0)?"part":c(r(y,1))?"section":"chapter":c((u=h["$=="]("manpage"))?a.$casecmp("synopsis")["$=="](0):h["$=="]("manpage"))?(g=(u=["synopsis",!0])[0],v=u[1]):g="section",b=$(O,"Section").$new(i,y),u=[a,g],b["$title="](u[0]),b["$sectname="](u[1]),c(v)?(x=[!0],f(b,"special=",t.to_a(x)),x[e(x.length,1)],c(l.$fetch("numbered",m["$=="]("appendix")))?(x=[!0],f(b,"numbered=",t.to_a(x)),x[e(x.length,1)]):c(c(u=l["$key?"]("numbered")["$!"]())?p["$attr?"]("sectnums","all"):u)&&(x=[!c(c(u=_)?y["$=="](1):u)||"chapter"],f(b,"numbered=",t.to_a(x)),x[e(x.length,1)])):c(r(y,0))?c(l.$fetch("numbered",p["$attr?"]("sectnums")))&&(x=[!c(b.$special())||!!c(u=i.$numbered())||u],f(b,"numbered=",t.to_a(x)),x[e(x.length,1)]):c(l.$fetch("numbered",c(u=_)?p["$attr?"]("partnums"):u))&&(x=[!0],f(b,"numbered=",t.to_a(x)),x[e(x.length,1)]),(w=o["$[]"]("id"))["$=="](!1)?o.$delete("id"):(x=[(x=["id",c(u=w)?u:c(p["$attr?"]("sectids"))?$(O,"Section").$generate_id(b.$title(),p):s],f(o,"[]=",t.to_a(x)),x[e(x.length,1)])],f(b,"id=",t.to_a(x)),x[e(x.length,1)]),b.$update_attributes(o),b},y.$$arity=-4),t.def(E,"$create_block",m=function(t,e,n,r,i){return null==i&&(i=d([],{})),$(O,"Block").$new(t,e,d(["source","attributes"],{source:n,attributes:r}).$merge(i))},m.$$arity=-5),t.def(E,"$create_list",g=function(t,e,n){var r=s;return null==n&&(n=s),r=$(O,"List").$new(t,e),c(n)&&r.$update_attributes(n),r},g.$$arity=-3),t.def(E,"$create_list_item",v=function(t,e){return null==e&&(e=s),$(O,"ListItem").$new(t,e)},v.$$arity=-2),t.def(E,"$create_image_block",b=function(n,r,i){var a,l,u=s,_=s;return null==i&&(i=d([],{})),c(a=r["$[]"]("target"))||this.$raise(o("::","ArgumentError"),"Unable to create an image block, target attribute is required"),c(r["$[]"]("alt"))||(u=["alt",(u=["default-alt",$(O,"Helpers").$basename(a,!0).$tr("_-"," ")],f(r,"[]=",t.to_a(u)),u[e(u.length,1)])],f(r,"[]=",t.to_a(u)),u[e(u.length,1)]),l=c(r["$key?"]("title"))?r.$delete("title"):s,_=this.$create_block(n,"image",s,r,i),c(l)&&(u=[l],f(_,"title=",t.to_a(u)),u[e(u.length,1)],_.$assign_caption(r.$delete("caption"),"figure")),_},b.$$arity=-3),t.def(E,"$create_inline",x=function(t,e,n,r){return null==r&&(r=d([],{})),$(O,"Inline").$new(t,e,n,e["$=="]("quoted")?d(["type"],{type:"unquoted"}).$merge(r):r)},x.$$arity=-4),t.def(E,"$parse_content",w=function(t,e,n){var r;return null==n&&(n=s),r=c($(O,"Reader")["$==="](e))?e:$(O,"Reader").$new(e),$(O,"Parser").$parse_blocks(r,t,n),t},w.$$arity=-3),t.def(E,"$parse_attributes",k=function(t,e,n){var r;return null==n&&(n=d([],{})),c(!c(e)||e["$empty?"]())?d([],{}):(c(c(r=n["$[]"]("sub_attributes"))?e["$include?"]($(O,"ATTR_REF_HEAD")):r)&&(e=t.$sub_attributes(e)),$(O,"AttributeList").$new(e).$parse(c(r=n["$[]"]("positional_attributes"))?r:[]))},k.$$arity=-3),f([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],((A=function(e,n,r){var i,a=A.$$s||this;return null==e&&(e=s),null==n&&(n=s),null==r&&(r=s),f(a,"define_method",[e],((i=function(e){var a,s=i.$$s||this;return(a=t.slice.call(arguments,0,arguments.length)).$unshift(a.$shift(),r),f(s,"send",[n].concat(t.to_a(a)))}).$$s=a,i.$$arity=-1,i))}).$$s=E,A.$$arity=3,A))}(y[0],0,y),function(n,r){var i,a,$,u=l(n,"ProcessorDsl");[u].concat(r),t.def(u,"$option",i=function(n,r){var i;return i=[n,r],f(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},i.$$arity=2),t.def(u,"$process",a=function(e){var n,r,i,$=a.$$p,l=$||s,u=this,d=s;return null==u.process_block&&(u.process_block=s),$&&(a.$$p=null),$&&(a.$$p=null),n=t.slice.call(arguments,0,arguments.length),l!==s?(c(n["$empty?"]())||u.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),c(c(r=l.$binding())?u["$=="](l.$binding().$receiver()):r)||(d=u,f(l,"define_singleton_method",["call"],((i=function(e){var n;return i.$$s,n=t.slice.call(arguments,0,arguments.length),f(d,"instance_exec",t.to_a(n),l.$to_proc())}).$$s=u,i.$$arity=-1,i))),u.process_block=l):c(null!=(r=u.process_block)&&r!==s?"instance-variable":s)?f(u.process_block,"call",t.to_a(n)):u.$raise(o("::","NotImplementedError"),u.$class()+" #process method called before being registered")},a.$$arity=-1),t.def(u,"$process_block_given?",$=function(){var t;return null!=(t=this.process_block)&&t!==s?"instance-variable":s},$.$$arity=0)}(y[0],y),function(e,n){var r,i=l(e,"DocumentProcessorDsl"),a=[i].concat(n);i.$include($(a,"ProcessorDsl")),t.def(i,"$prefer",r=function(){return this.$option("position",">>")},r.$$arity=0)}(y[0],y),function(n,i){var a,u,_,p,h,y=l(n,"SyntaxProcessorDsl"),m=[y].concat(i);y.$include($(m,"ProcessorDsl")),t.def(y,"$named",a=function(t){return c($(m,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},a.$$arity=1),t.def(y,"$content_model",u=function(t){return this.$option("content_model",t)},u.$$arity=1),t.alias(y,"parse_content_as","content_model"),t.def(y,"$positional_attributes",_=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),r.$option("positional_attrs",n.$flatten())},_.$$arity=-1),t.alias(y,"name_positional_attributes","positional_attributes"),t.alias(y,"positional_attrs","positional_attributes"),t.def(y,"$default_attributes",p=function(t){return this.$option("default_attrs",t)},p.$$arity=1),t.alias(y,"default_attrs","default_attributes"),t.def(y,"$resolve_attributes",h=function(n){var i,a,$,l,u,_=this,p=s,h=s,y=s;return i=t.slice.call(arguments,0,arguments.length),c(r((a=i).$size(),1))||c((a=a.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(a=[a]),(!0)["$==="](p=a)?(_.$option("positional_attrs",[]),_.$option("default_attrs",d([],{}))):o("::","Array")["$==="](p)?($=[[],d([],{})],h=$[0],y=$[1],f(a,"each",[],((l=function(n){l.$$s;var r,i,a=s,o=s,$=s,u=s;return null==n&&(n=s),c((n=n.$to_s())["$include?"]("="))?(i=n.$partition("="),a=null==(r=t.to_ary(i))[0]?s:r[0],null==r[1]||r[1],o=null==r[2]?s:r[2],c(a["$include?"](":"))&&(i=a.$partition(":"),r=t.to_ary(i),$=null==r[0]?s:r[0],null==r[1]||r[1],a=null==r[2]?s:r[2],u=[$=$["$=="]("@")?h.$size():$.$to_i(),a],f(h,"[]=",t.to_a(u)),u[e(u.length,1)]),u=[a,o],f(y,"[]=",t.to_a(u)),u[e(u.length,1)]):c(n["$include?"](":"))?(i=n.$partition(":"),r=t.to_ary(i),$=null==r[0]?s:r[0],null==r[1]||r[1],a=null==r[2]?s:r[2],u=[$=$["$=="]("@")?h.$size():$.$to_i(),a],f(h,"[]=",t.to_a(u)),u[e(u.length,1)]):h["$<<"](n)}).$$s=_,l.$$arity=1,l)),_.$option("positional_attrs",h.$compact()),_.$option("default_attrs",y)):o("::","Hash")["$==="](p)?($=[[],d([],{})],h=$[0],y=$[1],f(a,"each",[],((u=function(n,r){u.$$s;var i,a,o=s,$=s,l=s;return null==n&&(n=s),null==r&&(r=s),c((o=n.$to_s())["$include?"](":"))&&(a=o.$partition(":"),i=t.to_ary(a),$=null==i[0]?s:i[0],null==i[1]||i[1],o=null==i[2]?s:i[2],l=[$=$["$=="]("@")?h.$size():$.$to_i(),o],f(h,"[]=",t.to_a(l)),l[e(l.length,1)]),c(r)?(l=[o,r],f(y,"[]=",t.to_a(l)),l[e(l.length,1)]):s}).$$s=_,u.$$arity=2,u)),_.$option("positional_attrs",h.$compact()),_.$option("default_attrs",y)):_.$raise(o("::","ArgumentError"),"unsupported attributes specification for macro: "+a.$inspect())},h.$$arity=-1),t.alias(y,"resolves_attributes","resolve_attributes")}(y[0],y),function(e,n,r){var i,a=u(e,n,"Preprocessor"),s=[a].concat(r);t.def(a,"$process",i=function(t,e){return this.$raise(o("::","NotImplementedError"),$(s,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=2)}(y[0],$(y,"Processor"),y),t.const_set($(y,"Preprocessor"),"DSL",$(y,"DocumentProcessorDsl")),function(e,n,r){var i,a=u(e,n,"TreeProcessor"),s=[a].concat(r);t.def(a,"$process",i=function(t){return this.$raise(o("::","NotImplementedError"),$(s,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=1)}(y[0],$(y,"Processor"),y),t.const_set($(y,"TreeProcessor"),"DSL",$(y,"DocumentProcessorDsl")),t.const_set(y[0],"Treeprocessor",$(y,"TreeProcessor")),function(e,n,r){var i,a=u(e,n,"Postprocessor"),s=[a].concat(r);t.def(a,"$process",i=function(t,e){return this.$raise(o("::","NotImplementedError"),$(s,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=2)}(y[0],$(y,"Processor"),y),t.const_set($(y,"Postprocessor"),"DSL",$(y,"DocumentProcessorDsl")),function(e,n,r){var i,a,s=u(e,n,"IncludeProcessor"),l=[s].concat(r);t.def(s,"$process",i=function(t,e,n,r){return this.$raise(o("::","NotImplementedError"),$(l,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=4),t.def(s,"$handles?",a=function(t){return!0},a.$$arity=1)}(y[0],$(y,"Processor"),y),function(e,n){var r,i=l(e,"IncludeProcessorDsl"),a=[i].concat(n);i.$include($(a,"DocumentProcessorDsl")),t.def(i,"$handles?",r=function(e){var n,i,a=r.$$p,$=a||s,l=this;return null==l.handles_block&&(l.handles_block=s),a&&(r.$$p=null),a&&(r.$$p=null),n=t.slice.call(arguments,0,arguments.length),$!==s?(c(n["$empty?"]())||l.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),l.handles_block=$):!c((i=l.handles_block,null!=i&&i!==s?"instance-variable":s))||l.handles_block.$call(n["$[]"](0))},r.$$arity=-1)}(y[0],y),t.const_set($(y,"IncludeProcessor"),"DSL",$(y,"IncludeProcessorDsl")),function(n,r,i){var a,l,_=u(n,r,"DocinfoProcessor"),p=[_].concat(i);_.$$prototype.config=s,t.def(_,"$initialize",a=function(n){var r,i=a.$$p,o=s;return i&&(a.$$p=null),null==n&&(n=d([],{})),f(this,t.find_super_dispatcher(this,"initialize",a,!1),[n],null),c(r=this.config["$[]"]("location"))?r:(o=["location","head"],f(this.config,"[]=",t.to_a(o)),o[e(o.length,1)])},a.$$arity=-1),t.def(_,"$process",l=function(t){return this.$raise(o("::","NotImplementedError"),$(p,"DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1)}(y[0],$(y,"Processor"),y),function(e,n){var r,i=l(e,"DocinfoProcessorDsl"),a=[i].concat(n);i.$include($(a,"DocumentProcessorDsl")),t.def(i,"$at_location",r=function(t){return this.$option("location",t)},r.$$arity=1)}(y[0],y),t.const_set($(y,"DocinfoProcessor"),"DSL",$(y,"DocinfoProcessorDsl")),function(n,r,i){var a,l,_=u(n,r,"BlockProcessor"),p=[_].concat(i);_.$$prototype.config=s,_.$attr_accessor("name"),t.def(_,"$initialize",a=function(n,r){var i,$,l=a.$$p,u=s;return l&&(a.$$p=null),null==n&&(n=s),null==r&&(r=d([],{})),f(this,t.find_super_dispatcher(this,"initialize",a,!1),[r],null),this.name=c(i=n)?i:this.config["$[]"]("name"),$=this.config["$[]"]("contexts"),o("::","NilClass")["$==="]($)?c(i=this.config["$[]"]("contexts"))||(u=["contexts",["open","paragraph"].$to_set()],f(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]):o("::","Symbol")["$==="]($)?(u=["contexts",[this.config["$[]"]("contexts")].$to_set()],f(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]):(u=["contexts",this.config["$[]"]("contexts").$to_set()],f(this.config,"[]=",t.to_a(u)),u[e(u.length,1)]),c(i=this.config["$[]"]("content_model"))?i:(u=["content_model","compound"],f(this.config,"[]=",t.to_a(u)),u[e(u.length,1)])},a.$$arity=-1),t.def(_,"$process",l=function(t,e,n){return this.$raise(o("::","NotImplementedError"),$(p,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(y[0],$(y,"Processor"),y),function(e,n){var r,i=l(e,"BlockProcessorDsl"),a=[i].concat(n);i.$include($(a,"SyntaxProcessorDsl")),t.def(i,"$contexts",r=function(e){var n,r=this;return n=t.slice.call(arguments,0,arguments.length),r.$option("contexts",n.$flatten().$to_set())},r.$$arity=-1),t.alias(i,"on_contexts","contexts"),t.alias(i,"on_context","contexts"),t.alias(i,"bind_to","contexts")}(y[0],y),t.const_set($(y,"BlockProcessor"),"DSL",$(y,"BlockProcessorDsl")),function(n,r,i){var a,l,_=u(n,r,"MacroProcessor"),p=[_].concat(i);_.$$prototype.config=s,_.$attr_accessor("name"),t.def(_,"$initialize",a=function(n,r){var i,o=a.$$p,$=s;return o&&(a.$$p=null),null==n&&(n=s),null==r&&(r=d([],{})),f(this,t.find_super_dispatcher(this,"initialize",a,!1),[r],null),this.name=c(i=n)?i:this.config["$[]"]("name"),c(i=this.config["$[]"]("content_model"))?i:($=["content_model","attributes"],f(this.config,"[]=",t.to_a($)),$[e($.length,1)])},a.$$arity=-1),t.def(_,"$process",l=function(t,e,n){return this.$raise(o("::","NotImplementedError"),$(p,"MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(y[0],$(y,"Processor"),y),function(e,n){var r,i=l(e,"MacroProcessorDsl"),a=[i].concat(n);i.$include($(a,"SyntaxProcessorDsl")),t.def(i,"$resolve_attributes",r=function(e){var n,i,a=r.$$p,o=this,$=s,l=s,u=s;for(a&&(r.$$p=null),l=0,u=arguments.length,$=new Array(u);l<u;l++)$[l]=arguments[l];return n=t.slice.call(arguments,0,arguments.length),c((i=n).$size()["$=="](1)?i["$[]"](0)["$!"]():i.$size()["$=="](1))?o.$option("content_model","text"):(f(o,t.find_super_dispatcher(o,"resolve_attributes",r,!1),$,a),o.$option("content_model","attributes"))},r.$$arity=-1),t.alias(i,"resolves_attributes","resolve_attributes")}(y[0],y),function(e,n,r){var i,a=u(e,n,"BlockMacroProcessor"),l=[a].concat(r);a.$$prototype.name=s,t.def(a,"$name",i=function(){return c($(l,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(o("::","ArgumentError"),"invalid name for block macro: "+this.name),this.name},i.$$arity=0)}(y[0],$(y,"MacroProcessor"),y),t.const_set($(y,"BlockMacroProcessor"),"DSL",$(y,"MacroProcessorDsl")),function(n,r,i){var a,l,_=u(n,r,"InlineMacroProcessor"),p=[_].concat(i);_.$$prototype.config=_.$$prototype.name=s,t.class_variable_set(p[0],"@@rx_cache",d([],{})),t.def(_,"$regexp",a=function(){var n,r=s;return c(n=this.config["$[]"]("regexp"))?n:(r=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],f(this.config,"[]=",t.to_a(r)),r[e(r.length,1)])},a.$$arity=0),t.def(_,"$resolve_regexp",l=function(n,r){var i,a,l=s;return c($(p,"MacroNameRx")["$match?"](n))||this.$raise(o("::","ArgumentError"),"invalid name for inline macro: "+n),c(i=(null==(a=p[0].$$cvars["@@rx_cache"])?s:a)["$[]"]([n,r]))?i:(l=[[n,r],new RegExp("\\\\?"+n+":"+(r["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+$(p,"CC_ANY")+"*?[^\\\\])\\]")],f(null==(a=p[0].$$cvars["@@rx_cache"])?s:a,"[]=",t.to_a(l)),l[e(l.length,1)])},l.$$arity=2)}(y[0],$(y,"MacroProcessor"),y),function(e,n){var r,i,a=l(e,"InlineMacroProcessorDsl"),s=[a].concat(n);a.$include($(s,"MacroProcessorDsl")),t.def(a,"$format",r=function(t){return this.$option("format",t)},r.$$arity=1),t.alias(a,"match_format","format"),t.alias(a,"using_format","format"),t.def(a,"$match",i=function(t){return this.$option("regexp",t)},i.$$arity=1)}(y[0],y),t.const_set($(y,"InlineMacroProcessor"),"DSL",$(y,"InlineMacroProcessorDsl")),function(e,n,r){var i,a=u(e,null,"Extension");[a].concat(r),a.$attr_reader("kind"),a.$attr_reader("config"),a.$attr_reader("instance"),t.def(a,"$initialize",i=function(t,e,n){return this.kind=t,this.instance=e,this.config=n},i.$$arity=3)}(y[0],0,y),function(e,n,r){var i,a=u(e,n,"ProcessorExtension");[a].concat(r),a.$attr_reader("process_method"),t.def(a,"$initialize",i=function(e,n,r){var a,o=i.$$p;return o&&(i.$$p=null),null==r&&(r=s),f(this,t.find_super_dispatcher(this,"initialize",i,!1),[e,n,n.$config()],null),this.process_method=c(a=r)?a:n.$method("process")},i.$$arity=-3)}(y[0],$(y,"Extension"),y),function(e,n,r){var i,a=u(e,null,"Group"),l=[a].concat(r);(function(e,n){var r,i=[e].concat(n);t.def(e,"$register",r=function(t){return null==t&&(t=s),$(i,"Extensions").$register(t,this)},r.$$arity=-1)})(t.get_singleton_class(a),l),t.def(a,"$activate",i=function(t){return this.$raise(o("::","NotImplementedError"))},i.$$arity=1)}(y[0],0,y),function(a,l,_){var p,h,y,m,g,v,b,x,w,k,A,E,O,S,R,C,I,T,L,M,P,N,B,D,z,F,j,q,U,H,Y,G,W,V,X,K=u(a,null,"Registry"),J=[K].concat(_);K.$$prototype.groups=K.$$prototype.preprocessor_extensions=K.$$prototype.tree_processor_extensions=K.$$prototype.postprocessor_extensions=K.$$prototype.include_processor_extensions=K.$$prototype.docinfo_processor_extensions=K.$$prototype.block_extensions=K.$$prototype.block_macro_extensions=K.$$prototype.inline_macro_extensions=s,K.$attr_reader("document"),K.$attr_reader("groups"),t.def(K,"$initialize",p=function(t){return null==t&&(t=d([],{})),this.groups=t,this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=s,this.document=s},p.$$arity=-1),t.def(K,"$activate",h=function(t){var e,r=s;return this.document=t,c((r=n($(J,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||f(r,"each",[],((e=function(t){var n=e.$$s||this,r=s;return null==t&&(t=s),r=t,o("::","Proc")["$==="](r)?(r=t.$arity(),(0)["$==="](r)||(-1)["$==="](r)?f(n,"instance_exec",[],t.$to_proc()):1["$==="](r)?t.$call(n):s):o("::","Class")["$==="](r)?t.$new().$activate(n):t.$activate(n)}).$$s=this,e.$$arity=1,e)),this},h.$$arity=1),t.def(K,"$preprocessor",y=function(e){var n,r=y.$$p,i=r||s,a=this;return r&&(y.$$p=null),r&&(y.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_document_processor",["preprocessor",n],i.$to_proc())},y.$$arity=-1),t.def(K,"$preprocessors?",m=function(){return this.preprocessor_extensions["$!"]()["$!"]()},m.$$arity=0),t.def(K,"$preprocessors",g=function(){return this.preprocessor_extensions},g.$$arity=0),t.def(K,"$tree_processor",v=function(e){var n,r=v.$$p,i=r||s,a=this;return r&&(v.$$p=null),r&&(v.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_document_processor",["tree_processor",n],i.$to_proc())},v.$$arity=-1),t.def(K,"$tree_processors?",b=function(){return this.tree_processor_extensions["$!"]()["$!"]()},b.$$arity=0),t.def(K,"$tree_processors",x=function(){return this.tree_processor_extensions},x.$$arity=0),t.alias(K,"treeprocessor","tree_processor"),t.alias(K,"treeprocessors?","tree_processors?"),t.alias(K,"treeprocessors","tree_processors"),t.def(K,"$postprocessor",w=function(e){var n,r=w.$$p,i=r||s,a=this;return r&&(w.$$p=null),r&&(w.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_document_processor",["postprocessor",n],i.$to_proc())},w.$$arity=-1),t.def(K,"$postprocessors?",k=function(){return this.postprocessor_extensions["$!"]()["$!"]()},k.$$arity=0),t.def(K,"$postprocessors",A=function(){return this.postprocessor_extensions},A.$$arity=0),t.def(K,"$include_processor",E=function(e){var n,r=E.$$p,i=r||s,a=this;return r&&(E.$$p=null),r&&(E.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_document_processor",["include_processor",n],i.$to_proc())},E.$$arity=-1),t.def(K,"$include_processors?",O=function(){return this.include_processor_extensions["$!"]()["$!"]()},O.$$arity=0),t.def(K,"$include_processors",S=function(){return this.include_processor_extensions},S.$$arity=0),t.def(K,"$docinfo_processor",R=function(e){var n,r=R.$$p,i=r||s,a=this;return r&&(R.$$p=null),r&&(R.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_document_processor",["docinfo_processor",n],i.$to_proc())},R.$$arity=-1),t.def(K,"$docinfo_processors?",C=function(t){var e;return null==t&&(t=s),!!c(this.docinfo_processor_extensions)&&(!c(t)||f(this.docinfo_processor_extensions,"any?",[],((e=function(n){return e.$$s,null==n&&(n=s),n.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)))},C.$$arity=-1),t.def(K,"$docinfo_processors",I=function(t){var e;return null==t&&(t=s),c(this.docinfo_processor_extensions)?c(t)?f(this.docinfo_processor_extensions,"select",[],((e=function(n){return e.$$s,null==n&&(n=s),n.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:s},I.$$arity=-1),t.def(K,"$block",T=function(e){var n,r=T.$$p,i=r||s,a=this;return r&&(T.$$p=null),r&&(T.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_syntax_processor",["block",n],i.$to_proc())},T.$$arity=-1),t.def(K,"$blocks?",L=function(){return this.block_extensions["$!"]()["$!"]()},L.$$arity=0),t.def(K,"$registered_for_block?",M=function(t,e){var n=s;return!!c(n=this.block_extensions["$[]"](t.$to_sym()))&&!!c(n.$config()["$[]"]("contexts")["$include?"](e))&&n},M.$$arity=2),t.def(K,"$find_block_extension",P=function(t){return this.block_extensions["$[]"](t.$to_sym())},P.$$arity=1),t.def(K,"$block_macro",N=function(e){var n,r=N.$$p,i=r||s,a=this;return r&&(N.$$p=null),r&&(N.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_syntax_processor",["block_macro",n],i.$to_proc())},N.$$arity=-1),t.def(K,"$block_macros?",B=function(){return this.block_macro_extensions["$!"]()["$!"]()},B.$$arity=0),t.def(K,"$registered_for_block_macro?",D=function(t){var e;return!!c(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},D.$$arity=1),t.def(K,"$find_block_macro_extension",z=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},z.$$arity=1),t.def(K,"$inline_macro",F=function(e){var n,r=F.$$p,i=r||s,a=this;return r&&(F.$$p=null),r&&(F.$$p=null),n=t.slice.call(arguments,0,arguments.length),f(a,"add_syntax_processor",["inline_macro",n],i.$to_proc())},F.$$arity=-1),t.def(K,"$inline_macros?",j=function(){return this.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.def(K,"$registered_for_inline_macro?",q=function(t){var e;return!!c(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},q.$$arity=1),t.def(K,"$find_inline_macro_extension",U=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},U.$$arity=1),t.def(K,"$inline_macros",H=function(){return this.inline_macro_extensions.$values()},H.$$arity=0),t.def(K,"$prefer",Y=function(e){var n,r,i=Y.$$p,a=i||s,o=this,l=s,u=s,d=s;return i&&(Y.$$p=null),i&&(Y.$$p=null),n=t.slice.call(arguments,0,arguments.length),r=n,l=c($(J,"ProcessorExtension")["$==="](u=r.$shift()))?u:f(o,"send",[u].concat(t.to_a(r)),a.$to_proc()),(d=o.$instance_variable_get(("@"+l.$kind()+"_extensions").$to_sym())).$unshift(d.$delete(l)),l},Y.$$arity=-1),K.$private(),t.def(K,"$add_document_processor",G=function(e,n){var r,a,l,u,d=G.$$p,_=d||s,p=this,h=s,y=s,m=s,g=s,v=s,b=s,x=s,w=s,k=s;return d&&(G.$$p=null),d&&(G.$$p=null),h=e.$to_s().$tr("_"," "),u=f(h.$split(),"map",[],(r=function(t){return r.$$s,null==t&&(t=s),t.$capitalize()},r.$$s=p,r.$$arity=1,r)).$join().$to_sym(),y=$(J,"Extensions").$const_get(u,!1),m=c(o("::","AsciidoctorJ","skip_raise")?"constant":s)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(u,!1):s,g=c(a=p.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?a:p.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(v=_!==s?(b=p.$resolve_args(n,1),(x=y.$new(b)).$singleton_class().$enable_dsl(),_.$arity()["$=="](0)?f(x,"instance_exec",[],_.$to_proc()):t.yield1(_,x),c(x["$process_block_given?"]())||p.$raise(o("::","ArgumentError"),"No block specified to process "+h+" extension at "+_.$source_location()),x.$freeze(),$(J,"ProcessorExtension").$new(e,x)):(l=p.$resolve_args(n,2),a=t.to_ary(l),x=null==a[0]?s:a[0],b=null==a[1]?s:a[1],c(w=$(J,"Helpers").$resolve_class(x))?(c(c(a=i(w,y))?a:c(l=m)?i(w,m):l)||p.$raise(o("::","ArgumentError"),"Invalid type for "+h+" extension: "+x),(k=w.$new(b)).$freeze(),$(J,"ProcessorExtension").$new(e,k)):c(c(a=y["$==="](x))?a:c(l=m)?m["$==="](x):l)?(x.$update_config(b),x.$freeze(),$(J,"ProcessorExtension").$new(e,x)):p.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+h+" extension: "+n))).$config()["$[]"]("position")["$=="](">>")?g.$unshift(v):g["$<<"](v),v},G.$$arity=2),t.def(K,"$add_syntax_processor",W=function(n,r){var a,l,u,_,p,h=W.$$p,y=h||s,m=this,g=s,v=s,b=s,x=s,w=s,k=s,A=s,E=s,O=s;return h&&(W.$$p=null),h&&(W.$$p=null),g=n.$to_s().$tr("_"," "),_=f(g.$split(),"map",[],(a=function(t){return a.$$s,null==t&&(t=s),t.$capitalize()},a.$$s=m,a.$$arity=1,a))["$<<"]("Processor").$join().$to_sym(),v=$(J,"Extensions").$const_get(_,!1),b=c(o("::","AsciidoctorJ","skip_raise")?"constant":s)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(_,!1):s,p=c(l=m.$instance_variable_get(("@"+n+"_extensions").$to_sym()))?l:m.$instance_variable_set(("@"+n+"_extensions").$to_sym(),d([],{})),y!==s?(u=m.$resolve_args(r,2),l=t.to_ary(u),x=null==l[0]?s:l[0],w=null==l[1]?s:l[1],(k=v.$new(m.$as_symbol(x),w)).$singleton_class().$enable_dsl(),y.$arity()["$=="](0)?f(k,"instance_exec",[],y.$to_proc()):t.yield1(y,k),c(x=m.$as_symbol(k.$name()))||m.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension at "+y.$source_location()),c(k["$process_block_given?"]())||m.$raise(o("::","NoMethodError"),"No block specified to process "+g+" extension at "+y.$source_location()),k.$freeze(),A=[x,$(J,"ProcessorExtension").$new(n,k)],f(p,"[]=",t.to_a(A)),A[e(A.length,1)]):(u=m.$resolve_args(r,3),l=t.to_ary(u),k=null==l[0]?s:l[0],x=null==l[1]?s:l[1],w=null==l[2]?s:l[2],c(E=$(J,"Helpers").$resolve_class(k))?(c(c(l=i(E,v))?l:c(u=b)?i(E,b):u)||m.$raise(o("::","ArgumentError"),"Class specified for "+g+" extension does not inherit from "+v+": "+k),O=E.$new(m.$as_symbol(x),w),c(x=m.$as_symbol(O.$name()))||m.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension: "+k),O.$freeze(),A=[x,$(J,"ProcessorExtension").$new(n,O)],f(p,"[]=",t.to_a(A)),A[e(A.length,1)]):c(c(l=v["$==="](k))?l:c(u=b)?b["$==="](k):u)?(k.$update_config(w),c(x=c(x)?(A=[m.$as_symbol(x)],f(k,"name=",t.to_a(A)),A[e(A.length,1)]):m.$as_symbol(k.$name()))||m.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension: "+k),k.$freeze(),A=[x,$(J,"ProcessorExtension").$new(n,k)],f(p,"[]=",t.to_a(A)),A[e(A.length,1)]):m.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+g+" extension: "+r))},W.$$arity=2),t.def(K,"$resolve_args",V=function(t,a){var $,l=s;return $=c(o("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():d([],{}),a["$=="](1)?$:(c(r(l=e(e(a,1),t.$size()),0))?t=n(t,o("::","Array").$new(l)):c(i(l,0))&&t.$pop(l["$-@"]()),t["$<<"]($),t)},V.$$arity=2),t.def(K,"$as_symbol",X=function(t){return c(t)?t.$to_sym():s},X.$$arity=1)}(y[0],0,y),function(r,i){var a,l,u,p,h,y,m,g=[r].concat(i);t.def(r,"$generate_name",a=function(){return"extgrp"+this.$next_auto_id()},a.$$arity=0),t.def(r,"$next_auto_id",l=function(){var t;return null==this.auto_id&&(this.auto_id=s),this.auto_id=c(t=this.auto_id)?t:-1,this.auto_id=n(this.auto_id,1)},l.$$arity=0),t.def(r,"$groups",u=function(){var t;return null==this.groups&&(this.groups=s),this.groups=c(t=this.groups)?t:d([],{})},u.$$arity=0),t.def(r,"$create",p=function(t){var e,n=p.$$p,r=n||s;return n&&(p.$$p=null),n&&(p.$$p=null),null==t&&(t=s),r!==s?$(g,"Registry").$new(_(c(e=t)?e:this.$generate_name(),r)):$(g,"Registry").$new()},p.$$arity=-1),t.def(r,"$register",h=function(n){var r,i,a=h.$$p,l=a||s,u=this,d=s,_=s,p=s,y=s,m=s;return a&&(h.$$p=null),a&&(h.$$p=null),d=(r=t.slice.call(arguments,0,arguments.length)).$size(),l!==s?_=l:c(p=r.$pop())?_=c(i=$(g,"Helpers").$resolve_class(p))?i:p:u.$raise(o("::","ArgumentError"),"Extension group to register not specified"),y=c(i=r.$pop())?i:u.$generate_name(),c(r["$empty?"]())||u.$raise(o("::","ArgumentError"),"Wrong number of arguments ("+d+" for 1..2)"),m=[y.$to_sym(),_],f(u.$groups(),"[]=",t.to_a(m)),m[e(m.length,1)]},h.$$arity=-1),t.def(r,"$unregister_all",y=function(){return this.groups=d([],{}),s},y.$$arity=0),t.def(r,"$unregister",m=function(e){var n,r,i=this;return n=t.slice.call(arguments,0,arguments.length),f(n,"each",[],((r=function(t){var e=r.$$s||this;return null==e.groups&&(e.groups=s),null==t&&(t=s),e.groups.$delete(t.$to_sym())}).$$s=i,r.$$arity=1,r)),s},m.$$arity=-1)}(t.get_singleton_class(h),y)}(h[0],h)}(a[0],a)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(t){t.top;var e=[],n=t.nil,r=t.const_get_qualified,i=(t.const_get_relative,t.breaker,t.slice,t.module),a=t.klass,s=t.truthy;return t.add_stubs(["$rstrip","$read","$join"]),function(e,o){var $=[i(e,"Asciidoctor")].concat(o);!function(e,i,o){var $,l=a(e,null,"Stylesheets");[l].concat(o),l.$$prototype.primary_stylesheet_data=n,t.def(l,"$primary_stylesheet_data",$=function(){var t;return this.primary_stylesheet_data=s(t=this.primary_stylesheet_data)?t:r("::","IO").$read(r("::","File").$join("css","asciidoctor.css")).$rstrip()},$.$$arity=0)}($[0],0,$)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative),r=(t.breaker,t.slice,t.module),i=t.klass;return function(e,a){var s=[r(e,"Asciidoctor")].concat(a);!function(e,n,r){var a,s=i(e,n,"Document");[s].concat(r),t.def(s,"$fill_datetime_attributes",a=function(e,n){var r,i,a=t.truthy,s=t.falsy,o=t.nil,$=function(t,e){return 0===e?t.getUTCFullYear():t.getFullYear()},l=function(t,e){return 0===e?t.getUTCMonth():t.getMonth()},u=function(t,e){return 0===e?t.getUTCDate():t.getDate()},c=function(t,e){return 0===e?t.getUTCHours():t.getHours()},d=new Date;if(t.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(d.setTime(1e3*parseInt(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),i=d,r=0):r=-d.getTimezoneOffset()/60,a(localdate=e["$[]"]("localdate")))s(localyear=e["$[]"]("localyear"))&&(localyear=4===localdate.indexOf("-")?localdate.substring(0,4):o,e["$[]="]("localyear",localyear));else{var f=$(d,r).toString(),_=("0"+(l(d,r)+1)).slice(-2),p=("0"+u(d,r)).slice(-2);localdate=f+"-"+_+"-"+p,e["$[]="]("localdate",localdate),localyear=f,e["$[]="]("localyear",f)}if(s(localtime=e["$[]"]("localtime"))){var h,y=("0"+c(d,r)).slice(-2),m=("0"+d.getMinutes()).slice(-2),g=("0"+d.getSeconds()).slice(-2);h=0===r?"UTC":r>0?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5),localtime=y+":"+m+":"+g+" "+h,e["$[]="]("localtime",localtime)}if(s(localdatetime=e["$[]"]("localdatetime"))&&(localdatetime=localdate+" "+localtime,e["$[]="]("localdatetime",localdatetime)),a(i)?n=i:a(n)?r=-n.getTimezoneOffset()/60:n=d,a(docdate=e["$[]"]("docdate")))e["$[]="]("docyear",4===docdate.indexOf("-")?docdate.substring(0,4):o);else{var v=$(n,r).toString(),b=("0"+(l(n,r)+1)).slice(-2),x=("0"+u(n,r)).slice(-2);docdate=v+"-"+b+"-"+x,e["$[]="]("docdate",docdate),s(e["$[]"]("docyear"))&&e["$[]="]("docyear",v)}if(s(doctime=e["$[]"]("doctime"))){var w=("0"+c(n,r)).slice(-2),k=("0"+n.getMinutes()).slice(-2),A=("0"+n.getSeconds()).slice(-2);h=0===r?"UTC":r>0?("+0"+100*r).slice(-5):("-0"+100*-r).slice(-5),doctime=w+":"+k+":"+A+" "+h,e["$[]="]("doctime",doctime)}return s(e["$[]"]("docdatetime"))&&e["$[]="]("docdatetime",docdate+" "+doctime),o},a.$$arity=2)}(s[0],n(s,"AbstractBlock"),s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,r){var i=[n(e,"Asciidoctor")].concat(r);!function(e,r){var i,a=n(e,"Substitutors");[a].concat(r),t.def(a,"$sub_placeholder",i=function(t,e){return t.replace("%s",e)},i.$$arity=2)}(i[0],i)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(t){t.top;var e=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),r=t.klass,i=t.truthy;return function(e,a){var s=[n(e,"Asciidoctor")].concat(a);!function(e,n,a){var s,o,$=r(e,null,"Parser");[$].concat(a),i(String.prototype.repeat)?t.defs($,"$uniform?",s=function(t,e,n){return e.repeat(n)===t},s.$$arity=3):t.defs($,"$uniform?",o=function(t,e,n){return Array.apply(null,{length:n}).map((function(){return e})).join("")===t},o.$$arity=3)}(s[0],0,s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$key?","$registry","$[]","$include?","$include","$empty?","$debug","$logger","$join","$keys"]),function(e,s){var o=[i(e,"Asciidoctor")].concat(s);!function(e,s){var o=[i(e,"SyntaxHighlighter")].concat(s);!function(e,s){var o,$=i(e,"Factory"),l=[$].concat(s);t.def($,"$for",o=function(t){return a(this.$registry()["$key?"](t))?this.$registry()["$[]"](t):(a(this["$include?"](r(l,"Logging")))||this.$include(r(l,"Logging")),a(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+t+"' is not available, must be one of: '"+this.$registry().$keys().$join("', '")+"'."),n)},o.$$arity=1)}(o[0],o)}(o[0],o)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),e.$require("asciidoctor/js/asciidoctor_ext/document"),e.$require("asciidoctor/js/asciidoctor_ext/substitutors"),e.$require("asciidoctor/js/asciidoctor_ext/parser"),e.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),e.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(t){t.top;var e=[],n=t.nil,r=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$chr","$rjust","$message_as_string","$<","$write","$call","$[]"]),function(e,s,o){var $,l=i(e,null,"Logger"),u=[l].concat(o);return l.$$prototype.level=l.$$prototype.progname=l.$$prototype.pipe=l.$$prototype.formatter=n,function(e,n,r){var a,s=i(e,null,"Formatter");[s].concat(r),t.def(s,"$call",a=function(t,e,n,r){var i;return i=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),t.$chr()+", ["+i+"] "+t.$rjust(5)+" -- "+n+": "+this.$message_as_string(r)},a.$$arity=4)}(u[0],0,u),t.def(l,"$add",$=function(e,i,s){var o,l,c,d=$.$$p,f=d||n;return d&&($.$$p=null),d&&($.$$p=null),null==i&&(i=n),null==s&&(s=n),a((l=e=a(o=e)?o:r(u,"UNKNOWN"),c=this.level,"number"==typeof l&&"number"==typeof c?l<c:l["$<"](c)))||(s=a(o=s)?o:this.progname,a(i)||(f!==n?i=t.yieldX(f,[]):(i=s,s=this.progname)),this.pipe.$write(this.formatter.$call(a(o=r(u,"SEVERITY_LABELS")["$[]"](e))?o:"ANY",new Date,s,i))),!0},$.$$arity=-2),n&&"add"}(e[0],0,e)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),e.$require("asciidoctor/js/asciidoctor_ext"),e.$require("asciidoctor/js/opal_ext/logger")},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,r=[],i=t.nil,a=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),$=t.send,l=t.hash2,u=t.truthy;t.add_stubs(["$require","$==","$tap","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$singleton_class","$<<","$define","$dirname","$absolute_path","$__dir__","$join","$home","$pwd","$to_set","$chr","$each_key","$slice","$length","$merge","$default=","$drop","$insert"]),n.$require("set"),s(r,"RUBY_ENGINE")["$=="]("opal")&&n.$require("asciidoctor/js"),function(n,r){var c,d,f,_,p,h=o(n,"Asciidoctor"),y=[h].concat(r),m=i;t.const_set(y[0],"RUBY_ENGINE_OPAL",t.const_set(y[0],"RUBY_ENGINE",a("::","RUBY_ENGINE"))["$=="]("opal")),function(n,r){var a,s,u,c,d=o(n,"SafeMode"),f=[d].concat(r);t.const_set(f[0],"UNSAFE",0),t.const_set(f[0],"SAFE",1),t.const_set(f[0],"SERVER",10),t.const_set(f[0],"SECURE",20),d.names_by_value=$(l([],{}),"tap",[],((a=function(n){var r,s=a.$$s||this;return null==n&&(n=i),$(s.$constants(!1),"each",[],((r=function(a){var s,o=r.$$s||this;return null==a&&(a=i),s=[o.$const_get(a,!1),a.$to_s().$downcase()],$(n,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=s,r.$$arity=1,r))}).$$s=d,a.$$arity=1,a)),t.defs(d,"$value_for_name",s=function(t){return this.$const_get(t.$upcase(),!1)},s.$$arity=1),t.defs(d,"$name_for_value",u=function(t){return null==this.names_by_value&&(this.names_by_value=i),this.names_by_value["$[]"](t)},u.$$arity=1),t.defs(d,"$names",c=function(){return null==this.names_by_value&&(this.names_by_value=i),this.names_by_value.$values()},c.$$arity=0)}(y[0],y),function(e,n){var r=o(e,"Compliance"),s=[r].concat(n);r.keys=a("::","Set").$new(),function(e,n){var r;[e].concat(n),e.$attr_reader("keys"),t.def(e,"$define",r=function(t,e){return null==this.keys&&(this.keys=i),this.$instance_variable_set("@"+t,e),this.$singleton_class().$send("attr_accessor",t),this.keys["$<<"](t),i},r.$$arity=2)}(t.get_singleton_class(r),s),r.$define("block_terminates_paragraph",!0),r.$define("strict_verbatim_paragraphs",!0),r.$define("underline_style_section_titles",!0),r.$define("unwrap_standalone_preamble",!0),r.$define("attribute_missing","skip"),r.$define("attribute_undefined","drop-line"),r.$define("shorthand_property_syntax",!0),r.$define("natural_xrefs",!0),r.$define("unique_id_start_index",2),r.$define("markdown_syntax",!0)}(y[0],y),u(s(y,"ROOT_DIR","skip_raise")?"constant":i)||t.const_set(y[0],"ROOT_DIR",a("::","File").$dirname(a("::","File").$absolute_path(h.$__dir__()))),t.const_set(y[0],"LIB_DIR",a("::","File").$join(s(y,"ROOT_DIR"),"lib")),t.const_set(y[0],"DATA_DIR",a("::","File").$join(s(y,"ROOT_DIR"),"data")),t.const_set(y[0],"USER_HOME",function(){try{return a("::","Dir").$home()}catch(e){if(!t.rescue(e,[s(y,"StandardError")]))throw e;try{return u(c=a("::","ENV")["$[]"]("HOME"))?c:a("::","Dir").$pwd()}finally{t.pop_exception()}}}()),t.const_set(y[0],"LF","\n"),t.const_set(y[0],"NULL","\0"),t.const_set(y[0],"TAB","\t"),t.const_set(y[0],"MAX_INT",9007199254740991),t.const_set(y[0],"UTF_8",a(a("::","Encoding"),"UTF_8")),t.const_set(y[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(y[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(y[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(y[0],"FILE_READ_MODE",u(s(y,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),t.const_set(y[0],"URI_READ_MODE",s(y,"FILE_READ_MODE")),t.const_set(y[0],"FILE_WRITE_MODE",u(s(y,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),t.const_set(y[0],"DEFAULT_DOCTYPE","article"),t.const_set(y[0],"DEFAULT_BACKEND","html5"),t.const_set(y[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(y[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(y[0],"BACKEND_ALIASES",l(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(y[0],"DEFAULT_PAGE_WIDTHS",l(["docbook"],{docbook:425})),t.const_set(y[0],"DEFAULT_EXTENSIONS",l(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(y[0],"ASCIIDOC_EXTENSIONS",l([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),t.const_set(y[0],"SETEXT_SECTION_LEVELS",l(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(y[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(y[0],"ADMONITION_STYLE_HEADS",$(a("::","Set").$new(),"tap",[],((d=function(t){var e,n=d.$$s||this;return null==t&&(t=i),$(s(y,"ADMONITION_STYLES"),"each",[],((e=function(n){return e.$$s,null==n&&(n=i),t["$<<"](n.$chr())}).$$s=n,e.$$arity=1,e))}).$$s=h,d.$$arity=1,d))),t.const_set(y[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(y[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(y[0],"DELIMITED_BLOCKS",l(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a("::","Set").$new()],",===":["table",a("::","Set").$new()],":===":["table",a("::","Set").$new()],"!===":["table",a("::","Set").$new()],"////":["comment",a("::","Set").$new()],"```":["fenced_code",a("::","Set").$new()]})),t.const_set(y[0],"DELIMITED_BLOCK_HEADS",$(l([],{}),"tap",[],((f=function(n){var r,a=f.$$s||this;return null==n&&(n=i),$(s(y,"DELIMITED_BLOCKS"),"each_key",[],((r=function(a){var s;return r.$$s,null==a&&(a=i),s=[a.$slice(0,2),!0],$(n,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=a,r.$$arity=1,r))}).$$s=h,f.$$arity=1,f))),t.const_set(y[0],"DELIMITED_BLOCK_TAILS",$(l([],{}),"tap",[],((_=function(n){var r,a=_.$$s||this;return null==n&&(n=i),$(s(y,"DELIMITED_BLOCKS"),"each_key",[],((r=function(a){r.$$s;var s=i;return null==a&&(a=i),a.$length()["$=="](4)?(s=[a,a["$[]"](e(a.$length(),1))],$(n,"[]=",t.to_a(s)),s[e(s.length,1)]):i}).$$s=a,r.$$arity=1,r))}).$$s=h,_.$$arity=1,_))),t.const_set(y[0],"CAPTION_ATTRIBUTE_NAMES",l(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),t.const_set(y[0],"LAYOUT_BREAK_CHARS",l(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(y[0],"MARKDOWN_THEMATIC_BREAK_CHARS",l(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(y[0],"HYBRID_LAYOUT_BREAK_CHARS",s(y,"LAYOUT_BREAK_CHARS").$merge(s(y,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(y[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(y[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(y[0],"ORDERED_LIST_KEYWORDS",l(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(y[0],"ATTR_REF_HEAD","{"),t.const_set(y[0],"LIST_CONTINUATION","+"),t.const_set(y[0],"HARD_LINE_BREAK"," +"),t.const_set(y[0],"LINE_CONTINUATION"," \\"),t.const_set(y[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(y[0],"BLOCK_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(y[0],"INLINE_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),m=["asciimath"],$(t.const_set(y[0],"STEM_TYPE_ALIASES",l(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",t.to_a(m)),m[e(m.length,1)],t.const_set(y[0],"FONT_AWESOME_VERSION","4.7.0"),t.const_set(y[0],"HIGHLIGHT_JS_VERSION","9.18.3"),t.const_set(y[0],"MATHJAX_VERSION","2.7.9"),t.const_set(y[0],"DEFAULT_ATTRIBUTES",l(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),t.const_set(y[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(y[0],"INTRINSIC_ATTRIBUTES",l(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),s(y,"RUBY_ENGINE")["$=="]("opal"),t.const_set(y[0],"QUOTE_SUBS",$(l([],{}),"tap",[],((p=function(n){p.$$s;var r=i,a=i;return null==n&&(n=i),m=[!1,r=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+s(y,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)\\*(?!"+s(y,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+s(y,"CC_ALL")+'*?\\S)`"(?!'+s(y,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)`'(?!"+s(y,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+s(y,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)`(?!["+s(y,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+s(y,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)_(?!"+s(y,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+s(y,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)#(?!"+s(y,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]],$(n,"[]=",t.to_a(m)),m[e(m.length,1)],m=[!0,a=r.$drop(0)],$(n,"[]=",t.to_a(m)),m[e(m.length,1)],m=[2,["double","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)''(?!"+s(y,"CG_WORD")+")","m")]],$(a,"[]=",t.to_a(m)),m[e(m.length,1)],m=[3,["single","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)'(?!"+s(y,"CG_WORD")+")","m")]],$(a,"[]=",t.to_a(m)),m[e(m.length,1)],m=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+s(y,"CC_ALL")+"+?)\\+\\+","m")]],$(a,"[]=",t.to_a(m)),m[e(m.length,1)],m=[5,["monospaced","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)\\+(?!"+s(y,"CG_WORD")+")","m")]],$(a,"[]=",t.to_a(m)),m[e(m.length,1)],a.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+s(y,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+s(y,"CC_ALL")+"*?\\S)'(?!"+s(y,"CG_WORD")+")","m")])}).$$s=h,p.$$arity=1,p))),t.const_set(y[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+s(y,"CG_WORD")+")\\\\?--(?="+s(y,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+s(y,"CG_ALNUM")+")\\\\?'(?="+s(y,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),s(y,"RUBY_ENGINE")["$=="]("opal"),s(y,"RUBY_ENGINE")["$=="]("opal")}(r[0],r),n.$require("asciidoctor.rb/../asciidoctor/core_ext"),n.$require("asciidoctor.rb/../asciidoctor/helpers"),n.$require("asciidoctor.rb/../asciidoctor/logging"),n.$require("asciidoctor.rb/../asciidoctor/rx"),n.$require("asciidoctor.rb/../asciidoctor/substitutors"),n.$require("asciidoctor.rb/../asciidoctor/version"),n.$require("asciidoctor.rb/../asciidoctor/abstract_node"),n.$require("asciidoctor.rb/../asciidoctor/abstract_block"),n.$require("asciidoctor.rb/../asciidoctor/attribute_list"),n.$require("asciidoctor.rb/../asciidoctor/block"),n.$require("asciidoctor.rb/../asciidoctor/callouts"),n.$require("asciidoctor.rb/../asciidoctor/converter"),n.$require("asciidoctor.rb/../asciidoctor/document"),n.$require("asciidoctor.rb/../asciidoctor/inline"),n.$require("asciidoctor.rb/../asciidoctor/list"),n.$require("asciidoctor.rb/../asciidoctor/parser"),n.$require("asciidoctor.rb/../asciidoctor/path_resolver"),n.$require("asciidoctor.rb/../asciidoctor/reader"),n.$require("asciidoctor.rb/../asciidoctor/section"),n.$require("asciidoctor.rb/../asciidoctor/stylesheets"),n.$require("asciidoctor.rb/../asciidoctor/table"),n.$require("asciidoctor.rb/../asciidoctor/writer"),n.$require("asciidoctor.rb/../asciidoctor/load"),n.$require("asciidoctor.rb/../asciidoctor/convert"),s(r,"RUBY_ENGINE")["$=="]("opal")&&(n.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),n.$require("asciidoctor.rb/../asciidoctor/timings"),n.$require("asciidoctor/js/postscript"))}(Opal);var e=function(t){return t&&!t.$$is_hash?Opal.hash2(Object.keys(t),t):t},n=function(t){var e={};if(t){var n=t.$$smap;for(var r in n){var i=n[r];e[r]=i===Opal.nil?void 0:i}var a=t.$$map;if(a){var s=[];for(var o in a){var $=a[o],l=$.value;s[$.key-1]=l===Opal.nil?void 0:l}s.length>0&&(e.$positional=s)}}return e},r=function(t){var e={};if(t){var n=t.$$keys;for(var r in n){var i=n[r].value;e[r.toString()]=i===Opal.nil?void 0:i}}return e},i=function(t){if(t=e(t)){var n=t["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(n))}return t};function a(t,r,i,a,s){var o,$,l,u,c=Opal.klass(Opal.Object,t,r,(function(){})),d={};for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&function(t){var e=i[t];"postConstruct"===t?o=e:"initialize"===t?$=e:"constructor"===t?l=e:(a&&Object.prototype.hasOwnProperty.call(a,t)&&(d[t]=!0),Opal.def(c,"$"+t,(function(){var n;return n=s&&Object.prototype.hasOwnProperty.call(s,t)?s[t](arguments):arguments,e.apply(this,n)})))}(f);if(u="function"==typeof l?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=n(t[e]));t.unshift(null);var r=new(Function.prototype.bind.apply(l,t));Object.assign(this,r),"function"==typeof o&&o.bind(this)()}:"function"==typeof $?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=n(t[e]));$.apply(this,t),"function"==typeof o&&o.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",u)),"function"==typeof o&&o.bind(this)()},Opal.def(c,"$initialize",u),Opal.def(c,"super",(function(t){if("function"==typeof t)Opal.send(this,Opal.find_super_dispatcher(this,t.name,t));else{for(var n=Array.from(arguments),r=0;r<n.length;r++)"object"==typeof n[r]&&(n[r]=e(n[r]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",u),n)}})),a)for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&!Object.prototype.hasOwnProperty.call(d,_)&&function(t){var e=a[t];Opal.def(c,"$"+t,(function(){return e.apply(this,arguments)}))}(_);return c}var s=Opal.Asciidoctor.$$class;s.prototype.getCoreVersion=function(){return this.$$const.VERSION},s.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},s.prototype.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var n=this.$convert(t,i(e));return n===Opal.nil?"":n},s.prototype.convertFile=function(t,e){return this.$convert_file(t,i(e))},s.prototype.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,i(e))},s.prototype.loadFile=function(t,e){return this.$load_file(t,i(e))};var o=Opal.Asciidoctor.AbstractBlock;o.prototype.append=function(t){return this.$append(t),this},o.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},o.prototype.setTitle=function(t){return t=void 0===t?Opal.nil:t,this["$title="](t)},o.prototype.assignCaption=function(t,e){t=void 0===t?Opal.nil:t,e=void 0===e?null:e,this.$assign_caption(t,e)},o.prototype.getCaptionedTitle=function(){return this.$captioned_title()},o.prototype.getStyle=function(){var t=this.style;return t===Opal.nil?void 0:t},o.prototype.setStyle=function(t){this.style=t},o.prototype.getSourceLocation=function(){var t=this.source_location;if(t!==Opal.nil)return t.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},t.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},t.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},t.getLineNumber=function(){var t=this.lineno;return t===Opal.nil?void 0:t},t},o.prototype.getCaption=function(){var t=this.$caption();return t===Opal.nil?void 0:t},o.prototype.setCaption=function(t){this.caption=void 0===t?Opal.nil:t},o.prototype.getLevel=function(){var t=this.level;return t===Opal.nil?void 0:t},o.prototype.getSubstitutions=function(){return this.subs},o.prototype.hasSubstitution=function(t){return this["$sub?"](t)},o.prototype.removeSubstitution=function(t){this.$remove_sub(t)},o.prototype.hasBlocks=function(){return this.blocks.length>0},o.prototype.getBlocks=function(){return this.blocks},o.prototype.getContent=function(){return this.$content()},o.prototype.convert=function(){return this.$convert()},o.prototype.findBy=function(t,n){return void 0===n&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof n?Opal.send(this,"find_by",[e(t)],n):this.$find_by(e(t))},o.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},o.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},o.prototype.getSections=function(){return this.$sections()},o.prototype.getNumeral=function(){return this.$numeral()},o.prototype.setNumeral=function(t){this["$numeral="](t)},o.prototype.hasTitle=function(){return this["$title?"]()};var $=Opal.Asciidoctor.Section;$.create=function(t,n,r,i){return i&&i.attributes&&(i.attributes=e(i.attributes)),this.$new(t,n,r,e(i))},$.prototype.setLevel=function(t){this.level=t},$.prototype.getIndex=function(){return this.index},$.prototype.setIndex=function(t){this.index=t},$.prototype.getSectionName=function(){var t=this.sectname;return t===Opal.nil?void 0:t},$.prototype.setSectionName=function(t){this.sectname=t},$.prototype.isSpecial=function(){return this.special},$.prototype.setSpecial=function(t){this.special=t},$.prototype.isNumbered=function(){return this.numbered},$.prototype.getCaption=function(){var t=this.caption;return t===Opal.nil?void 0:t},$.prototype.getName=function(){return this.getTitle()};var l=Opal.Asciidoctor.Block;l.create=function(t,n,r){return r&&r.attributes&&(r.attributes=e(r.attributes)),this.$new(t,n,e(r))},l.prototype.getSource=function(){return this.$source()},l.prototype.getSourceLines=function(){return this.lines};var u=Opal.Asciidoctor.AbstractNode;u.prototype.applySubstitutions=function(t,e){return this.$apply_subs(t,e)},u.prototype.resolveSubstitutions=function(t,e,n,r){return void 0===e&&(e="block"),void 0===n&&(n=Opal.nil),void 0===r&&(r=Opal.nil),this.$resolve_subs(t,e,n,r)},u.prototype.resolveBlockSubstitutions=function(t,e,n){return this.resolveSubstitutions(t,"block",e,n)},u.prototype.resolvePassSubstitutions=function(t){return this.resolveSubstitutions(t,"inline",void 0,"passthrough macro")},u.prototype.getNodeName=function(){return this.node_name},u.prototype.getAttributes=function(){return n(this.attributes)},u.prototype.getAttribute=function(t,e,n){var r=this.$attr(t,e,n);return r===Opal.nil?void 0:r},u.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},u.prototype.isAttribute=function(t,e,n){var r=this["$attr?"](t,e,n);return r!==Opal.nil&&r},u.prototype.setAttribute=function(t,e,n){return void 0===n&&(n=!0),this.$set_attr(t,e,n)},u.prototype.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},u.prototype.getDocument=function(){return this.document},u.prototype.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},u.prototype.isInline=function(){return this["$inline?"]()},u.prototype.isBlock=function(){return this["$block?"]()},u.prototype.isRole=function(t){return this["$role?"](t)},u.prototype.getRole=function(){return this.$role()},u.prototype.hasRole=function(t){return this["$has_role?"](t)},u.prototype.getRoles=function(){return this.$roles()},u.prototype.addRole=function(t){return this.$add_role(t)},u.prototype.removeRole=function(t){return this.$remove_role(t)},u.prototype.isReftext=function(){return this["$reftext?"]()},u.prototype.getReftext=function(){var t=this.$reftext();return t===Opal.nil?void 0:t},u.prototype.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},u.prototype.getId=function(){var t=this.id;return t===Opal.nil?void 0:t},u.prototype.setId=function(t){this.id=t},u.prototype.isOption=function(t){return this["$option?"](t)},u.prototype.setOption=function(t){return this.$set_option(t)},u.prototype.getIconUri=function(t){return this.$icon_uri(t)},u.prototype.getMediaUri=function(t,e){return this.$media_uri(t,e)},u.prototype.getImageUri=function(t,e){return this.$image_uri(t,e)},u.prototype.getConverter=function(){return this.$converter()},u.prototype.readContents=function(t,n){return this.$read_contents(t,e(n))},u.prototype.readAsset=function(t,n){var r=this.$read_asset(t,e(n));return r===Opal.nil?void 0:r},u.prototype.normalizeWebPath=function(t,e,n){return this.$normalize_web_path(t,e,n)},u.prototype.normalizeSystemPath=function(t,n,r,i){return this.$normalize_system_path(t,n,r,e(i))},u.prototype.normalizeAssetPath=function(t,e,n){return this.$normalize_asset_path(t,e,n)};var c=Opal.Asciidoctor.Document;c.prototype.getRefs=function(){return n(this.catalog.$$smap.refs)},c.prototype.getImages=function(){return this.catalog.$$smap.images},c.prototype.getLinks=function(){return this.catalog.$$smap.links},c.prototype.hasFootnotes=function(){return this["$footnotes?"]()},c.prototype.getFootnotes=function(){return this.$footnotes()},c.prototype.getHeader=function(){return this.header},c.prototype.setAttribute=function(t,e){return this.$set_attribute(t,e)},c.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},c.prototype.convert=function(t){var n=this.$convert(e(t));return n===Opal.nil?"":n},c.prototype.write=function(t,e){return this.$write(t,e)},c.prototype.getAuthor=function(){return this.$author()},c.prototype.getSource=function(){return this.$source()},c.prototype.getSourceLines=function(){return this.$source_lines()},c.prototype.isNested=function(){return this["$nested?"]()},c.prototype.isEmbedded=function(){return this["$embedded?"]()},c.prototype.hasExtensions=function(){return this["$extensions?"]()},c.prototype.getDoctype=function(){return this.doctype},c.prototype.getBackend=function(){return this.backend},c.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},c.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},c.prototype.setTitle=function(t){return this["$title="](t)},c.prototype.getDocumentTitle=function(t){var n=this.$doctitle(e(t));return n===Opal.nil?void 0:n},c.prototype.getDoctitle=c.prototype.getDocumentTitle,c.prototype.getCatalog=function(){return n(this.catalog)},c.prototype.getReferences=c.prototype.getCatalog,c.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},c.prototype.getRevdate=function(){return this.getRevisionDate()},c.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},c.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},c.prototype.setHeaderAttribute=function(t,e,n){return void 0===n&&(n=!0),void 0===e&&(e=""),this.$set_header_attribute(t,e,n)},c.prototype.getAuthors=function(){return this.$authors()};var d=c.Footnote;d.prototype.getIndex=function(){var t=this.$$data.index;return t===Opal.nil?void 0:t},d.prototype.getId=function(){var t=this.$$data.id;return t===Opal.nil?void 0:t},d.prototype.getText=function(){var t=this.$$data.text;return t===Opal.nil?void 0:t};var f=c.ImageReference;f.prototype.getTarget=function(){return this.$$data.target},f.prototype.getImagesDirectory=function(){var t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};var _=c.Author;_.prototype.getName=function(){var t=this.$$data.name;return t===Opal.nil?void 0:t},_.prototype.getFirstName=function(){var t=this.$$data.firstname;return t===Opal.nil?void 0:t},_.prototype.getMiddleName=function(){var t=this.$$data.middlename;return t===Opal.nil?void 0:t},_.prototype.getLastName=function(){var t=this.$$data.lastname;return t===Opal.nil?void 0:t},_.prototype.getInitials=function(){var t=this.$$data.initials;return t===Opal.nil?void 0:t},_.prototype.getEmail=function(){var t=this.$$data.email;return t===Opal.nil?void 0:t},c.RevisionInfo=function(t,e,n){this.date=t,this.number=e,this.remark=n};var p=c.RevisionInfo;p.prototype.getDate=function(){return this.date},p.prototype.getNumber=function(){return this.number},p.prototype.getRemark=function(){return this.remark},p.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};var h=Opal.Asciidoctor.SafeMode;h.getValueForName=function(t){return this.$value_for_name(t)},h.getNameForValue=function(t){var e=this.$name_for_value(t);return e===Opal.nil?void 0:e},h.getNames=function(){return this.$names()};var y=Opal.Asciidoctor.Callouts;y.create=function(){return this.$new()},y.prototype.register=function(t){return this.$register(t)},y.prototype.readNextId=function(){return this.$read_next_id()},y.prototype.getCalloutIds=function(t){return this.$callout_ids(t)},y.prototype.getLists=function(){var t=this.lists;if(t&&t.length>0)for(var e=0;e<t.length;e++){var r=t[e];if(r&&r.length>0)for(var i=0;i<r.length;i++)"object"==typeof r[i]&&"$$smap"in r[i]&&(r[i]=n(r[i]))}return t},y.prototype.getListIndex=function(){return this.list_index},y.prototype.getCurrentList=function(){var t=this.$current_list();if(t&&t.length>0)for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=n(t[e]));return t},y.prototype.nextList=function(){return this.$nextList()},y.prototype.rewind=function(){return this.$rewind()},c.prototype.getRevisionInfo=function(){return new c.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},c.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},c.prototype.getNotitle=function(){return this.$notitle()},c.prototype.getNoheader=function(){return this.$noheader()},c.prototype.getNofooter=function(){return this.$nofooter()},c.prototype.hasHeader=function(){return this["$header?"]()},c.prototype.playbackAttributes=function(t){if(t=e(t)){var n=t["$[]"]("attribute_entries");if(n&&Array.isArray(n)){for(var r=[],i=0;i<n.length;i++){var a=n[i];a&&"object"==typeof a&&"Object"===a.constructor.name&&(a.$name=function(){return this.name},a.$value=function(){return this.value},a.$negate=function(){return this.negate}),r.push(a)}t["$[]="]("attribute_entries",r)}}this.$playback_attributes(t)},c.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},c.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},c.prototype.restoreAttributes=function(){return this.$restore_attributes()},c.prototype.parse=function(t){return this.$parse(t)},c.prototype.getDocinfo=function(t,e){return this.$docinfo(t,e)},c.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},c.prototype.incrementAndStoreCounter=function(t,e){return this.$increment_and_store_counter(t,e)},c.prototype.counterIncrement=c.prototype.incrementAndStoreCounter,c.prototype.counter=function(t,e){return this.$counter(t,e)},c.prototype.getSafe=function(){return this.safe},c.prototype.getCompatMode=function(){return this.compat_mode},c.prototype.getSourcemap=function(){var t=this.sourcemap;return t!==Opal.nil&&t},c.prototype.setSourcemap=function(t){this.sourcemap=t},c.prototype.getCounters=function(){return n(this.counters)},c.prototype.getCallouts=function(){return this.$callouts()},c.prototype.getBaseDir=function(){return this.base_dir},c.prototype.getOptions=function(){return n(this.options)},c.prototype.getOutfilesuffix=function(){return this.outfilesuffix},c.prototype.getParentDocument=function(){var t=this.parent_document;return t===Opal.nil?void 0:t},c.prototype.getReader=function(){return this.reader},c.prototype.getConverter=function(){return this.converter},c.prototype.getExtensions=function(){var t=this.extensions;return t===Opal.nil?void 0:t};var m=c.Title;m.prototype.getMain=function(){return this.main},m.prototype.getCombined=function(){return this.combined},m.prototype.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},m.prototype.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},m.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var g=Opal.Asciidoctor.Inline;g.create=function(t,n,r,i){return this.$new(t,n,r,e(i))},g.prototype.convert=function(){return this.$convert()},g.prototype.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},g.prototype.getType=function(){return this.$type()},g.prototype.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t};var v=Opal.Asciidoctor.List;v.prototype.hasItems=function(){return this["$items?"]()},v.prototype.getItems=function(){return this.blocks};var b=Opal.Asciidoctor.ListItem;b.prototype.getText=function(){return this.$text()},b.prototype.setText=function(t){return this["$text="](t)},b.prototype.hasText=function(){return this["$text?"]()},b.prototype.getMarker=function(){return this.marker},b.prototype.setMarker=function(t){this.marker=t},b.prototype.getList=function(){return this.$list()},b.prototype.getParent=b.prototype.getList;var x=Opal.Asciidoctor.Reader;x.prototype.pushInclude=function(t,n,r,i,a){return this.$push_include(t,n,r,i,e(a))},x.prototype.getCursor=function(){return this.$cursor()},x.prototype.getLines=function(){return this.$lines()},x.prototype.getString=function(){return this.$string()},x.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},x.prototype.isEmpty=function(){return this["$empty?"]()},x.prototype.peekLine=function(t){t=t||!1;var e=this.$peek_line(t);return e===Opal.nil?void 0:e},x.prototype.readLine=function(){var t=this.$read_line();return t===Opal.nil?void 0:t},x.prototype.readLines=function(){return this.$read_lines()},x.prototype.read=function(){return this.$read()},x.prototype.advance=function(){return this.$advance()};var w=Opal.Asciidoctor.Reader.Cursor;w.prototype.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},w.prototype.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},w.prototype.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},w.prototype.getLineNumber=function(){return this.lineno};var k=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=k,k.getLogger=function(){return this.$logger()},k.setLogger=function(t){this.logger=t},k.newLogger=function(t,e){return function(t,e){return a(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),t,e,{},{add:function(t){if(t.length>=2&&"object"==typeof t[2]&&"$$smap"in t[2]){var e=t[2],r=n(e);r.getText=function(){return this.text},r.getSourceLocation=function(){return this.source_location},r.$inspect=function(){var t=this.getSourceLocation();return t?t.getPath()+": line "+t.getLineNumber()+": "+this.getText():this.getText()},t[2]=r}return t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t}})}(t,e).$new()},k.newFormatter=function(t,e){return function(t,e){return a(Opal.const_get_qualified(Opal.Logger,"Formatter"),t,e,{},{call:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=n(t[e]));return t}})}(t,e).$new()};var A=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=A,A.get=function(t){return A.$constants()[t]};var E=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=E,E.prototype.call=function(t,e,n,r){return this.$call(A.get(t),e,n,r)};var O=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=O,O.create=function(){return this.$new()},O.prototype.getMessages=function(){for(var t=this.messages,e=[],r=0;r<t.length;r++){var i=t[r],a=n(i);"string"==typeof a.message?a.getText=function(){return this.message}:(a.message=n(a.message),a.getText=function(){return this.message.text}),a.getSeverity=function(){return this.severity.toString()},a.getSourceLocation=function(){return this.message.source_location},e.push(a)}return e};var S=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=S,S.getLogger=function(){return k.$logger()},S.createLogMessage=function(t,n){return S.prototype.$message_with_context(t,e(n))},x.prototype.getLogger=S.getLogger,x.prototype.createLogMessage=S.createLogMessage,u.prototype.getLogger=S.getLogger,u.prototype.createLogMessage=S.createLogMessage;var R=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=R,R.prototype.getMaxSeverity=function(){var t=this.max_severity;return t===Opal.nil?void 0:t},R.prototype.getFormatter=function(){return this.formatter},R.prototype.setFormatter=function(t){this.formatter=t},R.prototype.getLevel=function(){return this.level},R.prototype.setLevel=function(t){this.level=t},R.prototype.getProgramName=function(){return this.progname},R.prototype.setProgramName=function(t){this.progname=t};var C=Opal.const_get_qualified("::","Logger"),I=function(t,e,n){t["$"+e](n)};C.prototype.add=function(t,e,n){var r="string"==typeof t?A[t.toUpperCase()]:t;this.$add(r,e,n)},C.prototype.log=C.prototype.add,C.prototype.debug=function(t){I(this,"debug",t)},C.prototype.info=function(t){I(this,"info",t)},C.prototype.warn=function(t){I(this,"warn",t)},C.prototype.error=function(t){I(this,"error",t)},C.prototype.fatal=function(t){I(this,"fatal",t)},C.prototype.isDebugEnabled=function(){return this["$debug?"]()},C.prototype.isInfoEnabled=function(){return this["$info?"]()},C.prototype.isWarnEnabled=function(){return this["$warn?"]()},C.prototype.isErrorEnabled=function(){return this["$error?"]()},C.prototype.isFatalEnabled=function(){return this["$fatal?"]()};var T=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=T,T.create=function(){return this.$new()},T.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;var L=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=L,L.create=function(){return this.$new()},L.prototype.printReport=function(t,e){var n;if(t)if("function"==typeof t.$add)n=function(e){t.$add(1,e)};else if("function"==typeof t.log)n=t.log;else{if("function"!=typeof t.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");n=function(e){t.write(e,"utf-8")}}else n=function(t){Opal.gvars.stdout.$write(t)};e&&n("Input file: "+e),n(" Time to read and parse source: "+this.$read_parse().toFixed(2)),n(" Time to convert document: "+this.$convert().toFixed(2)),n(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var M=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=M,M.register=function(t,e){var i="string"==typeof t?t:t[0];if("function"==typeof e){var s=e.prototype,o=Object.getOwnPropertyNames(s);for(var $ in e={},o){var l=o[$];e[l]=s[l]}}var u=a(P,i,e,{},{format:function(t){return t.length>=2&&"object"==typeof t[2]&&"$$smap"in t[2]&&(t[2]=n(t[2])),t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t},highlight:function(t){if(t.length>=3&&"object"==typeof t[3]&&"$$smap"in t[3]){var e=t[3];for(var i in e=n(e)){var a=e[i];if("callouts"===i){var s=r(a);for(var o in s)for(var $=s[o],l=0;l<$.length;l++)for(var u=$[l],c=0;c<u.length;c++)u[c]=u[c]===Opal.nil?void 0:u[c];e[i]=s}else e[i]=a===Opal.nil?void 0:a}t[3]=e}return t.length>=2&&(t[2]=t[2]===Opal.nil?void 0:t[2]),t}});for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&function(t){var n=e[t];"handlesHighlighting"===t?Opal.def(u,"$highlight?",(function(){return n.call()})):"hasDocinfo"===t&&Opal.def(u,"$docinfo?",(function(t){return n.apply(this,[t])}))}(c);return Opal.def(u,"$name",(function(){return i})),M.$register(u,t),u},M.get=function(t){var e=M.$for(t);return e===Opal.nil?void 0:e},M.for=M.get;var P=Opal.const_get_qualified(M,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=P,P.prototype.registerFor=function(t){M.$register(this,t)};var N=Opal.Asciidoctor.Table;N.create=function(t,n){return this.$new(t,e(n))},N.prototype.getCaption=function(){return this.caption},N.prototype.getRows=function(){return this.rows},N.prototype.getColumns=function(){return this.columns},N.prototype.getHeadRows=function(){return this.rows.head},N.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},N.prototype.getBodyRows=function(){return this.rows.body},N.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},N.prototype.getFootRows=function(){return this.rows.foot},N.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},N.prototype.hasHeaderOption=function(){return this.has_header_option},N.prototype.hasFooterOption=function(){return""===this.getAttributes()["footer-option"]},N.prototype.hasAutowidthOption=function(){return""===this.getAttributes()["autowidth-option"]},N.prototype.getRowCount=function(){return this.getAttribute("rowcount")},N.prototype.setRowCount=function(t){this.setAttribute("rowcount",t)},N.prototype.getColumnCount=function(){return this.getAttribute("colcount")},N.prototype.setColumnCount=function(t){this.setAttribute("colcount",t)};var B=Opal.Asciidoctor.Table.Rows;B.create=function(t,e,n){return this.$new(t,e,n)},B.prototype.getHead=function(){return this.head},B.prototype.getFoot=function(){return this.foot},B.prototype.getBody=function(){return this.body},B.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};var D=Opal.Asciidoctor.Table.Column;D.create=function(t,n,r){return this.$new(t,n,e(r))},D.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},D.prototype.getWidth=function(){return this.getAttribute("width")},D.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},D.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},D.prototype.getStyle=function(){var t=this.style;return t===Opal.nil?void 0:t};var z=Opal.Asciidoctor.Table.Cell;z.create=function(t,n,r,i){return this.$new(t,n,e(r),e(i))},z.prototype.getColumnSpan=function(){var t=this.colspan;return t===Opal.nil?void 0:t},z.prototype.setColumnSpan=function(t){return this["$colspan="](t)},z.prototype.getRowSpan=function(){var t=this.rowspan;return t===Opal.nil?void 0:t},z.prototype.setRowSpan=function(t){return this["$rowspan="](t)},z.prototype.getContent=function(){return this.$content()},z.prototype.getText=function(){return this.$text()},z.prototype.getSource=function(){return this.$source()},z.prototype.getLines=function(){return this.$lines()},z.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},z.prototype.getFile=function(){var t=this.$file();return t===Opal.nil?void 0:t},z.prototype.getStyle=function(){var t=this.$style();return t===Opal.nil?void 0:t},z.prototype.getColumn=function(){var t=this.$column();return t===Opal.nil?void 0:t},z.prototype.getWidth=function(){return this.getAttribute("width")},z.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},z.prototype.getInnerDocument=function(){var t=this.inner_document;return t===Opal.nil?void 0:t};var F=Opal.Asciidoctor.Converter.TemplateConverter;if(F){Opal.Asciidoctor.TemplateConverter=F,F.create=function(t,n,r){r&&r.template_cache&&(r.template_cache=e(r.template_cache)),this.$new(t,n,e(r))},F.getCache=function(){var t=n(this.caches);if(t){if(t.scans)for(var e in t.scans=n(t.scans),t.scans)t.scans[e]=n(t.scans[e]);t.templates&&(t.templates=n(t.templates))}return t},F.clearCache=function(){this.$clear_caches()},F.prototype.convert=function(t,n,r){return this.$convert(t,n,e(r))},F.prototype.handles=function(t){return this["$handles?"](t)},F.prototype.getTemplates=function(){return n(this.$templates())},F.prototype.register=function(t,e){return this.$register(t,e)};var j={registry:{}};Opal.Asciidoctor.TemplateEngine=j,j.register=function(t,e){if("string"==typeof t)this.registry[t]=e;else for(var n=0;n<t.length;n++){var r=t[n];this.registry[r]=e}}}var q=function(t){return t.$$arity=t.length,t},U=function(t,e,n,r){return"object"==typeof n||n.$$is_class?t["$"+e](n,r):Opal.send(t,e,r&&[r],q(n))},H=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=H,H.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"create",null,q(t)):"function"==typeof e?Opal.send(this,"create",[t],q(e)):this.$create()},H.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,q(t)):Opal.send(this,"register",[t],q(e))},H.getGroups=function(){return n(this.$groups())},H.unregisterAll=function(){this.$unregister_all()},H.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),n={},r=0,i=e.$$keys;r<i.length;r++){var a=i[r];n[a.toString()]=a}for(var s=0;s<t.length;s++){var o=t[s];o in n&&Opal.hash_delete(e,n[o])}};var Y=H.Registry;Y.prototype.getGroups=H.getGroups,Y.prototype.unregisterAll=function(){this.groups=Opal.hash()},Y.prototype.unregister=H.unregister,Y.prototype.prefer=function(t,e){return 1===arguments.length&&(e=t,t=null),"object"==typeof e||e.$$is_class?this.$prefer(t,e):Opal.send(this,"prefer",t&&[t],q(e))},Y.prototype.block=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"block",e,t)},Y.prototype.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"inline_macro",e,t)},Y.prototype.includeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"include_processor",e,t)},Y.prototype.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"block_macro",e,t)},Y.prototype.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"tree_processor",e,t)},Y.prototype.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"postprocessor",e,t)},Y.prototype.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"preprocessor",e,t)},Y.prototype.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),U(this,"docinfo_processor",e,t)},Y.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},Y.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},Y.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},Y.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},Y.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},Y.prototype.hasBlocks=function(){return this["$blocks?"]()},Y.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},Y.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},Y.prototype.getPreprocessors=function(){return this.$preprocessors()},Y.prototype.getTreeProcessors=function(){return this.$tree_processors()},Y.prototype.getIncludeProcessors=function(){return this.$include_processors()},Y.prototype.getPostprocessors=function(){return this.$postprocessors()},Y.prototype.getDocinfoProcessors=function(t){return this.$docinfo_processors(t)},Y.prototype.getBlocks=function(){return this.block_extensions.$values()},Y.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},Y.prototype.getInlineMacros=function(){return this.$inline_macros()},Y.prototype.getInlineMacroFor=function(t){var e=this["$registered_for_inline_macro?"](t);return!1===e?void 0:e},Y.prototype.getBlockFor=function(t,e){if(void 0===e){var n=this.$find_block_extension(t);return n===Opal.nil?void 0:n}var r=this["$registered_for_block?"](t,e);return!1===r?void 0:r},Y.prototype.getBlockMacroFor=function(t){var e=this["$registered_for_block_macro?"](t);return!1===e?void 0:e};var G=H.Processor;G.prototype.prepend=function(){this.$option("position",">>")},G.prototype.process=function(t){var e=new Proxy(t,{apply:function(t,e,r){for(var i=0;i<r.length;i++)"object"==typeof r[i]&&"$$smap"in r[i]&&(r[i]=n(r[i]));return t.apply(e,r)}});return Opal.send(this,"process",null,q(e))},G.prototype.named=function(t){return this.$named(t)},G.prototype.createBlock=function(t,n,r,i,a){return this.$create_block(t,n,r,e(i),e(a))},G.prototype.createList=function(t,n,r){return this.$create_list(t,n,e(r))},G.prototype.createListItem=function(t,e){return this.$create_list_item(t,e)},G.prototype.createImageBlock=function(t,n,r){return this.$create_image_block(t,e(n),e(r))},G.prototype.createParagraph=function(t,n,r,i){return this.$create_paragraph(t,n,e(r),e(i))},G.prototype.createOpenBlock=function(t,n,r,i){return this.$create_open_block(t,n,e(r),e(i))},G.prototype.createExampleBlock=function(t,n,r,i){return this.$create_example_block(t,n,e(r),e(i))},G.prototype.createPassBlock=function(t,n,r,i){return this.$create_pass_block(t,n,e(r),e(i))},G.prototype.createListingBlock=function(t,n,r,i){return this.$create_listing_block(t,n,e(r),e(i))},G.prototype.createLiteralBlock=function(t,n,r,i){return this.$create_literal_block(t,n,e(r),e(i))},G.prototype.createAnchor=function(t,n,r){return r&&r.attributes&&(r.attributes=e(r.attributes)),this.$create_anchor(t,n,e(r))},G.prototype.createInlinePass=function(t,n,r){return r&&r.attributes&&(r.attributes=e(r.attributes)),this.$create_inline_pass(t,n,e(r))},G.prototype.createInline=function(t,n,r,i){return i&&i.attributes&&(i.attributes=e(i.attributes)),this.$create_inline(t,n,r,e(i))},G.prototype.parseContent=function(t,e,n){return this.$parse_content(t,e,n)},G.prototype.parseAttributes=function(t,r,i){return i&&i.attributes&&(i.attributes=e(i.attributes)),n(this.$parse_attributes(t,r,e(i)))},G.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},G.prototype.resolveAttributes=function(t){return"object"!=typeof t||Array.isArray(t)?arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):void 0===t?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(t):this.$resolves_attributes(e(t))},G.prototype.resolvesAttributes=G.prototype.resolveAttributes,G.prototype.getConfig=function(){return n(this.config)},G.prototype.option=function(t,e){this.$option(t,e)};var W=H.BlockProcessor;W.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},W.prototype.onContext=function(t){return this.$on_context(t)},W.prototype.onContexts=function(t){return this.$on_contexts(Array.prototype.slice.call(arguments))},W.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},W.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var V=H.BlockMacroProcessor;V.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},V.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},V.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var X=H.InlineMacroProcessor;X.prototype.defaultAttributes=function(t){this.$default_attributes(e(t))},X.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},X.prototype.parseContentAs=function(t){this.$parse_content_as(t)},X.prototype.matchFormat=function(t){this.$match_format(t)},X.prototype.match=function(t){this.$match(t)};var K=H.IncludeProcessor;K.prototype.handles=function(t){return Opal.send(this,"handles?",null,q(t))},K.prototype.prefer=function(){this.$prefer()},H.TreeProcessor.prototype.prefer=function(){this.$prefer()},H.Postprocessor.prototype.prefer=function(){this.$prefer()},H.Preprocessor.prototype.prefer=function(){this.$prefer()};var J=H.DocinfoProcessor;function Z(t,e,n){return a(Opal.const_get_qualified(H,t),e,n,{"handles?":function(){return!0}})}J.prototype.prefer=function(){this.$prefer()},J.prototype.atLocation=function(t){this.$at_location(t)},H.createPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("Postprocessor",t,e)},H.newPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPostprocessor(t,e).$new()},H.createPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("Preprocessor",t,e)},H.newPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPreprocessor(t,e).$new()},H.createTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("TreeProcessor",t,e)},H.newTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createTreeProcessor(t,e).$new()},H.createIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("IncludeProcessor",t,e)},H.newIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createIncludeProcessor(t,e).$new()},H.createDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("DocinfoProcessor",t,e)},H.newDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createDocinfoProcessor(t,e).$new()},H.createBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("BlockProcessor",t,e)},H.newBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockProcessor(t,e).$new()},H.createInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("InlineMacroProcessor",t,e)},H.newInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createInlineMacroProcessor(t,e).$new()},H.createBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),Z("BlockMacroProcessor",t,e)},H.newBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockMacroProcessor(t,e).$new()};var Q=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Q,Q.prototype.convert=function(t,n,r){return this.$convert(t,n,e(r))},Q.create=function(t,n){return this.$create(t,e(n))};var tt=Opal.Asciidoctor.Converter.Factory,et=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=tt;var nt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=nt,tt.register=function(t,n){var r,i=function(t,n){t.backend_traits?n.backend_traits=e(t.backend_traits):t.backendTraits?n.backend_traits=e(t.backendTraits):(t.basebackend||t.outfilesuffix||t.filetype||t.htmlsyntax||t.supports_templates)&&(n.backend_traits=e(function(t){return Object.assign({},t.basebackend?{basebackend:t.basebackend}:{},t.outfilesuffix?{outfilesuffix:t.outfilesuffix}:{},t.filetype?{filetype:t.filetype}:{},t.htmlsyntax?{htmlsyntax:t.htmlsyntax}:{},t.supports_templates?{supports_templates:t.supports_templates}:{})}(t)))},s=function(t,e){$(t,e,"$handles?","handles",(function(){return!0}))},o=function(t,e){$(t,e,"$composed","composed")},$=function(t,e,n,r,i){void 0===t[n]&&("function"==typeof t[r]?e[n]=t[r]:i&&(e[n]=i))},l=function(t){"function"!=typeof t["$respond_to?"]&&(t["$respond_to?"]=function(t){return"function"==typeof this[t]})};if("function"==typeof t)(r=a(et,t.constructor.name,{initialize:function(e,n){var r=new t(e,n);Object.assign(this,r),i(r,this);for(var a=Object.getOwnPropertyNames(t.prototype),$=0;$<a.length;$++){var u=a[$];"constructor"!==u&&(this[u]=r[u])}void 0===r.$convert&&"function"==typeof r.convert&&(this.$convert=r.convert),s(r,this),o(r,this),l(this),this.super(e,n)}})).$extend(nt);else if("object"==typeof t){if(void 0===t.$convert&&"function"==typeof t.convert&&(t.$convert=t.convert),i(t,t),t.backend_traits){for(var u of["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"])t["$"+u]=nt.prototype["$"+u];t.$$meta=nt}s(t,t),o(t,t),l(t),r=t}var c=[r].concat(n);return Q.$register.apply(Q,c)},tt.getDefault=function(t){return this.$default(t)},tt.prototype.create=function(t,n){return this.$create(t,e(n))},tt.getRegistry=function(){return n(Q.$registry())},tt.for=function(t){const e=Q.$for(t);return e===Opal.nil?void 0:e},tt.unregisterAll=function(){var t=Q.DefaultFactory.$$cvars["@@registry"];Q.DefaultFactory.$$cvars["@@registry"]=e({html5:t["$[]"]("html5")})};var rt=Opal.Asciidoctor.Converter.Html5Converter;return Opal.Asciidoctor.Html5Converter=rt,rt.create=function(){return this.$new()},rt.prototype.convert=function(t,e,n){return this.$convert(t,e,n)},Opal.Asciidoctor.prototype.getVersion=function(){return"2.2.1"},Opal.Asciidoctor},module.exports?module.exports=factory:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(t){return factory(t.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[module]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(0),__webpack_require__(5),__webpack_require__(6).Buffer,__webpack_require__(10)(module))},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var $,l=[],u=!1,c=-1;function d(){u&&$&&(u=!1,$.length?l=$.concat(l):c=-1,l.length&&f())}function f(){if(!u){var t=o(d);u=!0;for(var e=l.length;e;){for($=l,l=[];++c<e;)$&&$[c].run();c=-1,e=l.length}$=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new _(t,e)),1!==l.length||u||o(f)},_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(7),i=n(8),a=n(9);function s(){return $.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return $.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=$.prototype:(null===t&&(t=new $(e)),t.length=e),t}function $(t,e,n){if(!($.TYPED_ARRAY_SUPPORT||this instanceof $))return new $(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);$.TYPED_ARRAY_SUPPORT?(t=e).__proto__=$.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!$.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(e,n),i=(t=o(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if($.isBuffer(e)){var n=0|f(e.length);return 0===(t=o(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?o(t,0):d(t,e);if("Buffer"===e.type&&a(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=o(t,e<0?0:0|f(e)),!$.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|f(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function _(t,e){if($.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function h(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=$.from(e,r)),$.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,$.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var a,s=1,o=t.length,$=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,o/=2,$/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(a=n;a<o;a++)if(l(t,a)===l(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===$)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(n+$>o&&(n=o-$),a=n;a>=0;a--){for(var c=!0,d=0;d<$;d++)if(l(t,a+d)!==l(e,d)){c=!1;break}if(c)return a}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[n+s]=o}return s}function v(t,e,n,r){return q(F(e,t.length-n),t,n,r)}function b(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return q(j(e),t,n,r)}function k(t,e,n,r){return q(function(t,e){for(var n,r,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a,s,o,$,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=n)switch(c){case 1:l<128&&(u=l);break;case 2:128==(192&(a=t[i+1]))&&($=(31&l)<<6|63&a)>127&&(u=$);break;case 3:a=t[i+1],s=t[i+2],128==(192&a)&&128==(192&s)&&($=(15&l)<<12|(63&a)<<6|63&s)>2047&&($<55296||$>57343)&&(u=$);break;case 4:a=t[i+1],s=t[i+2],o=t[i+3],128==(192&a)&&128==(192&s)&&128==(192&o)&&($=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&$<1114112&&(u=$)}null===u?(u=65533,c=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=$,e.SlowBuffer=function(t){+t!=t&&(t=0);return $.alloc(+t)},e.INSPECT_MAX_BYTES=50,$.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),$.poolSize=8192,$._augment=function(t){return t.__proto__=$.prototype,t},$.from=function(t,e,n){return l(null,t,e,n)},$.TYPED_ARRAY_SUPPORT&&($.prototype.__proto__=Uint8Array.prototype,$.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&$[Symbol.species]===$&&Object.defineProperty($,Symbol.species,{value:null,configurable:!0})),$.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}(null,t,e,n)},$.allocUnsafe=function(t){return c(null,t)},$.allocUnsafeSlow=function(t){return c(null,t)},$.isBuffer=function(t){return!(null==t||!t._isBuffer)},$.compare=function(t,e){if(!$.isBuffer(t)||!$.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},$.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return $.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=$.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!$.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},$.byteLength=_,$.prototype._isBuffer=!0,$.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},$.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},$.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},$.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):p.apply(this,arguments)},$.prototype.equals=function(t){if(!$.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===$.compare(this,t)},$.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},$.prototype.compare=function(t,e,n,r,i){if(!$.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),o=Math.min(a,s),l=this.slice(r,i),u=t.slice(e,n),c=0;c<o;++c)if(l[c]!==u[c]){a=l[c],s=u[c];break}return a<s?-1:s<a?1:0},$.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},$.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},$.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},$.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=z(t[a]);return i}function C(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,a){if(!$.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function P(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,a){return a||P(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,a){return a||P(t,0,n,8),i.write(t,e,n,r,52,8),n+8}$.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),$.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=$.prototype;else{var i=e-t;n=new $(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},$.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},$.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},$.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},$.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},$.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},$.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},$.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},$.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},$.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},$.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},$.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},$.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},$.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},$.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},$.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},$.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},$.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},$.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},$.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},$.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},$.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),$.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},$.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},$.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},$.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),$.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},$.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},$.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var a=0,s=1,o=0;for(this[e]=255&t;++a<n&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+n},$.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var a=n-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+n},$.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),$.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},$.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},$.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},$.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},$.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},$.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},$.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},$.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},$.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},$.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!$.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},$.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!$.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=$.isBuffer(t)?t:F(new $(t,r).toString()),o=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%o]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,a=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(0))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],o=r[1],$=new a(function(t,e,n){return 3*(e+n)/4-n}(0,s,o)),u=0,c=o>0?s-4:s;for(n=0;n<c;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],$[u++]=e>>16&255,$[u++]=e>>8&255,$[u++]=255&e;2===o&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,$[u++]=255&e);1===o&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,$[u++]=e>>8&255,$[u++]=255&e);return $},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a=[],s=0,o=n-i;s<o;s+=16383)a.push(u(t,s,s+16383>o?o:s+16383));1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,$=s.length;o<$;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,a,s=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var a,s,o=8*i-r-1,$=(1<<o)-1,l=$>>1,u=-7,c=n?i-1:0,d=n?-1:1,f=t[e+c];for(c+=d,a=f&(1<<-u)-1,f>>=-u,u+=o;u>0;a=256*a+t[e+c],c+=d,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=256*s+t[e+c],c+=d,u-=8);if(0===a)a=1-l;else{if(a===$)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),a-=l}return(f?-1:1)*s*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var s,o,$,l=8*a-i-1,u=(1<<l)-1,c=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,_=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*($=Math.pow(2,-s))<1&&(s--,$*=2),(e+=s+c>=1?d/$:d*Math.pow(2,1-c))*$>=2&&(s++,$/=2),s+c>=u?(o=0,s=u):s+c>=1?(o=(e*$-1)*Math.pow(2,i),s+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&o,f+=_,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;t[n+f]=255&s,f+=_,s/=256,l-=8);t[n+f-_]|=128*p}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var o=function(){function t(){r(this,t)}return a(t,null,[{key:"loadJsonPlaylists",value:function(e){return new Promise((function(n){fetch(e).then((function(t){return t.json()})).then((function(e){t.jsonPlaylist=e,n()}))}))}},{key:"loadJsonPodcast",value:function(e){var n=[];return new Promise((function(r){fetch(e).then((function(t){return t.json()})).then((function(e){t.jsonPodcast=e,t.jsonPodcast.podcast_tracks.forEach((function(e){n.push(t.getAsciidoc(e.url.substring(0,e.url.length-3)+"adoc"))})),r(n)}))}))}},{key:"initiateSongs",value:function(){var e,n,r=[],i=[];return t.jsonPodcast.podcast_tracks.forEach((function(a){e=t.hash(a.url.substring(0,a.url.length-3)+"adoc"),n=[],t.templates.has(e)&&null!=(i=t.templates.get(e).match(REGEX_TIMER_ADOC))&&i.forEach((function(t){n.push(t.substring(7))})),r.push(new $(a,n))})),r}},{key:"getAsciidoc",value:function(e){var n=t.hash(e);return t.templates.has(n)?new Promise((function(e){e(t.templates.get(n))})):new Promise((function(r){fetch(e).then((function(t){return t.text()})).then((function(e){t.templates.set(n,e),r(t.templates.get(n))}))}))}},{key:"getPlaylistPopulated",value:function(){var e=[];return t.jsonPlaylist.forEach((function(t){e.push(t.url)})),new Promise((function(n){Promise.all(t.preFetchJson(e)).then((function(){for(var e=0;e<t.jsonPlaylist.length;e++)t.jsonPlaylist[e].meta=t.cache.get(t.hash(t.jsonPlaylist[e].url));n()}))}))}},{key:"preFetchJson",value:function(e){var n=[];return e.forEach((function(e){n.push(new Promise((function(n){fetch(e).then((function(t){return t.json()})).then((function(r){t.cache.set(t.hash(e),r),n()}))})))})),n}},{key:"hash",value:function(t){return Array.from(t).reduce((function(t,e){return 0|31*t+e.charCodeAt(0)}),0)}},{key:"uuidMinimal",value:function(){return([1e4]+"").replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}}]),t}();s(o,"templates",new Map),s(o,"jsonPodcast",""),s(o,"jsonPlaylist",""),s(o,"cache",new Map);var $=function(){function t(e,n){r(this,t),this.name=e.name,this.artist=e.artist?e.artist:DEFAULT_ARTIST,this.album=e.album?e.album:DEFAULT_ALBUM,this.duration=e.duration?e.duration:DEFAULT_DURATION,this.url=e.url,this.cover_art_url=e.cover_art_url?e.cover_art_url:DEFAULT_ALBUM_ART,this.time_callbacks=this._initTimeCallbacks(n)}return a(t,[{key:"_initTimeCallbacks",value:function(t){var e={};return t.forEach((function(t){e[t]=function(){p.time_callbacks(t)}})),e}}]),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u,c,d,f=n(3)(),_=n(1),p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"run",value:function(e){t.processSetTitle(),t.processLoadAsciidoc(e.active_metadata.url),t.processLoadPdf(e.active_metadata.url)}},{key:"processSetTitle",value:function(){document.getElementById("header_h1").innerHTML=o.jsonPodcast.podcast_title,document.title=o.jsonPodcast.podcast_title}},{key:"processInitiatePlaylist",value:function(t){for(var e="",n=0;n<t;n++)e+='<div class="song amplitude-song-container amplitude-play-pause" data-amplitude-song-index="'.concat(n,'">\n      <span class="song-number-now-playing">\n        <span class="number">').concat(n+1,'</span>\n        <img class="now-playing" src="https://521dimensions.com/img/open-source/amplitudejs/examples/flat-black/now-playing.svg"/>\n      </span>\n\n      <div class="song-meta-container">\n        <span class="song-name" data-amplitude-song-info="name" data-amplitude-song-index="').concat(n,'"></span>\n        <span class="song-artist-album"><span data-amplitude-song-info="artist" data-amplitude-song-index="').concat(n,'"></span> - <span data-amplitude-song-info="album" data-amplitude-song-index="').concat(n,'"></span></span>\n      </div>\n\n      <span class="song-duration">\n        <span data-amplitude-song-info="duration" data-amplitude-song-index="').concat(n,'"></span>\n      <span>\n      </div>\n');document.getElementById("list").innerHTML=e}},{key:"processLoadAsciidoc",value:function(e){o.getAsciidoc(e.substring(0,e.length-3)+"adoc").then((function(e){document.getElementById("content").innerHTML=f.convert(e),t.bindByPattern("div.time > h2:first-of-type"),t.bindByPattern("div.time > h3:first-of-type")}))}},{key:"bindByPattern",value:function(e){for(var n=document.querySelectorAll(e),r="",i=0;i<n.length;i++)n[i].addEventListener("click",(function(e){-1!==(r=t.getTimerOfChapter(this))&&_.skipTo(r,_.getActiveIndex())})),r=t.getTimerOfChapter(n[i])}},{key:"getTimerOfChapter",value:function(e){for(var n=e.parentNode.className.split(" "),r=0;r<n.length;r++)if(t.regex_timer_chapter.test(n[r]))return n[r].substring(1);return-1}},{key:"time_callbacks",value:function(t){console.info("time_callbacks #"+t+"s");for(var e=document.getElementsByClassName("time_current"),n=0;n<e.length;n++)e[n].classList.remove("time_current");for(e=document.getElementsByClassName("t"+t),n=0;n<e.length;n++)e[n].classList.add("time_current")}},{key:"processLoadPdf",value:function(t){document.getElementById("pdf").innerHTML="",document.getElementById("pdf").classList.add("hidden");var e=t.substring(0,t.length-3)+"pdf",n=new XMLHttpRequest,r=/[2-3]\d\d/;n.open(DOES_EXISTS_HTTP_WORD,e),n.send(),n.onload=function(){if((n.status+"").match(r)){var t='<object data="'.concat(e,'" type="application/pdf" width="100%" height="100%">\n            <iframe src="').concat(e,'" style="border: none;" width="100%" height="100%">\n              This browser does not support PDFs. Please download the PDF to view it: <a href="').concat(e,'">Download PDF</a>\n            </iframe>\n          </object>');document.getElementById("pdf").innerHTML=t,document.getElementById("pdf").classList.remove("hidden")}}}},{key:"displayHash",value:function(){document.getElementById("hash").innerHTML="hash : "+o.uuidMinimal()}},{key:"listPodcasts",value:function(t){t.then((function(){var t="";o.jsonPlaylist.forEach((function(e){t+='<div class="podcast_box">\n          <div class="podcast">\n            <a href=\'index.html?podcast='.concat(e.key,"&title=").concat(encodeURI(e.meta.podcast_title),"' class='podcast_link' alt='").concat(e.meta.podcast_title,"'>\n              <img src='").concat(e.meta.cover_art_url,'\'alt="alt title" class="podcast_cover_art"/>\n              <span class=\'podcast_title\'>').concat(e.meta.podcast_title,"</span>\n            </a>\n          </div>\n        </div>")})),document.getElementById("podcasts").innerHTML=t}))}}],(n=null)&&l(e.prototype,n),r&&l(e,r),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}u=p,c="regex_timer_chapter",d=RegExp("^t\\d+$"),c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d;var y=n(1),m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"init",value:function(t){y.init({bindings:{37:"prev",39:"next",32:"play_pause"},songs:t,callbacks:{loadstart:function(){p.run(y.getConfig())}}})}},{key:"bindUi",value:function(){window.onkeydown=function(t){return!(32==t.keyCode)},document.getElementsByClassName("down-header")[0].addEventListener("click",(function(){document.getElementById("list").style.height=parseInt(document.getElementById("flat-black-player-container").offsetHeight)-135+"px",document.getElementById("list-screen").classList.remove("slide-out-top"),document.getElementById("list-screen").classList.add("slide-in-top"),document.getElementById("list-screen").style.display="block"})),document.getElementsByClassName("hide-playlist")[0].addEventListener("click",(function(){document.getElementById("list-screen").classList.remove("slide-in-top"),document.getElementById("list-screen").classList.add("slide-out-top"),document.getElementById("list-screen").style.display="none"})),document.getElementById("song-played-progress").addEventListener("click",(function(t){var e=this.getBoundingClientRect(),n=t.pageX-e.left;y.setSongPlayedPercentage(parseFloat(n)/parseFloat(this.offsetWidth)*100)})),document.querySelector('img[data-amplitude-song-info="cover_art_url"]').style.height=document.querySelector('img[data-amplitude-song-info="cover_art_url"]').offsetWidth+"px"}}],(n=null)&&h(e.prototype,n),r&&h(e,r),t}(),g=new URLSearchParams(window.location.search);o.loadJsonPlaylists(PLAYLIST_URL).then((function(t){Promise.resolve(t).then((function(){for(var t=null,e=0;e<o.jsonPlaylist.length;e++)o.jsonPlaylist[e].key===g.get("podcast")&&(t=o.jsonPlaylist[e].url);t?o.loadJsonPodcast(t).then((function(t){Promise.all(t).then((function(){return o.initiateSongs()})).then((function(t){document.getElementById("playerwrapper").classList.remove("hidden"),document.getElementById("header_h1_back").classList.remove("hidden"),p.processInitiatePlaylist(t.length),m.bindUi(),m.init(t)}))})):(document.getElementById("podcasts").classList.remove("hidden"),p.listPodcasts(o.getPlaylistPopulated()),document.getElementById("hash").classList.remove("hidden"),p.displayHash())}))}))}]);